{"version":3,"sources":["componentes/Chat/Miniatura.png","componentes/Estilos.js","Estados/AplicacionEstado.js","componentes/Inicio/Inicio.js","componentes/Estrellas.js","componentes/AlertaMensaje.js","componentes/Publicacion/ProveedorInfo.js","componentes/Publicacion/ReportarPublicacion.js","componentes/Publicacion/PublicacionInfo.js","componentes/Publicacion/Opiniones.js","componentes/SeleccionarServicio.js","componentes/ContactarProveedor.js","componentes/Publicacion/Publicacion.js","componentes/Sesion/InicioSesion.js","componentes/Notificaciones/NotificacionesNav.js","componentes/Nav.js","componentes/Footer.js","componentes/Categoria/Filtro.js","componentes/AlertaSi_No.js","componentes/Categoria/FilaPublicacion.js","componentes/Categoria/Categoria.js","componentes/SubirImagen.js","componentes/Sesion/Registrar.js","componentes/Proveedor/ModificarPerfilProveedor.js","componentes/Proveedor/MiPerfil.js","componentes/Publicacion/CrearPublicacion.js","componentes/GestionAdministrador/GestionarReportes.js","componentes/GestionAdministrador/VerificarIdentidad.js","componentes/GestionAdministrador/PestanaReportes.js","componentes/Publicacion/MisPublicaciones.js","componentes/Footer/PreguntasFrecuentes.js","componentes/Footer/SobreNosotros.js","Estados/CategoriaEstado.js","componentes/Proveedor/VerificarMiIdentidad.js","componentes/Notificaciones/RealizarOpinion.js","componentes/Notificaciones/Notificaciones.js","componentes/Chat/ComponentesChat/PhotoMessage/PhotoMessage.js","componentes/Chat/ComponentesChat/FileMessage/FileMessage.js","componentes/Chat/ComponentesChat/SystemMessage/SystemMessage.js","componentes/Chat/ComponentesChat/LocationMessage/LocationMessage.js","componentes/Chat/ComponentesChat/SpotifyMessage/SpotifyMessage.js","componentes/Chat/ComponentesChat/ReplyMessage/ReplyMessage.js","componentes/Chat/ComponentesChat/Avatar/Avatar.js","componentes/Chat/ComponentesChat/MeetingMessage/MeetingMessage.js","componentes/Chat/ComponentesChat/MessageBox/MessageBox.js","componentes/Chat/ComponentesChat/ChatItem/ChatItem.js","componentes/Chat/ComponentesChat/ChatList/ChatList.js","componentes/Chat/ComponentesChat/MessageList/MessageList.js","componentes/Chat/ComponentesChat/Input/Input.js","componentes/Chat/ComponentesChat/Button/Button.js","componentes/Chat/ComponentesChat/Navbar/Navbar.js","componentes/Chat/ComponentesChat/Dropdown/Dropdown.js","componentes/Chat/ComponentesChat/SideBar/SideBar.js","componentes/Chat/ComponentesChat/Popup/Popup.js","componentes/Chat/ComponentesChat/MeetingItem/MeetingItem.js","componentes/Chat/ComponentesChat/MeetingList/MeetingList.js","componentes/Chat/Chat.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Estilos","makeStyles","theme","mostrarFlex","display","justifyContent","alignItems","flexWrap","padding","fondo","minHeight","proveedorSticky","position","top","marginBottom","marginTop","margenArriba","padding2","filaPublicacion","background","imagenPublicacion","borderRadius","objectFit","border","width","height","margin","gridRegistro","maxWidth","inputAncho","papelFondo","boxShadow","shadows","spacing","backgroundColor","pantallaMedia","minWidth","botonFijo","left","transform","zIndex","button","textTransform","margenAuto","reporte","botonesNav","textDecoration","color","palette","secondary","main","EstiloMovil","EstiloPC","EstiloLink","contrastText","EstiloVacio","Categoria","paddingTop","BotonSolicitar","BotonSolicitarMovil","estadoInicial","servidor","window","location","origin","jwt","publico","guardar","imagen_predeterminada","datosSesion","apellido","blocked","confirmed","created_at","descripcion","dni","email","estado","fecha_creacion","id","mostrar_telefono","nombre","permiso","provider","role","name","description","type","telefono","tipo","ubicacion","updated_at","username","identidad_verificada","imagenes_dni","reducer","state","action","valor","value","ObtenerEstadoAplicacion","createContext","ProveerEstadoAplicacion","children","useReducer","dispatch","Provider","Inicio","classes","useState","categorias","setcategorias","cargando","setcargando","useContext","useEffect","axios","get","then","response","data","catch","error","alert","console","log","className","Paper","elevation","style","Typography","component","variant","align","Grid","container","justify","map","cat","i","item","sm","md","lg","key","to","IconButton","src","imagen","formats","thumbnail","url","fontSize","Puntuacion","clickeable","cambiarValor","Rating","onChange","readOnly","precision","Alerta","props","AlertaMensaje","mensaje","setabrir","abrir","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","ProveedorInfo","esDePerfil","datosPerfil","copiado","setcopiado","titulo","servicios","pausado","bloqueado","DatosPerfil","setDatosPerfil","perfil","ids_categorias","servicio","categoria","ids_consultas","buscarCategorias","direction","xs","alt","imagen_perfil","hidden","Hidden","xlDown","Tooltip","title","Alert","Divider","List","aria-labelledby","subheader","ListSubheader","Categorias","length","href","startIcon","Phone","onClick","aux","document","createElement","setAttribute","body","appendChild","select","execCommand","removeChild","copiarAlPortapapeles","setOpen","ListItem","ListItemText","primary","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","disablePadding","ReportarPublicacion","solicitud","abrirAlerta","motivos","setmotivos","motivosSeleccionados","setmotivosSeleccionados","setdescripcion","setmensaje","ComprobarReporte","auth","fecha","Date","reporte_conjunto","motivo","getDate","getMonth","getFullYear","put","headers","post","motivo_","Solicitud_id","Usuario_id","accion","Modal","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","FormGroup","required","FormControlLabel","control","Checkbox","Motivo","esta","some","filter","arreglo","seleccionarMotivo","label","TextField","e","target","multiline","LinearProgress","disabled","size","PublicacionInfo","datosPagina","imagenes","setimagenes","precio","estrella","DatosPagina","setDatosPagina","img","original","precio_estimado","Breadcrumbs","separator","aria-label","items","Opiniones","datos","opiniones","setopiniones","promedioEstrellas","setpromedioEstrellas","servicio_id","total","opi","recomendacion","register","number","index","totalSec","opinion","Resena","square","votos_positivos","votos_negativos","Chip","format","SeleccionarServicio","agregarSeleccionado","hecho_noHecho","setHecho_noHecho","seleccionado","seleccion","setSeleccion","React","clickable","icon","BotonContratar","fijo","setcategoria","arregloCategorias","setarregloCategorias","arrCat","hasOwnProperty","push","IDS","botonNoF","Mail","form","onSubmit","preventDefault","cat_selecc","cat_","noleido_emisor","noleido_receptor","emisor","receptor","idP","idS","peticion","contenido","enviado_por","chat","FormControl","fullWidth","InputLabel","Select","labelId","MenuItem","Publicacion","useParams","setdatosPerfil","setdatosPagina","Categoria_id","Servicio_id","obtenerUsuario","Container","IniciarSesion","alerta","setalerta","pwd_olvidada","setpwd_olvidada","contrasena","setdatos","cambiarInput","campo","Link","identifier","password","user","localStorage","setItem","JSON","stringify","err","parse","request","message","messages","NotificacionesNav","plegarNoti","notificaciones","noti","datos_notificacion","PrimarySearchAppBar","history","useHistory","despPerf","setdespPerf","despMenu","setdespMenu","despNoti","setdespNoti","traerNotificaciones","settraerNotificaciones","tipoUsuario","setTipoUsuario","setnotificaciones","mensajesnoleidos","setmensajesnoleidos","sesion","getItem","sesionObjeto","chats_","cantidad","chat_","mensajesNoleidos","reverse","plegarPerfil","plegarMenu","flexGrow","AppBar","Toolbar","fontFamily","alignContent","currentTarget","Badge","badgeContent","Notifications","Menu","anchorEl","keepMounted","Boolean","Chat","edge","aria-haspopup","AccountCircle","ListItemIcon","PriorityHigh","hambur","Footer","contactanos","setcontactanos","bottom","Facebook","Instagram","Filtro","tipoPublicacion","settipoPublicacion","buscarServicios","inputBusqueda","setinputBusqueda","settipo","Card","CardContent","checked","onKeyDown","funcionAceptar","boole","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","FilaPublicacion","contactar","buscarSolicitudes","resenas","precioPresupuesto","setPrecioPresupuesto","noMostrar","setnoMostrar","preguntarPausa","setpreguntarPausa","preguntarEliminar","setpreguntarEliminar","promedio","setpromedio","estrellas","x","undefined","resena","proveedor","Pausa","prevState","delete","overflow","textOverflow","textJustify","WebkitLineClamp","serviciosSeleccionados","setServiciosSeleccionados","setservicios","solicitudes","setsolicitudes","resenas_servicio","setresenas_servicio","filtro","ids_","servicio_","servicios_resena","serv_","encontrado","elemento","SingleFileAutoSubmit","funcionSetImagen","ids","archivos","setarchivos","archivosSubidos","setarchivosSubidos","dat","file","imagenUrl","fetch","res","arrayBuffer","buf","File","arch","hacerArchivo","Fragment","getUploadParams","meta","onChangeStatus","status","maxFiles","initialFiles","multiple","maxSizeBytes","canCancel","accept","inputWithFilesContent","inputContent","styles","dropzone","dropzoneActive","borderColor","Registrar","registrar","mensajeAlerta","setmensajeAlerta","tituloPagina","settituloPagina","ImagenPerfil","setImagenPerfil","imagenesBorradas","setimagenesBorradas","imagenesSubidas","setimagenesSubidas","usuario","contrasena_rep","soyProveedor","setSoyProveedor","subirImagen","_id_","archivosNuevos","archivosBorrados","indx","Number","formData","FormData","append","usr","search","espera_verificacion","setTimeout","enviarPut","SubirImagen","subidas","f","OkProveedor","controlGuardar","setcontrolGuardar","setserviciosSeleccionados","pasarImagenes","pasar","imagenes_proveedor","itemserv","servicioSesion","cambiarCheckbox","subirImagenes","datos_ayuda","alinearInputs","j","k","MiPerfil","CrearPublicacion","modificar","setTitulo","modificarInput","report","modificarBloqueadoReporte","estaServicio","servicios_id","maxLength","categoriaSeleccionada","servicioSeleccionado","serv","botones","GestionarReportes","estadoReporte","reportes","modificarReporte","Reporte","split","DesplegarInformacion","setaccion","actualizarReporte","notificacion","Administrador_id","cambiarVariableBloqueado","bool","ruta","_id","FormLabel","RadioGroup","row","Radio","enviarDatos","aceptado","datosNoti","leido","esRespuesta","ParteNuevos","ParteEspera_Historial","notif","VerificarIdentidad","usuariosVerificar","setusuariosVerificar","actualizarUsuario","usuario_id","Solicitud","images","thumbnailWidth","thumbnailHeight","TabPanel","other","Box","p","a11yProps","useStyles","root","paper","backdrop","drawer","PestanaReportes","setValue","setreportes","Tabs","newValue","scrollButtons","indicatorColor","textColor","Tab","CircularProgress","MisPublicaciones","setTituloPagina","PreguntasFrecuentes","pregunta","respuesta","informacion","fila","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","SobreNosotros","initialState","estadoEditado","VerificarMiIdentidad","DNI","setDNI","ImagenDNI","setImagenDNI","imgs","i_dni","guardarDatos","String","RealizarOpinion","eliminarNotificacion","valorEstrella","setValorEstrella","settitulo","seleccInic","servicios_","yaEsta","srv_","seleccionarServicio","iconos","id_","definirLeido","red","Circle","require","PhotoMessage","progressOptions","strokeWidth","trailColor","trailWidth","step","circle","path","Math","round","setText","this","uri","onOpen","onLoad","onError","onPhotoError","download","click","onDownload","loading","progress","options","initialAnimate","containerClassName","text","Component","defaultProps","FileMessage","Function","bind","classNames","SystemMessage","LocationMessage","center","replace","latitude","longitude","markerColor","zoom","apiKey","buildURL","mapURL","staticURL","SpotifyMessage","formBody","view","property","encodedKey","encodeURIComponent","encodedValue","join","toUrl","frameBorder","allowtransparency","ReplyMessage","photoURL","titleColor","loadedAvatars","Avatar","requestImage","_isMounted","indexOf","self","loaded","setState","onload","onerror","str","hash","charCodeAt","colour","toString","substr","isLazyImage","lazyLoadingImage","isLoaded","letterItem","stringToColour","letter","sideElement","MeetingMessage","toogle","date","dateString","subject","collapseTitle","dataSource","participants","onMeetingTitleClick","onMeetingVideoLinkClick","PARTICIPANT_LIMIT","participantsLimit","dateText","isNaN","toggleClick","slice","avatar","avatars","record","time","savedBy","avatarFlexible","onAvatarError","MessageBox","nextProps","focus","refs","scrollIntoView","block","behavior","onMessageFocused","positionCls","thatAbsoluteTime","test","ref","renderAddCmp","notch","onContextMenu","forwarded","onForwardClick","replyButton","onReplyClick","onTitleClick","reply","onReplyMessageClick","meeting","onMeetingMessageClick","copiableDate","data-text","xmlns","viewBox","d","y","result","dx","dy","stdDeviation","in2","mode","ChatItem","statusColorType","statusColor","statusText","subtitle","unread","ChatList","cmpRef","MessageList","scrollBottom","downButton","loadRef","onScroll","mlistRef","toBottomHeight","scrollTop","scrollHeight","lockable","offsetHeight","getBottom","checkScroll","onDownButtonClick","toBottom","downButtonBadge","Input","maxlength","onMaxLengthExceed","input","substring","autoHeight","maxHeight","FAKE_EVENT","autofocus","leftButtons","inputRef","placeholder","defaultValue","inputStyle","onCopy","onCut","onPaste","onBlur","onFocus","onSelect","onReset","onKeyPress","onKeyUp","rightButtons","Button","buttonRef","float","Navbar","right","Dropdown","show","buttonProps","animationType","animationPosition","onMouseDown","Object","SideBar","Popup","renderHeader","header","headerButtons","renderContent","renderFooter","footerButtons","MeetingItem","AVATAR_LIMIT","avatarLimit","subjectLimit","onShareClick","closable","onCloseClick","onMeetingClick","MeetingList","chats","setchats","mensajes","setmensajes","chatSeleccionado","setchatSeleccionado","confirmacion","setconfirmacion","deshabilitado","setdeshabilitado","setcontenido","atras","setatras","agregarMensaje","img_emisor","img_receptor","obj_noleido","vari","msjs","img_categoria","img_solicitud","sort","a","b","getTime","obj_leido","actualizarMensajes","StarRate","shiftKey","charCode","createMuiTheme","TemaServia","App","setaux","ThemeProvider","CssBaseline","exact","isLocalhost","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","Inicial","ReactDOM","render","getElementById","URL","process","addEventListener","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a0579a2d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Miniatura.f4e4e06b.png\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst Estilos = makeStyles((theme) => ({\r\n    mostrarFlex: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        padding: 10,\r\n    },\r\n    fondo:{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        padding: 10, \r\n        minHeight:\"calc(100vh - 130px)\",\r\n    },\r\n    proveedorSticky:{\r\n        display: 'scroll',\r\n        position: 'sticky',\r\n        top: 10,\r\n        flexWrap: 'wrap',\r\n        marginBottom: 10,\r\n        marginTop:10\r\n    },\r\n    margenArriba:{\r\n        marginTop: 10,\r\n    },\r\n    padding:{\r\n        padding: 20\r\n    },\r\n    padding2:{\r\n        padding: 10\r\n    },\r\n    filaPublicacion:{\r\n        padding: 10,\r\n        marginTop: 10,\r\n        background: \"rgba(214, 215, 204, 100)\"\r\n    },\r\n    imagenPublicacion:{\r\n        borderRadius: \"6px\",\r\n        objectFit: \"cover\",\r\n        border: \"1px solid #000\",\r\n        width: 170,\r\n        height: 170,\r\n        margin: \"auto\",\r\n        marginBottom: 15,\r\n        marginTop: 15\r\n    },\r\n    gridRegistro:{\r\n        maxWidth:550, \r\n        padding: 20,\r\n        marginBottom: 10,\r\n    },\r\n    inputAncho:{\r\n        width: \"100%\",\r\n    },\r\n    papelFondo:{\r\n        border: '1px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        backgroundColor: \"#d7d6d9\"//theme.palette.secondary.dark\r\n    },\r\n    pantallaMedia:{\r\n        maxWidth: 800, \r\n        minWidth: 360,\r\n    },\r\n    botonFijo: {\r\n        display: \"scroll\",\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"calc(100% - 80px)\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: 100\r\n    },\r\n    button:{\r\n        textTransform: \"none\"\r\n    },\r\n    margenAuto:{\r\n        margin: \"auto\"\r\n    },\r\n    reporte:{\r\n        padding: 10,\r\n        marginTop: 10,\r\n    },\r\n    botonesNav:{\r\n        textDecoration:\"none\",\r\n        color: theme.palette.secondary.main,\r\n        display: 'inline',\r\n        '@media (max-width:1075px)': {\r\n          display: 'none',\r\n        },\r\n    },\r\n    EstiloMovil:{\r\n        display: 'none',\r\n        '@media (max-width:1075px)': {\r\n            display: 'inline',\r\n        },\r\n    },\r\n    EstiloPC:{\r\n    display: 'inline',\r\n    '@media (max-width:1075px)': {\r\n        display: 'none',\r\n    },\r\n    },\r\n    EstiloLink:{\r\n        textDecoration:\"none\",\r\n        color: theme.palette.secondary.contrastText\r\n    },\r\n    EstiloVacio:{\r\n        \r\n    },\r\n    Categoria: {\r\n        width:100,\r\n        height:100,\r\n        padding:0,\r\n        margin:\"auto\",\r\n        paddingTop:20\r\n    },\r\n    BotonSolicitar:{\r\n        display: 'inline',\r\n        '@media (max-width:1075px)': {\r\n            display: 'none',\r\n        },\r\n        position: \"absolute\",\r\n        left: \"90%\",\r\n        top: \"35px\",\r\n        transform: \"translate(-70%, -50%)\",\r\n        zIndex: 1000,\r\n        width: \"195px\",\r\n    },\r\n    BotonSolicitarMovil:{\r\n        display: 'none',\r\n        '@media (max-width:1075px)': {\r\n            display: 'inline',\r\n        },\r\n        position: \"absolute\",\r\n        left: \"90%\",\r\n        top: \"35px\",\r\n        transform: \"translate(-70%, -50%)\",\r\n        zIndex: 1000,\r\n    },\r\n    \r\n}));\r\n\r\nexport default Estilos;","import React, { useReducer, useEffect, createContext} from \"react\";\r\n//window.location.origin\r\n//import Icono from '/Icono3.png'\r\nconst estadoInicial = {\r\n    servidor: window.location.origin,\r\n    jwt:\"\",\r\n    publico: false,\r\n    guardar: false,\r\n    imagen_predeterminada: \"/IconoV3.png\",\r\n    datosSesion:{\r\n        apellido: \"\",\r\n        blocked: \"\",\r\n        confirmed: false,\r\n        created_at: \"\",\r\n        descripcion: \"\",\r\n        dni: \"\",\r\n        email: \"\",\r\n        estado: false,\r\n        fecha_creacion: \"\",\r\n        id: null,\r\n        mostrar_telefono: false,\r\n        nombre: \"\",\r\n        permiso: 0,\r\n        provider: \"local\",\r\n        role: {\r\n            id: 1, name: \"Authenticated\", \r\n            description: \"Default role given to authenticated user.\", \r\n            type: \"authenticated\"\r\n        },\r\n        telefono: \"\",\r\n        tipo: 0,\r\n        ubicacion: \"\",\r\n        updated_at: \"\",\r\n        username: \"\",\r\n        identidad_verificada: false,\r\n        imagenes_dni: []\r\n    }\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    let valor = action.value;\r\n\r\n    switch (action.type) {\r\n        case \"setDatos\":\r\n            return {...state, datosSesion: valor};\r\n        case \"setJwt\":\r\n            return {...state, jwt: valor};\r\n        case \"setGuardar\":\r\n            return {...state, guardar: valor};\r\n        case \"setPublico\":\r\n            return {...state, publico: valor};\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n\r\nconst ObtenerEstadoAplicacion = createContext(estadoInicial);\r\n\r\nfunction ProveerEstadoAplicacion({ children }) {\r\n    const [state, dispatch] = useReducer(reducer, estadoInicial);\r\n\r\n    return (\r\n        <ObtenerEstadoAplicacion.Provider value={{ state, dispatch }}>\r\n            {children}\r\n        </ObtenerEstadoAplicacion.Provider>\r\n    );\r\n}\r\n\r\nexport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion };\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\nimport {Link} from \"react-router-dom\";\r\n//Material UI\r\nimport {Typography, Paper, Avatar, Grid, IconButton} from '@material-ui/core/'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nimport Estilos from '../Estilos';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nexport default function Inicio({tipo}) {\r\n  const classes = Estilos();\r\n  const [categorias, setcategorias] = useState([])\r\n  const [cargando, setcargando] = useState(false)\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  \r\n  useEffect(()=>{\r\n    if (state.jwt!==\"\" || state.publico===true){\r\n      setcargando(true)\r\n      buscarCategorias()\r\n    }\r\n  },[state.jwt, state.publico])\r\n  \r\n  function buscarCategorias(){\r\n    axios.get(state.servidor+\"/api/categorias\")\r\n    .then(response => {\r\n      setcategorias(response.data)\r\n      setcargando(false)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n      console.log(error.response)\r\n    }) \r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo} >\r\n      <Paper elevation={3} className=\"Fondo\" style={{width:\"85%\"}}>      \r\n        <Typography component=\"h3\" variant=\"h3\" align=\"center\">Servia</Typography>\r\n        <Typography component=\"h4\" variant=\"h5\" align=\"center\">{tipo?\"Encuentra tu servicio ideal!\":\"Contacta con personas que buscan tu ayuda!\"}</Typography>\r\n        \r\n        \r\n        {\r\n          //Cuando cargando es true (seteado al momento de empezar a realizar la bsqueda de las categoras), nos muestra el componente de carga,\r\n          //y desaparece cuando cambia a false (seteado al finalizar la bsqueda de los datos)\r\n          cargando && <Cargando style={{margin:\"15px\"}}/>\r\n        }\r\n        <hr/>\r\n        <Grid container spacing={5} justify=\"space-around\" alignItems=\"center\">\r\n          {\r\n            categorias.map((cat, i) => (\r\n              <Grid item sm={4} md={3} lg={2} key={i} align=\"center\">\r\n                {\r\n                  <Link to={tipo?\"/publicaciones/\"+cat.id:\"/servicios-solicitados/\"+cat.id} className={classes.EstiloLink}>\r\n                    <Typography align=\"center\">{cat.nombre}</Typography>\r\n                    <IconButton>\r\n                      <Avatar style={{width:\"100px\", height:\"100px\"}} src={state.servidor+cat.imagen.formats.thumbnail.url} color=\"secondary\" fontSize=\"inherit\"/>\r\n                    </IconButton>\r\n                  </Link>\r\n                }\r\n              </Grid>\r\n            ))\r\n          }\r\n          </Grid>\r\n          <hr/>\r\n          {cargando && <br/>}\r\n        </Paper>\r\n    </div>\r\n  );\r\n}","import React,{useState} from 'react';\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\nimport Estilos from './Estilos.js'\r\n\r\nexport default function Puntuacion({valor, clickeable, cambiarValor}) {\r\n    const classes = Estilos();\r\n    \r\n    return (\r\n        <div className={classes.mostrarFlex}>\r\n            <Rating name=\"half-rating\" onChange={cambiarValor} readOnly={!clickeable} value={valor} precision={0.5} />\r\n        </div>\r\n    );\r\n}","import React from 'react'\r\nimport Estilos from './Estilos.js';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nfunction Alerta(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nexport default function AlertaMensaje({mensaje, setabrir, abrir}) {\r\n    const classes = Estilos();\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setabrir(false);\r\n    };\r\n    \r\n    return (\r\n       <div>\r\n           <Grid container>\r\n                <Snackbar open={abrir} autoHideDuration={4000} onClose={handleClose}>\r\n                    <Alerta onClose={handleClose} severity=\"success\">\r\n                        {mensaje}\r\n                    </Alerta>\r\n                </Snackbar>\r\n            </Grid>\r\n       </div>\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport {Hidden, Paper, Grid, Typography, Avatar, Divider, Button, ListSubheader, List, ListItem, ListItemText, Tooltip, Collapse, IconButton} from '@material-ui/core';\r\nimport axios from 'axios'\r\nimport { Link  } from 'react-router-dom';\r\n\r\nimport {Phone as PhoneIcon, FileCopy as Copiar, ExpandLess, ExpandMore, CheckCircleOutline as Verificado} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport Estrellas from '../Estrellas.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function ProveedorInfo({esDePerfil, datosPerfil}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [categorias, setcategorias] = useState([])\r\n  const [copiado, setcopiado] = useState(false)\r\n\r\n  const [DatosPerfil, setDatosPerfil] = useState({\r\n    id: null,\r\n    descripcion:\"\",\r\n    titulo:\"\",\r\n    identidad_verificada: false,\r\n    telefono: \"\",\r\n    mostrar_telefono: false,\r\n    servicios: [],\r\n    pausado: false,\r\n    bloqueado: false,\r\n\r\n  })\r\n\r\n  useEffect(()=>{\r\n  if (state.jwt!==\"\" || state.publico===true)\r\n    if(datosPerfil!==null){\r\n      setDatosPerfil(datosPerfil)\r\n      buscarCategorias(datosPerfil)\r\n    }\r\n    console.log(\"Datos: \", datosPerfil)\r\n  },[datosPerfil])\r\n\r\n  function buscarCategorias(perfil){\r\n    let ids_categorias = perfil.servicios.map((servicio) =>(servicio.categoria))\r\n    let ids_consultas = \"\"\r\n\r\n    ids_categorias.map((id)=>{\r\n      ids_consultas+=\"id_in=\"+id+\"&\"\r\n    })\r\n\r\n    axios.get(\r\n      state.servidor+\"/api/categorias?\"+ids_consultas\r\n    )\r\n    .then(response => {\r\n      setcategorias(response.data)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n      console.log(error.response)\r\n    }) \r\n  }\r\n\r\n  function copiarAlPortapapeles(telefono) {\r\n    // Crea un campo de texto \"oculto\"\r\n    var aux = document.createElement(\"input\");\r\n    // Asigna el contenido del elemento especificado al valor del campo\r\n    aux.setAttribute(\"value\", telefono);\r\n    // Aade el campo a la pgina\r\n    document.body.appendChild(aux);\r\n    // Selecciona el contenido del campo\r\n    aux.select();\r\n    // Copia el texto seleccionado\r\n    document.execCommand(\"copy\");\r\n    // Elimina el campo de la pgina\r\n    document.body.removeChild(aux);\r\n    setcopiado(true)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.proveedorSticky}>\r\n      <Paper elevation={5}>\r\n        <Grid className={classes.padding} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n            <Grid item xs={12} className={esDePerfil?classes.EstiloPC:classes.EstiloVacio}>\r\n              <Avatar\r\n              alt=\"Perfil\"\r\n              src={DatosPerfil.imagen_perfil!==null?state.servidor+DatosPerfil.imagen_perfil:state.imagen_predeterminada}\r\n              className={classes.imagenPublicacion}/>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} hidden={esDePerfil}>\r\n              <Typography variant=\"h5\" component=\"h3\" align=\"center\">\r\n                <Link to={\"/perfil-proveedor/\"+DatosPerfil.id} className={classes.EstiloLink}>\r\n                  {DatosPerfil.titulo}\r\n                  <Hidden xlDown={!DatosPerfil.identidad_verificada}>\r\n                    <Tooltip title=\"Usuario verificado\">\r\n                      <IconButton><Verificado color=\"primary\"/></IconButton>\r\n                    </Tooltip>\r\n                  </Hidden>\r\n                </Link>\r\n              </Typography>\r\n           </Grid>\r\n\r\n           <Grid item xs={12} hidden={esDePerfil}>\r\n           {\r\n              DatosPerfil.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n                Este proveedor ha pausado sus servicios.\r\n              </Alerta>)\r\n            }\r\n            {\r\n              DatosPerfil.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n                Este proveedor se encuentra bloqueado.\r\n              </Alerta>)\r\n            }\r\n            </Grid>\r\n\r\n           <Grid item xs={12} hidden={esDePerfil}>\r\n              <Divider/> \r\n              <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                {DatosPerfil.descripcion}\r\n              </Typography>\r\n           </Grid>\r\n            \r\n           <Grid item xs={12}>\r\n                <Divider/> \r\n                <List\r\n                component=\"nav\"\r\n                aria-labelledby=\"nested-list-subheader\"\r\n                subheader={\r\n                    <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n                        Servicios ofrecidos\r\n                    </ListSubheader>\r\n                }\r\n                >\r\n                    <Divider/>\r\n                    {\r\n                      categorias.map((categoria, i)=>(\r\n                        <Categorias key={i} categoria={categoria} /> \r\n                      ))\r\n                    }\r\n                    <Divider/>\r\n                </List>         \r\n           </Grid>\r\n           <Hidden xlDown={!DatosPerfil.mostrar_telefono}>\r\n            {\r\n              DatosPerfil.telefono.length!==0 &&\r\n              <Grid item xs={12}>\r\n                <a className={classes.EstiloLink} href={\"tel:\"+DatosPerfil.telefono}>\r\n                  <Button startIcon={<PhoneIcon/>}>\r\n                    {DatosPerfil.telefono}\r\n                  </Button>\r\n                </a>\r\n                <Tooltip title=\"Copiar\">\r\n                  <IconButton onClick={()=>copiarAlPortapapeles(DatosPerfil.telefono)}><Copiar/></IconButton>\r\n                </Tooltip>\r\n              </Grid>\r\n            }\r\n            <AlertaMensaje mensaje={\"Copiado al portapapeles\"} abrir={copiado} setabrir={setcopiado}/>\r\n           </Hidden>\r\n        </Grid>\r\n      </Paper>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Categorias({categoria}) {\r\n    const classes = Estilos();\r\n    const [open, setOpen] = useState(true);\r\n\r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary={categoria.nombre}/>\r\n                  <Estrellas clickeable={false} valor={3.3}/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <Divider/>\r\n                      {\r\n                        categoria.servicios.map((servicio, i) => (\r\n                          <Typography key={i} variant=\"h6\" component=\"h5\" align=\"left\">\r\n                            {servicio.nombre}\r\n                          </Typography>\r\n                        ))\r\n                      }\r\n                    <Divider/>\r\n                </List>\r\n            </Collapse>\r\n            \r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState, useContext} from 'react'\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {LinearProgress, Tooltip, FormGroup, FormControlLabel, Checkbox, Modal, Backdrop, Fade, Typography, TextField, Button, Hidden} from '@material-ui/core/';\r\nimport Reportar from '@material-ui/icons/PriorityHigh';\r\nimport Estilos from '../Estilos.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function ReportarPublicacion({esDePerfil, solicitud, abrirAlerta}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = useState(false);\r\n  const [motivos, setmotivos] = useState([{id: null, nombre: \"\",tipo: false}])\r\n  const [motivosSeleccionados, setmotivosSeleccionados] = useState([])\r\n  const [descripcion, setdescripcion] = useState(\"\")\r\n  const [abrir, setabrir] = useState(false)\r\n  const [cargando, setcargando] = useState(false)\r\n  const [mensaje, setmensaje] = useState(false);\r\n  const [reporteAnterior, setreporteAnterior] = useState([]);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setmotivosSeleccionados([])\r\n    setOpen(false);\r\n  };\r\n\r\n  function seleccionarMotivo(Motivo){\r\n    if(mensaje===true)\r\n      setmensaje(false)\r\n    let esta = motivosSeleccionados.some((motivo) => motivo.id===Motivo.id)\r\n    if(!esta){\r\n      setmotivosSeleccionados((arreglo)=>[...arreglo, {id:Motivo.id, nombre:Motivo.nombre}])\r\n    }else{\r\n      setmotivosSeleccionados(motivosSeleccionados.filter((motivo)=>motivo.id!==Motivo.id))\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(state.jwt!==\"\" || state.publico===true){\r\n      axios.get(state.servidor+\"/api/motivos?tipo=\"+esDePerfil)\r\n      .then(response => {\r\n        setmotivos(response.data)\r\n      })\r\n      .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })      \r\n    }\r\n  },[state.jwt, state.publico])\r\n\r\n  useEffect(() => {\r\n    console.log(solicitud)\r\n  }, [solicitud])\r\n\r\n  function ComprobarReporte(reporte){\r\n    let auth = 'Bearer '+state.jwt;\r\n\r\n    if(motivosSeleccionados.length!==0){\r\n      if(reporte.length!==0){\r\n        let fecha = new Date()\r\n        let reporte_conjunto = reporte[0]\r\n\r\n        reporte_conjunto.descripcion+=\"##Nuevo reporte (Motivos:\"+\r\n        motivosSeleccionados.map(motivo=>(\" \"+motivo.nombre))+\") del da \"\r\n        +fecha.getDate()+\"/\"+fecha.getMonth()+\"/\"+fecha.getFullYear()+\":\\n\"+descripcion\r\n        \r\n        axios.put(state.servidor+\"/api/reportes/\"+reporte_conjunto.id,{\r\n          descripcion: reporte_conjunto.descripcion\r\n        },\r\n          {headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(\"Se modifica el reporte\",response.data)\r\n          setmensaje(false)\r\n          handleClose()\r\n          setabrir(true)\r\n          setcargando(false)\r\n          setmotivosSeleccionados([])\r\n          setdescripcion(\"\")\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n          console.log(error.response)\r\n        })\r\n      }else{\r\n        axios.post(state.servidor+\"/api/reportes\",{\r\n          motivos: motivosSeleccionados.map(motivo_=>(motivo_.id)),\r\n          Solicitud_id: esDePerfil?null:solicitud.id,\r\n          Usuario_id: esDePerfil?solicitud.id:solicitud.Usuario_id.id,\r\n          accion: false,\r\n          estado: 0,\r\n          descripcion: descripcion.length!==0?descripcion:\"El usuario no ha proporcionado informacin adicional.\"\r\n        },{\r\n          headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setmensaje(false)\r\n          handleClose()\r\n          setabrir(true)\r\n          setcargando(false)\r\n          setmotivosSeleccionados([])\r\n          setdescripcion(\"\")\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n          console.log(error.response)\r\n        })\r\n      }\r\n    }else{\r\n      setcargando(false)\r\n      setmensaje(true)\r\n    }\r\n  }\r\n\r\n  function EnviarReporte(){\r\n    setcargando(true)\r\n    let auth = 'Bearer '+state.jwt;\r\n    console.log(solicitud)\r\n    if(!esDePerfil && solicitud.id!==null){\r\n      axios.get(state.servidor+\"/api/reportes?Solicitud_id=\"+solicitud.id+\"&estado=0\"\r\n        ,{headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        ComprobarReporte(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n    \r\n    if(esDePerfil && solicitud.id!==null){\r\n      axios.get(state.servidor+\"/api/reportes?Usuario_id=\"+solicitud.id+\"&estado=0\"\r\n        ,{headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        ComprobarReporte(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      {abrir && <AlertaMensaje mensaje=\"Se ha enviado su reporte correctamente!\" abrir={abrir} setabrir={setabrir}/>}\r\n      <Tooltip title={esDePerfil?\"Reportar proveedor de servicios\":\"Reportar publicacin\"}>\r\n        <Button\r\n            onClick={handleOpen}\r\n        ><Reportar/>\r\n        </Button>\r\n      </Tooltip>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition={true}\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.papelFondo}>\r\n            <Typography variant=\"h5\" component=\"h2\" align=\"center\">\r\n                Seleccione los motivos:\r\n            </Typography>\r\n            <FormGroup required>\r\n            {\r\n              motivos.map((motivo,i)=>(\r\n                <FormControlLabel\r\n                  key={i}\r\n                  control={\r\n                  <Checkbox\r\n                    variant=\"error\"\r\n                    onChange={()=>{seleccionarMotivo(motivo)}}\r\n                  />\r\n                  }\r\n                  label={motivo.nombre}\r\n                />\r\n              ))\r\n            }\r\n            </FormGroup>\r\n\r\n            <Hidden xlDown={!mensaje || cargando}>\r\n              <Typography color=\"error\">\r\n                Debe seleccionar un motivo.\r\n              </Typography>\r\n            </Hidden>\r\n\r\n            <TextField className={classes.inputAncho} onChange={(e)=>{setdescripcion(e.target.value)}} value={descripcion} id=\"filled-basic\" label=\"Informacion adicional\" variant=\"filled\" multiline/>\r\n            <br/>\r\n            {cargando && <LinearProgress color=\"secondary\"/>}\r\n            <Button disabled={cargando} className={classes.inputAncho} style={{marginTop:10}} size=\"large\" variant=\"contained\" color=\"primary\" onClick={EnviarReporte}>Enviar</Button>\r\n            \r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\n//Material-UI\r\nimport {Hidden, Paper, Grid, Typography, Breadcrumbs, Link, Avatar, Tooltip, IconButton} from '@material-ui/core/';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport Verificado from '@material-ui/icons/CheckCircleOutline';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport Estrellas from '../Estrellas.js';\r\nimport ReportarPublicacion from './ReportarPublicacion.js'\r\nimport Estilos from '../Estilos.js';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function PublicacionInfo({esDePerfil, datosPagina, abrirAlerta}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  \r\n  const [imagenes, setimagenes] = useState([])\r\n\r\n  const [DatosPagina, setDatosPagina] = useState({\r\n    id: null,\r\n    titulo:\"\",\r\n    precio:\"\",\r\n    categoria:\"\",\r\n    servicio:\"\",\r\n    estrella: 0,\r\n    descripcion:\"\",\r\n    imagenes:[\"\"],\r\n    pausado: false,\r\n    bloqueado: false,\r\n    Usuario_id: null,\r\n    imagen_perfil: \"\"\r\n  });\r\n\r\n  useEffect(()=>{\r\n  if (state.jwt!==\"\" || state.publico===true)\r\n    if(datosPagina!==null){\r\n      let img = datosPagina.imagenes.map((imagen)=>{\r\n        return ({\r\n          original: state.servidor+imagen.url,\r\n          thumbnail: state.servidor+imagen.url\r\n        })\r\n      })\r\n      setimagenes(img)\r\n      setDatosPagina({\r\n        id: datosPagina.id,\r\n        titulo: datosPagina.titulo,\r\n        categoria: datosPagina.categoria,\r\n        servicio: datosPagina.servicio,\r\n        estrella: 0,\r\n        descripcion: datosPagina.descripcion,\r\n        precio_estimado: datosPagina.precio_estimado,\r\n        tipo: datosPagina.tipo,\r\n        pausado: datosPagina.pausado,\r\n        imagenes: datosPagina.imagenes,\r\n        bloqueado: datosPagina.bloqueado,\r\n        Usuario_id: datosPagina.Usuario_id,\r\n        imagen_perfil: datosPagina.imagen_perfil\r\n      })\r\n    }\r\n},[datosPagina, state.jwt, state.publico])\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Paper elevation={5} >\r\n        <Grid className={classes.padding} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n            {\r\n              DatosPagina.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n                {DatosPagina.precio_estimado===\"perfil\"?\"Este proveedor ha pausado sus servicios.\":\"Esta publicacin se encuentra pausada.\"}\r\n              </Alerta>)\r\n            }\r\n            {\r\n              DatosPagina.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n                {DatosPagina.precio_estimado===\"perfil\"?\"Este proveedor se encuentra bloqueado.\":\"Esta publicacin se encuentra bloqueada.\"}\r\n              </Alerta>)\r\n            }\r\n            <Grid item lg={12} hidden={!esDePerfil} align=\"center\" className={esDePerfil?classes.EstiloMovil:classes.EstiloVacio}>\r\n              <Avatar\r\n              alt=\"Perfil\"\r\n              src={DatosPagina.imagen_perfil!==\"\"?state.servidor+DatosPagina.imagen_perfil:state.imagen_predeterminada}\r\n              className={classes.imagenPublicacion} />\r\n            </Grid>\r\n\r\n            <Grid item lg={4} md={4} sm={12} hidden={esDePerfil}>\r\n                <Typography variant=\"h6\" component=\"h3\" align=\"left\">\r\n                  {DatosPagina.tipo?\"Precio estimado:\":\"Presupuesto:\"} ${DatosPagina.precio_estimado}\r\n                </Typography>\r\n            </Grid>\r\n\r\n            <Grid hidden={esDePerfil} item lg={7} md={7} sm={11} align=\"right\">\r\n              <div align=\"right\">\r\n                <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\r\n                  <Typography color=\"inherit\">{DatosPagina.categoria}</Typography>\r\n                  {\r\n                    datosPagina.tipo &&\r\n                    <Typography color=\"inherit\">{DatosPagina.servicio}</Typography>\r\n                  }\r\n                </Breadcrumbs>\r\n                  </div>\r\n            </Grid>\r\n            \r\n            {state.publico===false && !esDePerfil && !DatosPagina.bloqueado &&\r\n              <Grid item lg={1} md={1} sm={1}>\r\n                <ReportarPublicacion esDePerfil={esDePerfil} solicitud={DatosPagina}/>\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={esDePerfil?11:12} sm={esDePerfil?11:12}>\r\n              <Typography variant=\"h5\" component=\"h1\" align=\"left\">\r\n                {DatosPagina.titulo}\r\n                {\r\n                  esDePerfil && <Hidden xlDown={!DatosPagina.identidad_verificada}><Tooltip title=\"Usuario verificado\">\r\n                    <IconButton><Verificado color=\"primary\"/></IconButton>\r\n                  </Tooltip></Hidden>\r\n                }\r\n              </Typography>\r\n            </Grid>\r\n\r\n            {state.publico===false && esDePerfil && !DatosPagina.bloqueado &&\r\n              <Grid item lg={1} md={1} sm={1}>\r\n                <ReportarPublicacion esDePerfil={esDePerfil} solicitud={DatosPagina}/>\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12}>\r\n              <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                {DatosPagina.descripcion}    \r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <ImageGallery items={imagenes.length===0?[{original: state.imagen_predeterminada,thumbnail: state.imagen_predeterminada}]:imagenes}/>\r\n            </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n    </div>\r\n  );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {Tooltip, Button, Typography, Paper, Grid, Chip} from '@material-ui/core/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport {ThumbUpAltTwoTone as Like, ThumbDownAltTwoTone as Dislike} from '@material-ui/icons';\r\n\r\nimport Estrellas from '../Estrellas.js';\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { format, register } from 'timeago.js';\r\n\r\nexport default function Opiniones({datos}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [opiniones, setopiniones] = useState([])\r\n    const [promedioEstrellas, setpromedioEstrellas] = useState(0)\r\n\r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico){  \r\n            if(datos.Usuario_id!==null){\r\n                axios.get(state.servidor+\"/api/resenas?proveedor=\"+datos.Usuario_id.id+\"&servicios=\"+datos.servicio_id)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n                    setopiniones(response.data)\r\n                    let total = 0;\r\n                    response.data.map(opi => {\r\n                        total+= opi.recomendacion\r\n                    })\r\n                    setpromedioEstrellas(total/(response.data.length))\r\n                })\r\n                .catch(error => {\r\n                    alert(\"Un error ha ocurrido al buscar la solicitud.\")\r\n                    console.log(error.response)\r\n                })\r\n            }\r\n        }\r\n    },[state.jwt, state.publico, datos])\r\n    //\r\n    const localeFunc = (number, index, totalSec) => {\r\n        // number: the timeago / timein number;\r\n        // index: the index of array below;\r\n        // totalSec: total seconds between date to be formatted and today's date;\r\n        return [\r\n        ['justo ahora', 'justo ahora'],\r\n        ['hace %s segundos', 'en %s segundos'],\r\n        ['hace 1 minuto', 'en 1 minuto'],\r\n        ['hace %s minutos', 'en %s minutos'],\r\n        ['hace 1 hora', 'en 1 hora'],\r\n        ['hace %s horas', 'en %s horas'],\r\n        ['hace 1 da', 'en 1 da'],\r\n        ['hace %s das', 'en %s das'],\r\n        ['hace 1 semana', 'en 1 semana'],\r\n        ['hace %s semanas', 'en %s semanas'],\r\n        ['hace 1 mes', 'en 1 mes'],\r\n        ['hace %s meses', 'en %s meses'],\r\n        ['hace 1 ao', 'en 1 ao'],\r\n        ['hace %s aos', 'en %s aos']\r\n        ][index];\r\n    };\r\n    register('spanish', localeFunc);\r\n\r\n    return (\r\n        <div className={classes.mostrarFlex}>\r\n        <Paper elevation={5}>\r\n            <Grid className={classes.padding} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h4\" component=\"h2\" align=\"left\">\r\n                        Reseas\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"center\" align=\"left\">\r\n                        {\r\n                            opiniones.length!==0 &&\r\n                            <><Estrellas clickeable={false} valor={promedioEstrellas}/> {`${promedioEstrellas} en base a ${opiniones.length} reseas hechas por otros usuarios.`}</>\r\n                        }\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    {\r\n                        opiniones.length===0 && <Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"info\">\r\n                        {\"Esta publicacin an no tiene reseas\"}\r\n                      </Alerta>\r\n                    }\r\n                    {\r\n                        opiniones.map((opinion, i)=>(\r\n                            <Resena opinion={opinion} key={i}/>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Resena({opinion}) {\r\n    const classes = Estilos();\r\n    return (\r\n        <Paper variant=\"outlined\" square>\r\n            <Grid className={classes.padding} container direction=\"row\" justify=\"space-around\" alignItems=\"baseline\">\r\n                <Grid item xs={6}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"left\">\r\n                        {opinion.titulo}\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <Estrellas clickeable={false} valor={opinion.recomendacion}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                        {opinion.descripcion}\r\n                    </Typography> \r\n                </Grid>\r\n                {\r\n                    true && <Grid item xs={4} align=\"left\">\r\n                        <Tooltip title=\"Me sirve\">\r\n                            <Button startIcon={<Like/>}>\r\n                                {opinion.votos_positivos}\r\n                            </Button>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"No me sirve\">\r\n                            <Button color=\"secondary\" startIcon={<Dislike/>}>\r\n                                {opinion.votos_negativos}\r\n                            </Button>\r\n                        </Tooltip>\r\n                    </Grid>\r\n                }\r\n                \r\n                    {\r\n                        opinion.servicios.map((servicio, i)=>(\r\n                            <Grid key={i} item xs={2} align=\"center\">\r\n                                <Chip variant=\"outlined\" label={servicio.nombre}/>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                    \r\n                <Grid item xs={2} align=\"right\">\r\n                    {format(new Date(opinion.created_at),\"spanish\")}\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n  }","import React from 'react';\r\nimport {useState} from 'react';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nimport Estilos from './Estilos.js';\r\n\r\nexport default function SeleccionarServicio({servicio, agregarSeleccionado}) {\r\n  const classes = Estilos();\r\n  const [hecho_noHecho, setHecho_noHecho] = useState((<div><ClearIcon/></div>));\r\n  const [seleccion, setSeleccion] = useState(servicio.seleccionado);\r\n\r\n\r\n  React.useEffect(()=>{\r\n    if(servicio.seleccionado===true){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(<div><DoneIcon/></div>);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(<div><ClearIcon/></div>);\r\n    }\r\n  },[])\r\n\r\n  const handleClick = () => {\r\n    agregarSeleccionado(!seleccion)\r\n    if(seleccion===false){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(<div><DoneIcon/></div>);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(<div><ClearIcon/></div>);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Chip clickable color=\"primary\" label={servicio.nombre} icon={hecho_noHecho} onClick={handleClick}/>\r\n    </div>\r\n  );\r\n}","import React,{useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {LinearProgress, Avatar, FormControl, Grid, Typography, TextField, Button, Modal, Fade, Backdrop, InputLabel, MenuItem, Select} from '@material-ui/core/';\r\nimport {Mail} from '@material-ui/icons';\r\n\r\n///Componentes\r\nimport AlertaMensaje from './AlertaMensaje.js';\r\nimport Estilos from './Estilos.js';\r\nimport CategoriaSeleccion from './CategoriaSeleccion.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nexport function BotonContratar({fijo, esDePerfil, datos}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [cargando, setcargando] = React.useState(false);\r\n  const [mensaje, setmensaje] = React.useState(\"\");\r\n  const [abrir, setabrir] = React.useState(false);\r\n  const [categoria, setcategoria] = useState({});\r\n  const [arregloCategorias, setarregloCategorias] = useState([]);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if (esDePerfil){\r\n      let cat = {}\r\n      let arrCat = []\r\n    datos.servicios.map((servicio)=>{\r\n      if(!cat.hasOwnProperty(servicio.categoria)){\r\n        cat[servicio.categoria] = servicio.categoria\r\n        arrCat.push(servicio.categoria)\r\n      }\r\n    })\r\n\r\n    let IDS = \"\"\r\n    arrCat.map((id)=>{\r\n      if(id!==null){\r\n          IDS+=\"id_in=\"+id+\"&\"\r\n      }\r\n    })\r\n        \r\n    let auth = 'Bearer '+state.jwt;\r\n    if(arrCat.length!==0){\r\n      axios.get(state.servidor+\"/api/categorias?\"+IDS,{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        setarregloCategorias(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar los chats.\")\r\n        console.log(error.response)\r\n      }) \r\n    }\r\n    }\r\n},[datos])\r\n\r\n\r\n  function enviarContacto(e){\r\n    setcargando(true)\r\n    let auth = 'Bearer '+state.jwt;\r\n    e.preventDefault()\r\n\r\n    if(state.jwt!==\"\"){\r\n      let cat_selecc = arregloCategorias.filter(cat_ => cat_.nombre === categoria)\r\n\r\n      axios.post(state.servidor+\"/api/chats/\",{\r\n        noleido_emisor: 0,\r\n        noleido_receptor: 1,\r\n        emisor: state.datosSesion.id,\r\n        receptor: datos.idP,\r\n        solicitud: datos.idS,\r\n        categoria: esDePerfil?cat_selecc[0].id:null,\r\n        peticion: false\r\n      },{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n\r\n        axios.post(state.servidor+\"/api/mensajes/\",{\r\n          contenido: mensaje,\r\n          enviado_por: true,\r\n          chat: response.data.id\r\n        },{\r\n          headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setabrir(true)\r\n          setOpen(false)\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar los chats.\")\r\n          console.log(error.response)\r\n        })\r\n        \r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar los chats.\")\r\n        console.log(error.response)\r\n      })\r\n    }else{\r\n      alert(\"Debes iniciar sesin para poder contactar al proveedor.\")\r\n      setcargando(false)\r\n    }\r\n  }\r\n\r\n    return (\r\n      <div>\r\n          <div className={fijo?classes.botonFijo:classes.botonNoF}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<Mail/>}\r\n              onClick={handleOpen}\r\n            >\r\n              Contactar\r\n            </Button>\r\n        </div>\r\n        <Modal\r\n          aria-labelledby=\"transition-modal-title\"\r\n          aria-describedby=\"transition-modal-description\"\r\n          className={classes.mostrarFlex}\r\n          open={open}\r\n          onClose={handleClose}\r\n          closeAfterTransition\r\n          BackdropComponent={Backdrop}\r\n          BackdropProps={{\r\n            timeout: 500,\r\n          }}\r\n        >\r\n          <Fade in={open} style={{padding:\"15px\"}}>\r\n            <div className={classes.papelFondo}>\r\n              <div style={{maxWidth:750}} className=\"Fondo\">\r\n              <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                  <Grid item xs={12}>\r\n                      <div align=\"center\">\r\n                          <Avatar\r\n                            alt=\"Perfil\"\r\n                            src={datos.imagen_perfil!==null?datos.imagen_perfil:state.imagen_predeterminada}\r\n                            className={classes.imagenPublicacion}/>\r\n                      </div>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                      <Typography variant=\"h5\" component=\"h2\" align=\"center\" className={classes.form}>\r\n                          {datos.nombre}\r\n                      </Typography>\r\n                  </Grid>\r\n\r\n                  <form onSubmit={enviarContacto} className={classes.inputAncho}>\r\n                    <FormControl color=\"primary\" fullWidth>\r\n                      {\r\n                        esDePerfil &&\r\n                        <Grid item xs={12}>\r\n                          \r\n                            <InputLabel id=\"categoria\" variant=\"filled\">Categora</InputLabel>\r\n                            <Select\r\n                                value={categoria}\r\n                                name=\"categoria\"\r\n                                onChange={(e)=>{setcategoria(e.target.value)}}\r\n                                id=\"categoria\"\r\n                                labelId=\"categoria\"\r\n                                variant=\"filled\"\r\n                                label=\"Categora\"\r\n                                className={classes.inputAncho}\r\n                                required>\r\n                                {\r\n                                  arregloCategorias.map((categoria, i)=>(\r\n                                    <MenuItem key={i} value={categoria.nombre}>{categoria.nombre}</MenuItem>\r\n                                  ))\r\n                                }\r\n                            </Select>\r\n                        \r\n                        </Grid>\r\n                      }\r\n                    \r\n                      <br/>\r\n                      <Grid item xs={12}>  \r\n                        <TextField\r\n                          onChange={(e)=>{setmensaje(e.target.value)}}\r\n                          className={classes.inputAncho}\r\n                          id=\"filled-basic\"\r\n                          label=\"Escribe tu mensaje\"\r\n                          variant=\"filled\"\r\n                          required\r\n                          multiline\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12} align=\"center\">\r\n                        <br/>\r\n                        {\r\n                          cargando && <LinearProgress/>\r\n                        }\r\n                        <Button\r\n                          disabled={cargando}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          type=\"submit\"\r\n                          >\r\n                            Contactar proveedor\r\n                        </Button>\r\n                      </Grid>\r\n                    </FormControl>\r\n                  </form>\r\n              </Grid>\r\n              </div>\r\n            </div>\r\n          </Fade>\r\n        </Modal>\r\n        <AlertaMensaje mensaje=\"Mensaje enviado con xito!\" setabrir={setabrir} abrir={abrir}/>\r\n      </div>\r\n    );\r\n  }","import React, {useEffect, useState, useContext} from 'react';\r\n\r\n//Material-UI\r\nimport {Grid} from '@material-ui/core/';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n//Componentes\r\nimport ProveedorInfo from './ProveedorInfo.js';\r\nimport PublicacionInfo from './PublicacionInfo.js';\r\nimport Opiniones from './Opiniones.js';\r\nimport Estilos from '../Estilos.js';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\nimport {Container} from '@material-ui/core/';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Publicacion() {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    const [datosPerfil, setdatosPerfil] = useState({\r\n        id: null,\r\n        descripcion:\"\",\r\n        nombre:\"\",\r\n        apellido:\"\",\r\n        identidad_verificada: false,\r\n        telefono: \"\",\r\n        mostrar_telefono: false,\r\n        pausado: false,\r\n        bloqueado: false,\r\n        servicios: [],\r\n        imagen_perfil: \"\"\r\n    })\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        id: null,\r\n        descripcion:\"\",\r\n        titulo:\"\",\r\n        precio_estimado: 0,\r\n        tipo: false,\r\n        pausado: false,\r\n        bloqueado: false,\r\n        imagenes: [],\r\n        Usuario_id: null\r\n    })\r\n\r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico===true){            \r\n            axios.get(state.servidor+\"/api/solicitud/\"+id)\r\n            .then(response => {\r\n                obtenerUsuario(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar la solicitud.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    function obtenerUsuario(data){\r\n        setdatosPagina({\r\n            id: data.id,\r\n            titulo: data.titulo,\r\n            descripcion: data.descripcion,\r\n            precio_estimado: data.precio_estimado,\r\n            tipo: data.tipo,\r\n            pausado: data.pausado,\r\n            imagenes: data.imagenes,\r\n            categoria: data.Categoria_id.nombre,\r\n            servicio: data.tipo?data.Servicio_id.nombre:null,\r\n            Usuario_id: data.Usuario_id,\r\n            bloqueado: data.bloqueado,\r\n            servicio_id: data.tipo?data.Servicio_id.id:null,\r\n        })\r\n\r\n        let auth = state.jwt!==\"\"?'Bearer '+state.jwt:\"\";\r\n        \r\n        axios.get(\r\n            state.servidor+\"/users/\"+data.Usuario_id.id,{\r\n                headers: {\r\n                'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                setdatosPerfil({\r\n                    id: response.data.id,\r\n                    descripcion: response.data.descripcion,\r\n                    titulo: `${response.data.nombre} ${response.data.apellido}`,\r\n                    identidad_verificada: response.data.identidad_verificada,\r\n                    telefono: response.data.telefono,\r\n                    mostrar_telefono: response.data.mostrar_telefono,\r\n                    servicios: response.data.servicios,\r\n                    bloqueado: response.data.bloqueado,\r\n                    pausado: response.data.estado,\r\n                    imagen_perfil: response.data.imagen_perfil===null?null:response.data.imagen_perfil.url\r\n                })\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar el usuario.\")\r\n                console.log(error.response)\r\n            }) \r\n    }\r\n\r\n    return (\r\n        <Container style={{width: \"95%\"}}>\r\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"stretch\">\r\n                <Grid item md={8} xs={12}>\r\n                  <PublicacionInfo esDePerfil={false} datosPagina={datosPagina}/>\r\n                  {datosPagina.tipo && <Opiniones datos={datosPagina}/>}\r\n                </Grid>  \r\n\r\n                {\r\n                    datosPagina.tipo && (\r\n                        <Grid item md={4} xs={12} >\r\n                            <ProveedorInfo esDePerfil={false} datosPerfil={datosPerfil}/>\r\n                        </Grid> \r\n                    )\r\n                }\r\n                {\r\n                    //Si no es el dueo de la publicacin, y si el proveedor o la publicacin no se encuentrar pausada o bloqueada, entonces ofrecemos la posibilidad de contactarlo \r\n                    datosPerfil.id!==state.datosSesion.id && !datosPagina.pausado && !datosPagina.bloqueado && !datosPerfil.pausado && !datosPerfil.bloqueado &&\r\n                    <BotonContratar fijo={true} esDePerfil={false} datos={{idS: datosPagina.id, idP: datosPerfil.id, nombre: datosPerfil.titulo, imagen_perfil: datosPerfil.imagen_perfil}} />\r\n                }\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n","import React, {useContext, useState} from 'react';\r\n//Material UI \r\nimport {Grid, Link as LinkMUI,  LinearProgress, Modal, Backdrop, Fade, Typography, TextField, FormControl, Hidden, Button, Divider, } from '@material-ui/core';\r\n\r\n//Librerias\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\n//\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function IniciarSesion({mensaje}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = useState(false);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [alerta, setalerta] = useState(\"\");\r\n  const [pwd_olvidada, setpwd_olvidada] = useState(false);\r\n\r\n  const [datos, setdatos] = useState({\r\n    email:\"\",\r\n    contrasena:\"\"\r\n  });\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n  const cambiarInput = (e) =>{   \r\n    let valor = e.target.value;\r\n    let campo = e.target.name;\r\n    setdatos({\r\n        ...datos,\r\n        [campo]: valor\r\n    })        \r\n  }\r\n  \r\n  const iniciarSesion = () =>{\r\n    setcargando(true)\r\n\r\n    if(!pwd_olvidada){\r\n      axios\r\n      .post(state.servidor+\"/auth/local/\", {\r\n        identifier: datos.email,\r\n        password: datos.contrasena\r\n      })\r\n      .then(response => {\r\n          // Se registr el usuario correctamente\r\n          console.log('Se ha iniciado sesion correctamente.')\r\n          \r\n          dispatch({type:\"setDatos\", value: response.data.user})\r\n          dispatch({type:\"setJwt\", value: response.data.jwt})\r\n\r\n          localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: response.data.jwt,\r\n            datosSesion: response.data.user\r\n          }));\r\n\r\n          console.log(response.data.user)\r\n\r\n          setcargando(false)\r\n          setOpen(false)\r\n      })\r\n      .catch(error => {\r\n        // Ocurri un error\r\n        let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n        console.log(\"Error: \",err)\r\n        \r\n        if(err===\"Auth.form.error.invalid\")\r\n          setalerta('Correo o contrasea incorrectos');\r\n\r\n        setcargando(false)\r\n      });\r\n    }else{\r\n      console.log(datos)\r\n      axios\r\n      .post('http://localhost:1337/auth/forgot-password', {\r\n        email: datos.email,\r\n      },{\r\n        headers:{\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(response => {\r\n        console.log('Your user received an email', response.data);\r\n      })\r\n      .catch(error => {\r\n        // Handle error.\r\n        console.log('An error occurred:', error.response);\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <LinkMUI href=\"#\" style={{color:\"black\",padding: \"10px\"}} onClick={handleOpen}>\r\n        {mensaje}\r\n      </LinkMUI>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.papelFondo}>\r\n            <div className=\"Fondo\"  style={{maxWidth:350}}>\r\n                <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.form}>\r\n                      {pwd_olvidada?\"Recuperar contrasea\":\"Iniciar Sesin\"}\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      onChange={cambiarInput}\r\n                      name=\"email\"\r\n                      value={datos.email}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Usuario/Correo electrnico\"\r\n                      variant=\"filled\"\r\n                      required\r\n                    />\r\n                  </Grid>\r\n                  <Divider/>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <TextField\r\n                        onChange={cambiarInput}\r\n                        name=\"contrasena\"\r\n                        value={datos.contrasena}\r\n                        required\r\n                        type=\"password\"\r\n                        label=\"Contrasea\"\r\n                        variant=\"filled\"\r\n                        style={{marginTop:\"15px\"}}\r\n                        className={classes.inputAncho}\r\n                      />\r\n                    }\r\n                  </Grid>\r\n\r\n\r\n                  <Hidden xlDown={mensaje===\"\"}>\r\n                    <Typography color=\"error\">\r\n                        {alerta}\r\n                    </Typography>\r\n                  </Hidden>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <LinkMUI color=\"secondary\" className={classes.margenArriba} href=\"#\" onClick={()=>{setpwd_olvidada(true)}}>\r\n                        Olvid mi contrasea\r\n                      </LinkMUI>\r\n                    }\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      pwd_olvidada && <LinkMUI className={classes.margenArriba} href=\"#\" onClick={()=>{setpwd_olvidada(false)}}>\r\n                        Cancelar\r\n                      </LinkMUI>\r\n                    }\r\n                  </Grid>\r\n\r\n                  <div className={classes.inputAncho} hidden={!cargando}>\r\n                    <LinearProgress />\r\n                  </div>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Button\r\n                      onClick={iniciarSesion}\r\n                      size=\"large\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\">\r\n                        {\r\n                          !pwd_olvidada?\"Iniciar Sesin\":\"Recuperar\"\r\n                        }\r\n                    </Button>\r\n                  </Grid>\r\n\r\n                  <Divider/>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <Typography onClick={handleClose} variant=\"body1\" align=\"center\">\r\n                        {`Sos nuevo ac? `}\r\n                        <Link to=\"/registrar\">Crear cuenta</Link>\r\n                      </Typography>\r\n                    }\r\n                  </Grid>\r\n                </Grid>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\n//Material-UI\r\nimport {Grid, LinearProgress, ListItem, ListItemIcon, Divider, Typography, MenuItem} from '@material-ui/core';\r\n\r\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { EmojiSymbolsRounded } from '@material-ui/icons';\r\n\r\nexport default function NotificacionesNav({plegarNoti, notificaciones}) {\r\n    const classes = Estilos();\r\n\r\n    return (\r\n        <div style={{padding:\"0px 15px 0px 15px\"}}>\r\n            <Typography align=\"center\" component=\"h5\" variant=\"h5\">Notificaciones</Typography>\r\n            {notificaciones.length===0 &&<Typography>No tienes nuevas notificaciones</Typography>}\r\n            {\r\n                notificaciones.map((noti, i)=>(\r\n                    <div key={i}>\r\n                        <MenuItem onClick={plegarNoti} >\r\n                            <Grid container spacing={1} justify=\"center\">\r\n                                <Grid item xs={12}>\r\n                                    <Link to=\"/notificaciones\" className={classes.EstiloLink}>\r\n                                        <Typography>                            \r\n                                            {noti.tipo===0 && (noti.solicitud!==null?\r\n                                            'Tienes nueva informacin con respecto a un reporte hecho a tu publicacin \"'+noti.solicitud.titulo+'\"':\r\n                                            \"Tienes nueva informacin sobre un reporte hecho a tu perfil\")}\r\n                                            {noti.tipo===1 && (noti.datos_notificacion===\"\"?\r\n                                            'Tu solicitud de verificacin de identidad ha sido aceptada!':\r\n                                            'Tu solicitud de verificacin de identidad ha sido rechazada.')}\r\n                                            {noti.tipo===2 && (`Tienes una nueva solicitud de resea de ${noti.emisor.nombre} ${noti.emisor.apellido}!`)}\r\n                                        </Typography>\r\n                                    </Link>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </MenuItem>\r\n                        <Divider/>\r\n                    </div>\r\n                ))\r\n            }\r\n            <MenuItem onClick={plegarNoti}>\r\n                    <Link to=\"/notificaciones\" className={classes.EstiloLink}>\r\n                        <Typography color=\"secondary\">                            \r\n                            Ver todas las notificaciones\r\n                        </Typography>\r\n                    </Link>\r\n            </MenuItem>\r\n        </div>\r\n    );\r\n}","import React, {useState, useContext, useEffect} from 'react';\r\nimport {BrowserRouter as Router, Switch, Route, Link, useHistory} from \"react-router-dom\";\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {Avatar, makeStyles, ListItemIcon, Grid, AppBar, Toolbar, IconButton, Typography, Badge, MenuItem, Menu, Button} from '@material-ui/core/';\r\nimport {Person as Perfil, Create as ModificarPerfil, HowToReg as VerificarIdentidadIcono, FeaturedPlayList as Explorar, Chat, AccountCircle, Menu as MenuIcon, Notifications as NotificationsIcon, PriorityHigh as PriorityHighIcon} from '@material-ui/icons'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\n\r\n//Importamos componentes (Logica)\r\nimport Inicio from \"./Inicio/Inicio.js\";\r\nimport Publicacion from \"./Publicacion/Publicacion.js\";\r\nimport InicioSesion from \"./Sesion/InicioSesion.js\";\r\nimport Estilos from './Estilos.js';\r\nimport NotificacionesNav from './Notificaciones/NotificacionesNav.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nexport default function PrimarySearchAppBar() {\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const classes = Estilos();\r\n  let history = useHistory();\r\n  const [despPerf, setdespPerf] = useState(null);\r\n  const [despMenu, setdespMenu] = useState(null);\r\n  const [despNoti, setdespNoti] = useState(null);\r\n  const [traerNotificaciones, settraerNotificaciones] = useState(false);\r\n  const [tipoUsuario, setTipoUsuario] = useState(state.datosSesion.tipo);\r\n  const [notificaciones, setnotificaciones] = useState([])\r\n  const [mensajesnoleidos, setmensajesnoleidos] = useState(0)\r\n  \r\n  //Cdigo de guardado del estado de la sesin\r\n  React.useEffect(()=>{\r\n    let sesion = localStorage.getItem('datosLocal') || null;\r\n    let sesionObjeto = JSON.parse(sesion)\r\n    if(sesionObjeto!==null){\r\n      dispatch({type:\"setDatos\", value: sesionObjeto.datosSesion})\r\n      dispatch({type:\"setJwt\", value: sesionObjeto.jwt})\r\n      let auth = 'Bearer '+sesionObjeto.jwt;\r\n      //dispatch({type:\"setDatos\", value: sesionObjeto.datosSesion});\r\n      //dispatch({type:\"setJwt\", value: sesionObjeto.jwt});\r\n      axios\r\n      .get(state.servidor+\"/users/\"+sesionObjeto.datosSesion.id,{\r\n        headers: {\r\n            'Authorization': auth\r\n        },\r\n      })\r\n      .then(response => {\r\n          // Se registr el usuario correctamente\r\n          console.log('Se ha iniciado sesion correctamente.', response.data)\r\n          dispatch({type:\"setDatos\", value: response.data})\r\n          dispatch({type:\"setJwt\", value: sesionObjeto.jwt})\r\n          \r\n          localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: sesionObjeto.jwt,\r\n            datosSesion: response.data\r\n          }));\r\n          mensajesNoleidos(sesionObjeto.jwt, response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Error: \",error.response)\r\n      });\r\n\r\n      axios.get(state.servidor+\"/api/notificaciones?receptor=\"+sesionObjeto.datosSesion.id+\"&leido=false\",{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        setnotificaciones(response.data.reverse())\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n        console.log(error.response)\r\n      })\r\n      \r\n    }else{\r\n      dispatch({type:\"setPublico\", value: true});\r\n    }\r\n  },[])\r\n  \r\n  function mensajesNoleidos(jwt, user){\r\n    let auth = 'Bearer '+jwt;\r\n\r\n    \r\n      axios.get(state.servidor+\"/api/chats/\",{\r\n          headers: {'Authorization': auth},\r\n        })\r\n      .then(response => {\r\n        //Obtenemos todos los chats del sistema y filtramos segun el id de receptor o emisor\r\n        let chats_ = response.data.filter(chat => (chat.receptor.id === user.id || chat.emisor.id === user.id))\r\n        let cantidad = 0\r\n        chats_.map(chat_=>{\r\n          if(chat_.emisor.id===user.id){\r\n            cantidad+= chat_.noleido_emisor\r\n          }\r\n\r\n          if(chat_.receptor.id===user.id){\r\n            cantidad+= chat_.noleido_receptor\r\n          }\r\n        })\r\n        \r\n        setmensajesnoleidos(cantidad)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n        console.log(error.response)\r\n      })\r\n    \r\n  }\r\n  \r\n  useEffect(()=>{\r\n    setTipoUsuario(state.datosSesion.tipo)\r\n  },[state.datosSesion.tipo])\r\n\r\n  const cerrarSesion = () => {\r\n    setdespPerf(null);\r\n    dispatch({type:\"setDatos\", value: {\r\n      apellido: \"\",\r\n      blocked: \"\",\r\n      confirmed: false,\r\n      created_at: \"\",\r\n      descripcion: \"\",\r\n      dni: \"\",\r\n      email: \"\",\r\n      estado: false,\r\n      id: null,\r\n      mostrar_telefono: false,\r\n      nombre: \"\",\r\n      permiso: 0,\r\n      provider: \"local\",\r\n      role: {\r\n        id: 1, name: \"Authenticated\", \r\n        description: \"Default role given to authenticated user.\", \r\n        type: \"authenticated\"\r\n      },\r\n      telefono: \"\",\r\n      tipo: 0,\r\n      ubicacion: \"\",\r\n      updated_at: \"\",\r\n      username: \"\",\r\n      identidad_verificada: false\r\n    }});\r\n    \r\n    dispatch({type:\"setJwt\", value: \"\"});\r\n    dispatch({type:\"setPublico\", value: true});\r\n    localStorage.setItem('datosLocal', JSON.stringify(null));\r\n    history.push(\"/\")\r\n  };\r\n\r\n  const desplegarPerfil = (event) => {\r\n    setdespPerf(event.currentTarget);\r\n  };\r\n  const plegarPerfil = () => {\r\n    setdespPerf(null);\r\n  };\r\n  const desplegarMenu = (event) => {\r\n    setdespMenu(event.currentTarget);\r\n  };\r\n  const plegarMenu = () => {\r\n    setdespMenu(null);\r\n  };\r\n  const desplegarNoti = (event) => {\r\n    settraerNotificaciones(true)\r\n    setdespNoti(event.currentTarget);\r\n  };\r\n  const plegarNoti = () => {\r\n    setdespNoti(null);\r\n  };\r\n  return (\r\n    <div style={{ flexGrow: 1 }}>\r\n      <AppBar position=\"relative\" style={{padding: \"0% 7% 0% 7%\"}}>\r\n        <Toolbar>          \r\n          \r\n          {/*Icono y ttulo*/}\r\n          <Typography style={{flexGrow:1, width:\"200px\"}} component=\"h2\" variant=\"h5\">\r\n            <Link to=\"/\" style={\r\n              {\r\n                flexGrow: 1,\r\n                textDecoration:\"none\",\r\n                color:\"#393939\",\r\n                fontFamily: \"Homework\",\r\n                fontSize: 50,\r\n                width:\"200px\"\r\n            }}>\r\n              <div style={{display:\"flex\", width:\"200px\", alignItems:\"center\"}}>\r\n                <Avatar style={{width:\"50px\", height:\"50px\"}} src=\"/Icono1.png\" variant=\"square\" fontSize=\"inherit\"/>\r\n                Servia\r\n              </div>\r\n            </Link>\r\n          </Typography>\r\n          \r\n          <div>\r\n            <Grid container justify=\"center\" alignContent=\"center\">\r\n              <Grid item>\r\n                <Link to=\"/\" className={classes.botonesNav}>\r\n                  <Button style={{padding:\"20px\"}}>Explorar servicios</Button>\r\n                </Link>\r\n\r\n                {/*<Link to=\"/proveedores\" className={classes.botonesNav}><Button style={{padding:\"20px\"}}>Proveedores</Button></Link>*/}\r\n\r\n                <Link to=\"/solicitar-servicio\" hidden={tipoUsuario!==1} className={tipoUsuario===1?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Solicitar servicio</Button>\r\n                </Link>\r\n\r\n                <Link to=\"/mis-servicios-solicitados\" hidden={tipoUsuario!==1} className={tipoUsuario===1?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Mis servicios solicitados</Button>\r\n                </Link>\r\n\r\n                <Link to=\"/mis-publicaciones\" hidden={tipoUsuario!==2} className={tipoUsuario===2?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Mis publicaciones</Button>\r\n                </Link>\r\n                \r\n                <Link to=\"/crear-publicacion\" hidden={tipoUsuario!==2} className={tipoUsuario===2?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Crear publicacin</Button>\r\n                </Link>\r\n              </Grid>\r\n\r\n                <Grid item hidden={tipoUsuario>0}>\r\n                  <Button style={{margin:10, padding:\"8px 0px 8px 0px\"}} variant=\"contained\" color=\"secondary\">\r\n                    <InicioSesion mensaje=\"Iniciar sesin\"/>\r\n                  </Button>\r\n                  \r\n                  <Link to=\"/registrar\" className={classes.EstiloPC} style={{textDecoration:\"none\",color: \"black\"}}>\r\n                    <Button variant=\"contained\" color=\"secondary\" style={{padding:8}}>\r\n                      Registrar cuenta\r\n                    </Button>\r\n                  </Link>\r\n                </Grid>\r\n            </Grid>\r\n          </div>\r\n         \r\n \r\n          <div hidden={tipoUsuario===0}>\r\n              {/*Desplegar notificaciones*/}\r\n              <IconButton color=\"inherit\" onClick={desplegarNoti}>\r\n                <Badge badgeContent={notificaciones.length} color=\"secondary\">\r\n                  <NotificationsIcon /> \r\n                </Badge>\r\n              </IconButton>\r\n              <Menu id=\"simple-menu\" anchorEl={despNoti} keepMounted open={Boolean(despNoti)} onClose={plegarNoti}>\r\n                {\r\n                  traerNotificaciones && <NotificacionesNav notificaciones={notificaciones} plegarNoti={plegarNoti}/>\r\n                }\r\n              </Menu>\r\n\r\n              {/*Componente chats*/}\r\n                <Link to=\"/mis-chats\" style={{color:\"black\"}}>\r\n                  <IconButton color=\"inherit\">\r\n                      <Badge badgeContent={mensajesnoleidos} color=\"secondary\">\r\n                        <Chat />\r\n                      </Badge>\r\n                  </IconButton>\r\n                </Link>\r\n             \r\n\r\n              {/*Desplegar perfil*/}\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label=\"account of current user\"\r\n                aria-haspopup=\"true\"\r\n                color=\"inherit\"\r\n                onClick={desplegarPerfil}\r\n              >\r\n              <AccountCircle />\r\n              </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={despPerf}\r\n              keepMounted\r\n              open={Boolean(despPerf)}\r\n              onClose={plegarPerfil}\r\n            >              \r\n              <MenuItem onClick={plegarPerfil}>\r\n                <Link to=\"/modificar-usuario\" className={classes.EstiloLink}>\r\n                  <ListItemIcon>\r\n                    <Avatar style={{color:\"gray\", width:\"20px\", height:\"20px\"}} src=\"/usuario_editar.png\" variant=\"square\" fontSize=\"small\"/>\r\n                  </ListItemIcon>\r\n                  <Typography variant=\"inherit\">Modificar mi perfil</Typography>\r\n                </Link>\r\n              </MenuItem>\r\n              \r\n              <div hidden={tipoUsuario!==2}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <ModificarPerfil fontSize=\"small\" />\r\n                  </ListItemIcon>\r\n                  <Link to=\"/modificar-proveedor\" className={classes.EstiloLink}><Typography variant=\"inherit\">Modificar mi perfil de proveedor</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <div hidden={tipoUsuario!==2}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <Perfil fontSize=\"small\" />\r\n                  </ListItemIcon>\r\n                  <Link to={\"/perfil-proveedor/\"+state.datosSesion.id} className={classes.EstiloLink}><Typography variant=\"inherit\">Ver mi perfil de proveedor</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <div hidden={tipoUsuario!==2 || state.datosSesion.identidad_verificada === true}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <PriorityHighIcon fontSize=\"small\" /> \r\n                  </ListItemIcon>\r\n                  <Link to={\"/verificar-mi-identidad/\"} className={classes.EstiloLink}><Typography variant=\"inherit\">Verificar mi identidad</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <MenuItem onClick={cerrarSesion}>\r\n                <ListItemIcon>\r\n                  <ExitToAppIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <Typography variant=\"inherit\">Cerrar sesin</Typography>\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n          \r\n          {/*Hamburguesa */}\r\n          <div className={tipoUsuario===0?classes.EstiloMovil:classes.EstiloVacio}>\r\n            <IconButton className={classes.hambur} onClick={desplegarMenu} color=\"inherit\" edge=\"end\" aria-label=\"menu hamburguesa\">\r\n              <MenuIcon/>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={despMenu}\r\n              keepMounted\r\n              open={Boolean(despMenu)}\r\n              onClose={plegarMenu}\r\n            >\r\n              <Link to=\"/registrar\" hidden={tipoUsuario!==0} className={classes.EstiloLink}>\r\n                <MenuItem onClick={plegarMenu}>Crear una nueva cuenta</MenuItem>\r\n                <hr/>\r\n              </Link>\r\n              \r\n              <Link to=\"/\" className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                <MenuItem onClick={plegarMenu}>\r\n                  <Typography variant=\"inherit\">Explorar servicios</Typography>\r\n                </MenuItem>\r\n              </Link>\r\n\r\n              {/*Usuario*/}\r\n              <div hidden={tipoUsuario<1 || tipoUsuario>2}>\r\n                <Link to=\"/solicitar-servicio\" className={tipoUsuario===1?classes.EstiloMovil:classes.EstiloVacio} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Solicitar servicio</MenuItem>\r\n                </Link>\r\n                <Link to=\"/mis-servicios-solicitados\" className={tipoUsuario===1?classes.EstiloMovil:classes.EstiloVacio} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Mis servicios solicitados</MenuItem>\r\n                </Link>\r\n              </div>\r\n\r\n              {/*Proveedor*/}\r\n              <div hidden={tipoUsuario!==2}>\r\n                <Link to=\"/crear-publicacion\" className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Crear publicacin</MenuItem>\r\n                </Link>\r\n                <Link to=\"/mis-publicaciones\" className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Mis publicaciones</MenuItem>\r\n                </Link>\r\n              </div>\r\n\r\n              {/*Administrador*/}\r\n              <div hidden={tipoUsuario!==3}>\r\n                <Link to=\"/gestionar-reclamos\" className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Gestionar reportes</MenuItem></Link>\r\n                <Link to=\"/verificar-identidad\" className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Verificar identidades </MenuItem></Link>\r\n                {/*<Link to=\"/administrar-categorias\" className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Administrar categoras </MenuItem></Link>*/}\r\n              </div>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Instagram, Facebook} from '@material-ui/icons/';\r\n\r\n//Material-UI\r\nimport {Typography, Grid, AppBar, Toolbar} from '@material-ui/core/';\r\n\r\nimport Estilos from './Estilos.js';\r\n\r\nexport default function Footer() {\r\n    const classes = Estilos();\r\n    const [contactanos, setcontactanos] = useState(false);\r\n\r\n    return (\r\n        <div >\r\n           <AppBar position=\"relative\" bottom=\"0px\" style={{zIndex: 0}}>   \r\n                <Toolbar>\r\n                    <Grid container direction=\"row\" alignItems=\"center\" justify=\"center\">\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            {/*<Link className={classes.EstiloLink} to=\"/sobre-nosotros\">Sobre nosotros</Link><br/>*/}\r\n                            <Link className={classes.EstiloLink} to=\"/preguntas-frecuentes\">Preguntas frecuentes</Link>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            {/*<Link className={classes.EstiloLink} to=\"/terminos-de-uso\">Trminos de uso</Link><br/>*/}\r\n                            <a href=\"#\" className={classes.EstiloLink} onClick={()=>{setcontactanos(!contactanos)}}>Contctanos</a>\r\n                            {\r\n                                contactanos && <div>\r\n                                    <a href=\"mailto:angelruggia@gmail.com\" className={classes.EstiloLink}>angelruggia@gmail.com</a><br/>\r\n                                    <a href=\"mailto:ferransolischorvat@gmail.com\" className={classes.EstiloLink}>ferransolischorvat@gmail.com</a>\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            <Typography>\r\n                                Nuestras redes\r\n                            </Typography>\r\n                            <a href=\"https://www.facebook.com/RuggiaAngel\" target=\"_blank\" className={classes.EstiloLink}><Facebook fontSize=\"large\"/></a>\r\n                            <a href=\"https://www.instagram.com/ferransolischorvat/\" target=\"_blank\" className={classes.EstiloLink}><Instagram fontSize=\"large\"/></a>\r\n                        </Grid>\r\n                        \r\n                    </Grid>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>     \r\n    );\r\n  }","import React,{useState, useEffect} from 'react';\r\nimport {Chip, Grid, TextField, Typography, Button, Card, FormControlLabel, Checkbox, CardContent} from '@material-ui/core/';\r\nimport {Done as Done, Clear as Clear} from '@material-ui/icons';\r\n\r\nimport Estilos from '../Estilos.js'\r\n\r\nexport default function Filtro({tipoPublicacion, settipoPublicacion, servicios, agregarSeleccionado, buscarServicios, inputBusqueda, setinputBusqueda}) {\r\n  const classes = Estilos();\r\n  const [tipo,settipo] = useState(false)\r\n\r\n  useEffect(()=>{\r\n    settipoPublicacion(!tipo)\r\n  },[tipo])\r\n  return (\r\n    <Card className={classes.margenArriba} variant=\"outlined\" className={classes.filaPublicacion}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          Seleccione los filtros deseados\r\n        </Typography>\r\n\r\n        <Grid item xs={12}>    \r\n          <FormControlLabel\r\n            className={classes.inputAncho}\r\n            control={<Checkbox checked={tipo} name=\"tipo\" onChange={(e)=>{settipo(e.target.checked)}}/>}\r\n            label=\"Filtrar por publicaciones de solicitudes de servicios de usuarios.\"\r\n          />\r\n        </Grid>\r\n\r\n        {\r\n          tipoPublicacion &&\r\n          <Grid container className={classes.margenArriba} spacing={2} justify=\"space-around\" alignItems=\"center\">    \r\n            {\r\n              servicios.map((servicio,i) => (\r\n                <Grid item xs={6} sm={4} md={3} lg={2}  key={i}>\r\n                  <SeleccionarServicio key={i} servicio={servicio} agregarSeleccionado={agregarSeleccionado}/>\r\n                </Grid>\r\n              ))\r\n            }\r\n          </Grid>\r\n        }\r\n        \r\n        <TextField\r\n          className={classes.margenArriba}\r\n          value={inputBusqueda}\r\n          color=\"secondary\"\r\n          onChange={(e)=>{setinputBusqueda(e.target.value)}}\r\n          onKeyDown={(e)=>{if(e.key==='Enter'){buscarServicios()}}}\r\n          label=\"Buscar por nombre\" variant=\"outlined\"\r\n          size=\"medium\" fullWidth\r\n        />\r\n        <Button onClick={buscarServicios} className={classes.margenArriba} color=\"secondary\" variant=\"contained\" >Buscar</Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction SeleccionarServicio({servicio, agregarSeleccionado}) {\r\n  const classes = Estilos();\r\n  const [hecho_noHecho, setHecho_noHecho] = useState(false);\r\n  const [seleccion, setSeleccion] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    agregarSeleccionado(servicio.id)\r\n    if(seleccion===false){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(true);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Chip clickable color=\"primary\" label={servicio.nombre} icon={hecho_noHecho?<Done/>:<Clear/>} onClick={handleClick}/>\r\n    </div>\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from '@material-ui/core';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nexport default function Alerta({titulo, funcionAceptar, mensaje}) {\r\n  const [open, setOpen] = useState(true);\r\n  const [cargando, setcargando] = useState(false)\r\n  \r\n  const handleClose = (boole) => {\r\n    setcargando(true)\r\n    funcionAceptar(boole)\r\n    setcargando(false)\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={()=>{handleClose(false)}}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{titulo}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {mensaje}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={()=>{handleClose(false)}} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={()=>{handleClose(true)}} color=\"primary\" autoFocus>\r\n            Aceptar\r\n          </Button>\r\n          {cargando && <Cargando/>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {Card, Hidden, Typography, Chip, Button, Grid, Tooltip, IconButton, Container } from '@material-ui/core/';\r\nimport Editar from '@material-ui/icons/Edit';\r\nimport Pausa from '@material-ui/icons/Pause';\r\nimport Despausar from '@material-ui/icons/PlayArrow';\r\nimport Eliminar from '@material-ui/icons/DeleteForever';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport Verificado from '@material-ui/icons/CheckCircleOutline';\r\nimport AlertaSi_No from '../AlertaSi_No.js';\r\n\r\nimport Estrellas from '../Estrellas.js';\r\nimport Estilos from '../Estilos';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\n\r\nimport {Link} from \"react-router-dom\";\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { FormatListBulletedRounded } from '@material-ui/icons';\r\n\r\nexport default function FilaPublicacion({tipoPublicacion, datos, contactar, buscarSolicitudes, resenas}) {\r\n  const classes = Estilos();\r\n  const [precioPresupuesto, setPrecioPresupuesto] = useState(\"\");\r\n  const [noMostrar, setnoMostrar] = useState(true);\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [preguntarPausa, setpreguntarPausa] = useState(false);\r\n  const [preguntarEliminar, setpreguntarEliminar] = useState(false);\r\n  const [promedio, setpromedio] = useState(0);\r\n\r\n  const [datosPagina, setdatosPagina] = useState({\r\n    id: null,\r\n    titulo: \"\",\r\n    descripcion: \"\",\r\n    precio_estimado: 0,\r\n    imagenes: [],\r\n    servicio: \"\",\r\n    estrellas:0,\r\n    Usuario_id: {id: null, nombre:\"\", apellido: \"\", imagen_perfil:null},\r\n    Servicio_id: {nombre:\"\"},\r\n    pausado: false\r\n  });\r\n\r\n  useEffect(()=>{\r\n    //Dependiendo de si se quiere crear una publicacin o solicitar un servicio, se muestra la pantalla correspodiente\r\n    if(tipoPublicacion){\r\n      setPrecioPresupuesto(\"Precio estimado\");\r\n    }else{\r\n      setPrecioPresupuesto(\"Presupuesto\");\r\n    }\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    if(datos.Usuario_id!==null){\r\n      setdatosPagina(datos)\r\n      let x = datos.Usuario_id.id===state.datosSesion.id\r\n      setnoMostrar(!x)\r\n      //console.log(datos.Usuario_id.imagen_perfil.url)\r\n    }\r\n  },[datos])\r\n\r\n  useEffect(()=>{\r\n    if(resenas!==null && resenas!==undefined ){\r\n      \r\n      let total = 0, i = 0\r\n      resenas.resenas.map((resena)=>{\r\n        if(resena.proveedor.id===datos.Usuario_id.id){\r\n          total+=resena.recomendacion\r\n          i++\r\n        }\r\n      })\r\n      setpromedio(total/i)\r\n    }\r\n  },[resenas])\r\n\r\n\r\n  const eliminarPublicacion = (boole) =>{\r\n    let auth = 'Bearer '+state.jwt;\r\n    if(boole){\r\n      axios.delete(\r\n        state.servidor+\"/api/solicitud/\"+datosPagina.id,{\r\n          headers: {'Authorization': auth},\r\n        }\r\n        )\r\n        .then(response => {\r\n          console.log(\"Respuesta eliminar: \",response.data)\r\n          buscarSolicitudes()\r\n        })\r\n        .catch(error => {\r\n          console.log(\"Error, no se ha podido eliminar la publicacin.\", error.response)\r\n        })\r\n      }\r\n    setpreguntarEliminar(false)\r\n  } \r\n  \r\n  const pausarPublicacion = (boole) =>{\r\n    let auth = 'Bearer '+state.jwt;\r\n    if(boole){\r\n      let Pausa = !datosPagina.pausado\r\n      axios.put(\r\n      state.servidor+\"/api/solicitud/\"+datosPagina.id,{\r\n        pausado: Pausa\r\n      },{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(\"Respuesta pausa: \",response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Error, no se ha podido pausar la publicacin.\", error.response)\r\n      })\r\n      setdatosPagina(prevState => ({\r\n        ...prevState,\r\n        pausado: Pausa\r\n      }))\r\n    }\r\n    setpreguntarPausa(false)\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.filaPublicacion}>\r\n      <Grid container spacing={1} justify=\"center\">\r\n          {\r\n            datosPagina.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n              Esta publicacin se encuentra pausada.\r\n            </Alerta>)\r\n          }\r\n          {\r\n            datosPagina.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n              Esta publicacin se encuentra bloqueada, contacte a un administrador.\r\n            </Alerta>)\r\n          }\r\n          <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={12} md={3} sm={12} align=\"center\">\r\n              <img \r\n                className={classes.imagenPublicacion}\r\n                src={datosPagina.imagenes.length!==0?state.servidor+datosPagina.imagenes[0].url:state.imagen_predeterminada}\r\n                alt=\"1 imagen\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={9} sm={12}>  \r\n              <Typography align=\"left\" component=\"h5\" variant=\"h5\">\r\n                {`${datosPagina.Usuario_id.nombre} ${datosPagina.Usuario_id.apellido}`}\r\n                <Hidden xlDown={!datosPagina.Usuario_id.identidad_verificada}><Tooltip title=\"Usuario verificado\">\r\n                  <IconButton style={{padding: 1}}><Verificado color=\"inherit\"/></IconButton>\r\n                </Tooltip></Hidden>\r\n              </Typography>\r\n\r\n              <Typography align=\"left\" component=\"h5\" variant=\"h5\">\r\n                  {datosPagina.titulo}\r\n                <Hidden xlDown={noMostrar}>  \r\n                  <Link to={tipoPublicacion?\"/modificar-publicacion/\"+datosPagina.id:\"/modificar-solicitud-servicio/\"+datosPagina.id}>\r\n                  <Tooltip title=\"Editar publicacin\">\r\n                    <IconButton ><Editar color=\"primary\" /></IconButton>\r\n                  </Tooltip>\r\n                  </Link>\r\n                  <Tooltip title=\"Pausar publicacin\">\r\n                    <IconButton onClick={()=>{setpreguntarPausa(true)}}>{datosPagina.pausado?<Despausar color=\"secondary\" />:<Pausa color=\"primary\" />}</IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Eliminar publicacin\">\r\n                    <IconButton onClick={()=>{setpreguntarEliminar(true)}}><Eliminar color=\"error\" /></IconButton>\r\n                  </Tooltip>\r\n                  {\r\n                    preguntarPausa &&\r\n                    <AlertaSi_No\r\n                    mensaje={datosPagina.pausado?\r\n                    'La publicacin \"'+datosPagina.titulo+'\" volver a aparecer en la seccin de bsqueda.'\r\n                    :'La publicacin \"'+datosPagina.titulo+'\" ser pausada y no se mostrar en la seccin de bsqueda.'}\r\n                    funcionAceptar={pausarPublicacion}\r\n                    titulo={datosPagina.pausado?\r\n                    \"Est seguro que quiere despausar la publicacin?\"\r\n                    :\"Est seguro que quiere pausar la publicacin?\"}/> \r\n                  }\r\n                  {\r\n                    preguntarEliminar &&\r\n                    <AlertaSi_No\r\n                    mensaje={'Se va a eliminar la publicacin \"'+datosPagina.titulo+'\", esta accin no se puede revertir.'}\r\n                    funcionAceptar={eliminarPublicacion}\r\n                    titulo=\"Est seguro que quiere eliminar la publicacin?\"/>\r\n                  }\r\n                </Hidden>  \r\n              </Typography>\r\n              <div style={{overflow: \"auto\", textOverflow: \"ellipsis\", textJustify:\"auto\", align:\"left\", WebkitLineClamp:\"3\", height:\"3\"}}> \r\n                <Typography>\r\n                  {datosPagina.descripcion}\r\n                </Typography>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid item xs={8} sm={12} md={6} lg={3} align=\"center\">\r\n            <Typography component=\"h6\" variant=\"h6\">\r\n              {precioPresupuesto}: ${datosPagina.precio_estimado}\r\n            </Typography>\r\n          </Grid>  \r\n\r\n          {\r\n            (tipoPublicacion && datosPagina.Servicio_id!==null) && (<Grid item xs={4} sm={6} md={6} lg={3} align=\"center\">\r\n            <Chip variant=\"outlined\" label={datosPagina.Servicio_id.nombre}/>\r\n          </Grid>)\r\n          }\r\n\r\n          {\r\n            tipoPublicacion &&\r\n            <Grid item xs={12} sm={6} md={6} lg={3} align=\"center\">\r\n              <Estrellas valor={promedio} clickeable={false} cambiarValor={()=>{}}/>\r\n            </Grid>\r\n          }\r\n          \r\n          {\r\n            datosPagina.Usuario_id.id!==state.datosSesion.id &&\r\n            <Grid item xs={6} sm={6} md={6} lg={3} align=\"center\" hidden={!contactar}>\r\n              <BotonContratar\r\n              fijo={false}\r\n              esDePerfil={false}\r\n              datos=\r\n              {{idS: datosPagina.id,\r\n              idP: datosPagina.Usuario_id.id,\r\n              nombre: `${datosPagina.Usuario_id.nombre} ${datosPagina.Usuario_id.apellido}`,\r\n              imagen_perfil: datosPagina.Usuario_id.imagen_perfil===null?null:state.servidor+datosPagina.Usuario_id.imagen_perfil.url}}/>\r\n            </Grid>\r\n          }\r\n           \r\n        <Grid item xs={6} lg={12} md={12} sm={6} align=\"center\">\r\n          <Link to={\"/publicacion/\"+datosPagina.id} style={{textDecoration:\"none\", padding: 0, color:\"black\"}}>\r\n            <Button variant=\"outlined\" color=\"default\">Leer ms</Button>\r\n          </Link>\r\n        </Grid>\r\n      </Grid>\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport Filtro from './Filtro.js';\r\nimport FilaPublicacion from './FilaPublicacion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport {Typography, Paper} from '@material-ui/core/'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Categoria() {\r\n    const classes = Estilos();\r\n    let { id } = useParams()\r\n    const [serviciosSeleccionados, setServiciosSeleccionados] = useState([])\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [categoria, setcategoria] = useState({nombre:\"\"})\r\n    const [servicios, setservicios] = useState([])\r\n    const [solicitudes, setsolicitudes] = useState([])\r\n    const [cargando, setcargando] = useState(false)\r\n    const [resenas_servicio, setresenas_servicio] = useState(null)\r\n\r\n    const [tipoPublicacion, settipoPublicacion] = useState(true)\r\n    const [inputBusqueda, setinputBusqueda] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            axios.get(state.servidor+\"/api/categorias/\"+id)\r\n            .then(response => {\r\n                setcategoria(response.data)\r\n                setservicios(response.data.servicios)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n        buscarSolicitudes()\r\n    },[state.jwt, state.publico])\r\n\r\n    function buscarSolicitudes(){\r\n        axios.get(state.servidor+\"/api/solicitud?Categoria_id=\"+id+\"&pausado=false&bloqueado=false&tipo=\"+tipoPublicacion)\r\n        .then(response => {\r\n            //Filtramos las publicaciones donde sus proveedores no estn pausados\r\n            setcargando(false)\r\n            if (tipoPublicacion){\r\n                let filtro = response.data.filter((solicitud)=>(solicitud.Usuario_id.estado === false && solicitud.Usuario_id.bloqueado===false))\r\n                setsolicitudes(filtro)\r\n            }else{\r\n                setsolicitudes(response.data)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    const agregarSeleccionado = (servicio) => {\r\n        let encontrado = serviciosSeleccionados.some((elemento) => elemento===servicio);\r\n        \r\n        if(!encontrado){\r\n            setServiciosSeleccionados((arreglo)=>[...arreglo, servicio]);\r\n        }else{\r\n            setServiciosSeleccionados(serviciosSeleccionados.filter((elemento)=>servicio!==elemento));\r\n        }\r\n    }\r\n\r\n    function buscarServicios(){\r\n        let IDS = \"&\"\r\n        setcargando(true)\r\n\r\n        serviciosSeleccionados.map((id)=>{\r\n            if(id!==null){\r\n                IDS+=\"Servicio_id=\"+id+\"&\"\r\n            }\r\n        })\r\n\r\n        if(IDS.length===1){\r\n            if (tipoPublicacion){\r\n                servicios.map((servicio)=>{\r\n                    if(servicio!==null){\r\n                        IDS+=\"Servicio_id=\"+servicio.id+\"&\"\r\n                    }\r\n                })\r\n            }else{\r\n                IDS+=\"Categoria_id=\"+id+\"&\"\r\n            }\r\n        }\r\n\r\n        axios.get(state.servidor+\"/api/solicitud?\"+IDS+\"pausado=false&bloqueado=false&tipo=\"+tipoPublicacion+\"&titulo_contains=\"+inputBusqueda)\r\n        .then(response => {\r\n            if (tipoPublicacion){\r\n                let filtro = response.data.filter((solicitud)=>(solicitud.Usuario_id.estado === false && solicitud.Usuario_id.bloqueado===false))\r\n                setsolicitudes(filtro)\r\n            }else{\r\n                setsolicitudes(response.data)\r\n            }\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(servicios.length!==0){\r\n            let ids_ = \"\"\r\n            servicios.map((servicio_)=>{\r\n                ids_+=\"servicios=\"+servicio_.id+\"&\"\r\n            })\r\n            axios.get(state.servidor+\"/api/resenas?\"+ids_)\r\n            .then(response => {\r\n                let servicios_resena = {}\r\n                response.data.map((resena=>{\r\n                    resena.servicios.map(serv_=>{\r\n                      if(!servicios_resena.hasOwnProperty(serv_.nombre)){\r\n                        servicios_resena[serv_.nombre] = {resenas:[]}\r\n                        servicios_resena[serv_.nombre].resenas.push(resena)\r\n                      }else{\r\n                        servicios_resena[serv_.nombre].resenas.push(resena)\r\n                      }\r\n                    })\r\n                }))\r\n                setresenas_servicio(servicios_resena)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar las reseas.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[servicios])\r\n\r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} style={{width:950, padding: 15}} className=\"Fondo\">\r\n                <Typography variant=\"h5\" component=\"h2\" align=\"center\">{categoria.nombre}</Typography>\r\n                <Filtro\r\n                    tipoPublicacion={tipoPublicacion}\r\n                    settipoPublicacion={settipoPublicacion}\r\n                    inputBusqueda={inputBusqueda}\r\n                    setinputBusqueda={setinputBusqueda}\r\n                    servicios={servicios}\r\n                    agregarSeleccionado={agregarSeleccionado}\r\n                    buscarServicios={buscarServicios}\r\n                />\r\n                <br/>\r\n                {cargando && <Cargando/>}\r\n                {\r\n                    !cargando && solicitudes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                    Lo sentimos, por el momento no hay {tipoPublicacion?\"publicaciones \":\"solicitudes \"} de servicios que coincidan con los filtros de bsqueda.\r\n                    </Alerta>)\r\n                }\r\n                {\r\n                    solicitudes.map((solicitud, i)=>(\r\n                        <FilaPublicacion\r\n                        key={i}\r\n                        resenas={solicitud.tipo?(resenas_servicio===null?null:resenas_servicio[solicitud.Servicio_id.nombre]):null}\r\n                        buscarSolicitudes={buscarSolicitudes}\r\n                        datos={solicitud}\r\n                        tipoPublicacion={tipoPublicacion}\r\n                        contactar={true}/>\r\n                    ))\r\n                }\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React,{useEffect, useContext, useState} from 'react';\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport Dropzone from 'react-dropzone-uploader'\r\nimport axios from 'axios'\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nconst SingleFileAutoSubmit = ({cantidad, funcionSetImagen, ids, setcargando}) => {\r\n    const toast = (innerHTML) => {\r\n      const el = document.getElementById('toast')\r\n      el.innerHTML = innerHTML\r\n      el.className = 'show'\r\n      setTimeout(() => { el.className = el.className.replace('show', '') }, 3000)\r\n    }\r\n    const [archivos, setarchivos] = useState([])\r\n    const [archivosSubidos, setarchivosSubidos] = useState([])\r\n\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    useEffect(()=>{\r\n      console.log(ids)\r\n      if(state.datosSesion.id!==null && ids.some(id=>(id!==null))){\r\n        let IDS = \"\"\r\n        ids.map((id)=>{\r\n          if(id!==null){\r\n            IDS+=\"id_in=\"+id+\"&\"\r\n          }\r\n        })\r\n        axios.get(state.servidor+\"/upload/files?\"+IDS)\r\n        .then(response => {\r\n          response.data.map((dat) => {\r\n            hacerArchivo(dat)\r\n          })\r\n        })  \r\n        .catch(error => {\r\n            //let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            console.log(\"Error: \", error.response)\r\n        })\r\n      }\r\n    },[ids])\r\n    \r\n    //Se crea el archivo\r\n    function hacerArchivo(imagen) {\r\n      let imagenUrl = state.servidor+imagen.url\r\n      let file\r\n      fetch(imagenUrl).then(res => {\r\n        res.arrayBuffer().then(buf => {\r\n          file = new File([buf], \"\"+imagen.id, { type: 'image/jpeg' })\r\n          setarchivos([...archivos, file])\r\n          setarchivosSubidos(arch => [...arch, file])\r\n        })\r\n      })\r\n    }\r\n\r\n    const getUploadParams = ({ file, meta }) => {\r\n      funcionSetImagen(file, cantidad, 0, archivosSubidos)\r\n\r\n      //console.log(file)\r\n\r\n      return { url: 'https://httpbin.org/post'}\r\n    }\r\n  \r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n      if (status === 'removed') {\r\n        funcionSetImagen(file, cantidad, 1, archivosSubidos);\r\n        \r\n        //let indice = archivosSubidos.indexOf(file)\r\n        //console.log(indice)\r\n\r\n      }\r\n      if (status === 'uploading'){\r\n        setcargando(true)\r\n      }\r\n      if (status === 'done'){\r\n        setcargando(false)\r\n      }\r\n\r\n\r\n        /*toast(`${meta.name} uploaded!`)\r\n        remove()*/\r\n      }/* else if (status === 'aborted') {\r\n        toast(`${meta.name}, upload failed...`)\r\n      }*/\r\n  \r\n    return (\r\n      <React.Fragment>\r\n        <Dropzone\r\n          getUploadParams={getUploadParams}\r\n          onChangeStatus={handleChangeStatus}\r\n          maxFiles={cantidad}\r\n          initialFiles={ids.length!==0?archivos:null}\r\n          multiple={true}\r\n          maxSizeBytes={5000000}\r\n          canCancel={false}\r\n          accept=\"image/*\"\r\n          inputWithFilesContent={'Subir otra imagen'}\r\n          inputContent={()=>(cantidad===1?`Selecciona ${cantidad} imagen`:`Selecciona hasta ${cantidad} imgenes`)}\r\n          //submitButtonContent=null to remove el botn submit\r\n          styles={{\r\n            dropzone: { width: \"100%\", height: \"100%\", overflow:\"auto\"},\r\n            dropzoneActive: { borderColor: 'green' },\r\n          }}\r\n        />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  export default SingleFileAutoSubmit;","import React,{useState, useEffect, useContext} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material UI\r\nimport {LinearProgress, Typography, TextField, Button, Divider, Paper, Grid, Checkbox, FormControlLabel, Hidden} from '@material-ui/core/';\r\n\r\n//Libreria para consultar la API del servidor\r\nimport axios from 'axios';\r\n\r\n//Componentes creados\r\nimport Estilos from '../Estilos.js';\r\nimport SubirImagen from '../SubirImagen.js';\r\nimport InicioSesion from \"../Sesion/InicioSesion.js\";\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Registrar({registrar}){\r\n    const classes = Estilos()\r\n    //Variables de la pgina\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n    const [mensajeAlerta, setmensajeAlerta] = useState(\"\");\r\n    let history = useHistory();\r\n    const [tituloPagina, settituloPagina] = useState(\"\")\r\n    const [cargando, setcargando] = useState(false)\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n \r\n    //Variables de los campos   \r\n    const [imagenes, setimagenes] = useState([])\r\n    const [ImagenPerfil, setImagenPerfil] = useState([])\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [abrir, setabrir] = useState(false);\r\n    const [datos, setdatos] = useState({\r\n        nombre:\"\",\r\n        apellido:\"\",\r\n        email:\"\",\r\n        usuario:\"\",\r\n        telefono:\"\",\r\n        contrasena:\"\",\r\n        contrasena_rep:\"\",\r\n        dni:\"\",\r\n        descripcion:\"\",\r\n        imagen_perfil: null\r\n    });\r\n    //Proveedor\r\n    const [soyProveedor, setSoyProveedor] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            if(!registrar){            \r\n                setdatos({\r\n                    nombre: state.datosSesion.nombre,\r\n                    apellido: state.datosSesion.apellido,\r\n                    email: state.datosSesion.email,\r\n                    usuario: state.datosSesion.username,\r\n                    telefono: state.datosSesion.telefono,\r\n                    contrasena: \"\",\r\n                    contrasena_rep: \"\",\r\n                    dni: state.datosSesion.dni,\r\n                    descripcion: state.datosSesion.descripcion,\r\n                    tipo: state.datosSesion.tipo,\r\n                    imagen_perfil: state.datosSesion.imagen_perfil\r\n                })\r\n                \r\n                if(state.datosSesion.imagen_perfil!==null)\r\n                    setimagenes([state.datosSesion.imagen_perfil.id])\r\n            }\r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    const cambiarInput = (e) =>{\r\n        if(mensaje!==\"\")\r\n            setmensaje(\"\")\r\n        \r\n        let valor = e.target.value;\r\n        let campo = e.target.name;\r\n        setdatos({\r\n            ...datos,\r\n            [campo]: valor\r\n        })\r\n    }\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setImagenPerfil([...ImagenPerfil, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = ImagenPerfil.filter(f => f !== file)\r\n            setImagenPerfil(aux)\r\n        }\r\n    }\r\n\r\n    function subirImagen(_id_){\r\n        let archivosNuevos = []\r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        ImagenPerfil.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes perfil:\", ImagenPerfil)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imgenes de la publicacin\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n        \r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imgenes cargadas a la publicacin, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', _id_)\r\n            formData.append('field', 'imagen_perfil')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                let usr = state.datosSesion\r\n                usr.imagen_perfil = response.data[0]\r\n\r\n                dispatch({type:\"setDatos\", value: usr})\r\n                dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: usr\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imgenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }\r\n    }\r\n    \r\n    //Funcion para enviar los datos, ya sea de modificacin de perfil como de creacin de una cuenta nueva\r\n    const enviarDatos = (e) =>{\r\n        e.preventDefault();        \r\n        if(datos.email.search('[.][a-z][a-z]')=== -1 || datos.email.search('[.].*[0-9].*')!== -1 ){\r\n            setmensaje(\"El email se encuentra escrito incorrectamente\");\r\n        }else{\r\n        if(registrar){\r\n            if(datos.contrasena!==datos.contrasena_rep){\r\n                setmensaje(\"Las contraseas no coinciden\")\r\n            }else if(datos.contrasena.length < 8){\r\n                setmensaje(\"La contrasea debe tener al menos 8 caracteres\");\r\n            }else{\r\n                //Si se entra a ac, significa que se quiere crear un nuevo usuario\r\n                enviarPost()\r\n            }\r\n        }else{\r\n            if(datos.email.search('[.][a-z][a-z]')=== -1 || datos.email.search('[.].*[0-9].*')!== -1 ){\r\n                setmensaje(\"El email se encuentra escrito incorrectamente\");\r\n            }else{\r\n                //Si se entra a ac, significa que se quiere modificar el usuario                \r\n                enviarPut()\r\n            }\r\n        }}\r\n    \r\n    }\r\n\r\n    function enviarPut(){\r\n        let auth = 'Bearer '+state.jwt;\r\n        setcargando(true)\r\n        axios.put(\r\n            state.servidor+\"/users/\"+state.datosSesion.id\r\n            ,{\r\n                username: datos.usuario,\r\n                email: datos.email,\r\n                nombre: datos.nombre,\r\n                apellido: datos.apellido,\r\n                telefono: datos.telefono,\r\n                dni: datos.dni,\r\n                descripcion: datos.descripcion,\r\n                tipo: datos.tipo===2?2:soyProveedor?2:1\r\n            },\r\n            {\r\n                headers: {\r\n                    'Authorization': auth\r\n                },\r\n            }\r\n        )\r\n        .then(response => {\r\n            dispatch({type:\"setDatos\", value: response.data})\r\n            dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n            subirImagen(state.datosSesion.id)\r\n\r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: state.jwt,\r\n                datosSesion: response.data\r\n            }));\r\n\r\n            setcargando(false)\r\n            setmensajeAlerta(\"Cambios guardados!\")\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(\"/\"); }, 3000);\r\n        })\r\n        .catch(error => {\r\n            let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            console.log(\"error: \",error.response)\r\n            if(err===\"Auth.form.error.email.taken\")\r\n                setmensaje('El email ya est en uso.');\r\n            else if(err===\"Auth.form.error.username.taken\")\r\n                setmensaje('El usuario ya est en uso.');\r\n            else{\r\n                setmensaje(err)\r\n            }\r\n            setcargando(false)\r\n        })\r\n    }\r\n\r\n    function enviarPost(){\r\n        setcargando(true)\r\n        axios\r\n        .post(state.servidor+\"/auth/local/register\", {\r\n            username: datos.usuario,\r\n            email: datos.email,\r\n            password: datos.contrasena,\r\n            nombre: datos.nombre,\r\n            apellido: datos.apellido,\r\n            telefono: datos.telefono,\r\n            dni: datos.dni,\r\n            descripcion: datos.descripcion,\r\n            tipo: soyProveedor?2:1,\r\n            confirmed: false,\r\n            estado: false,\r\n            mostrar_telefono: false,\r\n            identidad_verificada: false,\r\n            espera_verificacion: false,\r\n            bloqueado: false\r\n        })\r\n        .then(response => {\r\n            \r\n            subirImagen(response.data.user.id)\r\n            dispatch({type:\"setDatos\", value: response.data.user})\r\n            dispatch({type:\"setJwt\", value: response.data.jwt})                        \r\n            \r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: response.data.jwt,\r\n                datosSesion: response.data.user\r\n            }));\r\n            \r\n            setcargando(false)\r\n            setmensajeAlerta(\"Usuario creado. Bienvenido a Servia!\")\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(\"/\"); }, 6000);\r\n        })\r\n        .catch(error => {\r\n            // Ocurri un error\r\n            let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            if(err===\"Auth.form.error.email.taken\")\r\n                setmensaje('El email ya est en uso.');\r\n            else if(err===\"Auth.form.error.username.taken\")\r\n                setmensaje('El usuario ya est en uso.');\r\n            else\r\n                setmensaje(err)\r\n\r\n            setcargando(false)\r\n        });\r\n    }\r\n\r\n    /*Cuando se renderiza la pagina debemos saber si ha sido invocada para registrar un usuario o\r\n    para modificar datos  */\r\n    useEffect(()=>{\r\n        if(!registrar){\r\n            settituloPagina(\"Modificar mi perfil\")\r\n        }else{\r\n            settituloPagina(\"Registrar usuario\")\r\n        }\r\n    },[])\r\n    \r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} >\r\n                <form onSubmit={enviarDatos}>\r\n                    <Grid className={classes.gridRegistro} spacing={1} container justify=\"space-between\" alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.inputAncho}>\r\n                                {tituloPagina}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"text\"\r\n                            name=\"nombre\"\r\n                            value={datos.nombre}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Nombre\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"text\"\r\n                            name=\"apellido\"\r\n                            value={datos.apellido}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Apellido\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <SubirImagen cantidad={1} setcargando={setcargando} funcionSetImagen={funcionSetImagen} ids={imagenes}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            name=\"email\"\r\n                            value={datos.email}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Correo electrnico\"\r\n                            variant=\"filled\"\r\n                            type=\"email\"\r\n                            required />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            name=\"usuario\"\r\n                            value={datos.usuario}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Usuario\"\r\n                            variant=\"filled\"\r\n                            required />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"number\"\r\n                            name=\"telefono\"\r\n                            value={datos.telefono}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Telefono\"\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n                        <Divider/>\r\n                        <Hidden xlDown={!registrar}>\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    required={registrar}\r\n                                    name=\"contrasena\"\r\n                                    value={datos.contrasena}\r\n                                    onChange={cambiarInput}\r\n                                    type=\"password\"\r\n                                    label=\"Contrasea\"\r\n                                    variant=\"filled\"\r\n                                    className={classes.inputAncho} \r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}> \r\n                                <TextField\r\n                                    required={registrar}\r\n                                    name=\"contrasena_rep\"\r\n                                    value={datos.contrasena_rep}\r\n                                    onChange={cambiarInput}\r\n                                    type=\"password\"\r\n                                    label=\"Repetir contrasea\"\r\n                                    variant=\"filled\"\r\n                                    className={classes.inputAncho}\r\n                                />\r\n                            </Grid>\r\n                        </Hidden>\r\n                        \r\n                        <Hidden xlDown={mensaje===\"\"}>\r\n                            <Grid item xs={12}>\r\n                                <Typography color=\"error\">\r\n                                    {mensaje}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Hidden xlDown={state.datosSesion.tipo===2}>\r\n                                <OkProveedor soyProveedor={soyProveedor} setSoyProveedor={setSoyProveedor}/>\r\n                            </Hidden>\r\n                        </Grid>\r\n                        \r\n                        <div className={classes.inputAncho} hidden={!cargando}>\r\n                            <LinearProgress />\r\n                        </div>\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                            type=\"submit\"\r\n                            className={classes.inputAncho}\r\n                            size=\"large\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={cargando}>\r\n                            {registrar?\"Registrar Usuario\":\"Guardar cambios\"}\r\n                            </Button>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12} hidden={!registrar}>\r\n                            <InicioSesion mensaje={\"Ya tens una cuenta?\"}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n                <AlertaMensaje mensaje={mensajeAlerta} abrir={abrir} setabrir={setabrir}/>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction OkProveedor({setSoyProveedor, soyProveedor}) {\r\n    const manejarCambio = (event) => {\r\n        setSoyProveedor(!soyProveedor);\r\n    };\r\n\r\n    return (\r\n        <FormControlLabel\r\n            control={<Checkbox checked={soyProveedor} onChange={manejarCambio} name=\"checkedB\" color=\"primary\"/>}\r\n            label=\"Soy proveedor de servicios\"\r\n        />\r\n    );\r\n}","import React,{useState, useContext, useEffect} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material-UI\r\nimport {Hidden, Typography, TextField, FormControl, Button, Paper, Grid, Checkbox, FormControlLabel} from '@material-ui/core/';\r\nimport BarraDeCarga from '@material-ui/core/LinearProgress'\r\n//Componentes\r\nimport SubirImagenes from '../SubirImagen.js';\r\nimport CategoriaSeleccion from '../CategoriaSeleccion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport SeleccionarServicio from '../SeleccionarServicio.js';\r\n\r\nimport axios from 'axios';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Registrar() {\r\n    const classes = Estilos();\r\n    let history = useHistory();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [cargando, setcargando] = useState(false)\r\n    const [controlGuardar, setcontrolGuardar] = useState(false)\r\n    const [categorias, setcategorias] = useState([])\r\n    const [serviciosSeleccionados, setserviciosSeleccionados] = useState([])\r\n    const [mensaje, setmensaje] = useState(false)\r\n    const [abrir, setabrir] = useState(false)\r\n\r\n    const [datos, setdatos] = useState({\r\n        descripcion: \"\",\r\n        estado: false,\r\n        mostrar_telefono: false,\r\n        pasarImagenes: [] \r\n    });\r\n\r\n    const [imagenes, setimagenes] = useState([])\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setimagenes([...imagenes, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = imagenes.filter(f => f.file !== file)\r\n            setimagenes(aux)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            //Asignamos el estado a las variables de los componentes\r\n            let pasar = state.datosSesion.imagenes_proveedor.map((item)=>(item.id))\r\n            setdatos({\r\n                descripcion: state.datosSesion.descripcion,\r\n                estado: state.datosSesion.estado,\r\n                mostrar_telefono: state.datosSesion.mostrar_telefono,\r\n                pasarImagenes: pasar\r\n            })\r\n\r\n            //Buscamos las categorias para cargarlas en los checkboxes\r\n            axios.get(\r\n                state.servidor+\"/api/categorias\"\r\n            )\r\n            .then(response => {\r\n                response.data.map((item)=>{\r\n                    item[\"seleccionado\"] = false\r\n\r\n                    item.servicios.map((itemserv) =>{\r\n                        itemserv[\"seleccionado\"] = false\r\n                    })\r\n\r\n                    if(state.datosSesion.servicios.length!==0){\r\n                        response.data.map((categoria) =>{\r\n                            categoria.servicios.map((servicio) =>{\r\n\r\n                                state.datosSesion.servicios.map((servicioSesion)=>{\r\n                                    if(servicioSesion.categoria === categoria.id){\r\n                                        categoria.seleccionado = true\r\n                                    }\r\n\r\n                                    if(servicioSesion.id===servicio.id){\r\n                                        servicio.seleccionado = true\r\n                                    }\r\n                                })\r\n\r\n                            })\r\n                        })\r\n                    }                \r\n                })\r\n                setcategorias(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    const cambiarCheckbox = (e) =>{  \r\n        if(!controlGuardar)\r\n            setcontrolGuardar(true)\r\n        \r\n        let valor = e.target.checked;\r\n        let campo = e.target.name;\r\n        setdatos({\r\n            ...datos,\r\n            [campo]: valor\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(\"img nuevas:\", imagenesSubidas)\r\n    }, [imagenesSubidas])\r\n\r\n    const guardarDatos = () => {\r\n        let aux = [];\r\n        categorias.map((categoria)=>{\r\n            if(categoria.seleccionado){\r\n                categoria.servicios.map((servicio)=>{\r\n                    if(servicio.seleccionado){\r\n                        aux.push(servicio.id)\r\n                        if(!controlGuardar){\r\n                            setcontrolGuardar(true)\r\n                        }\r\n                        console.log(\"control\", controlGuardar)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n        if(aux.length!==0){\r\n            setmensaje(false)\r\n        }else{\r\n            setmensaje(true)\r\n        }\r\n\r\n        setserviciosSeleccionados(aux)\r\n    }\r\n    \r\n    function subirImagenes(_id_){\r\n        let archivosNuevos = []\r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        imagenes.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes perfil:\", imagenes)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n\r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imgenes de la publicacin\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n        \r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imgenes cargadas a la publicacin, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', _id_)\r\n            formData.append('field', 'imagenes_proveedor')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                console.log(\"Respuesta imagen: \",response.data)\r\n                let usr = state.datosSesion\r\n                usr.imagenes_proveedor = response.data\r\n\r\n                dispatch({type:\"setDatos\", value: usr})\r\n                dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: usr\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imgenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(serviciosSeleccionados.length!==0){\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            setcargando(true)\r\n            subirImagenes(state.datosSesion.id)\r\n\r\n            console.log(\"Se envian los datos\")\r\n            axios.put(\r\n                state.servidor+\"/users/\"+state.datosSesion.id\r\n                ,{\r\n                    descripcion: datos.descripcion,\r\n                    estado: datos.estado,\r\n                    mostrar_telefono: datos.mostrar_telefono,\r\n                    servicios : serviciosSeleccionados\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Authorization': auth\r\n                    },\r\n                }\r\n            )\r\n            .then(response => {\r\n                console.log(\"Respuesta cambio: \",response.data)\r\n                \r\n                let datos_ayuda = response.data\r\n\r\n                dispatch({type:\"setDatos\", value: response.data})\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: datos_ayuda\r\n                }));\r\n\r\n                console.log(\"Sus datos se han modificado correctamente!\")\r\n                setabrir(true)\r\n                setcargando(false)\r\n                //history.push(\"/\")\r\n            })\r\n            .catch(error => {\r\n                console.log(error.response)\r\n                alert(\"Ha ocurrido un error al guardar los datos\")\r\n                setcargando(false)\r\n            })\r\n        }\r\n    },[serviciosSeleccionados])\r\n    //-----------------------------------------------------------------------------------------------------------------------------------------------------\r\n    \r\n    return (\r\n        <div className= {classes.fondo}>\r\n            <Paper elevation={3} className= {classes.pantallaMedia}>\r\n                <FormControl color=\"primary\" fullWidth>\r\n                    <Grid className={classes.filaPublicacion} container direction=\"row\" justify=\"space-around\" alignItems=\"center\" spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\">\r\n                                Modificar mis datos de proveedor\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>    \r\n                            <FormControlLabel\r\n                                className={classes.inputAncho}\r\n                                control={<Checkbox checked={datos.estado} name=\"estado\" onChange={cambiarCheckbox}/>}\r\n                                label=\"Pausar mis servicios\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>    \r\n                            <FormControlLabel\r\n                                className={classes.inputAncho}\r\n                                control={<Checkbox name=\"mostrar_telefono\" checked={datos.mostrar_telefono} onChange={cambiarCheckbox}/>}\r\n                                label=\"Mostrar mi nmero de telfono\"\r\n                            />\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            onChange={(e)=>{\r\n                                setdatos({\r\n                                ...datos,\r\n                                descripcion: e.target.value\r\n                                })\r\n                                if(!controlGuardar)\r\n                                    setcontrolGuardar(true)\r\n                            }}\r\n                            name=\"descripcion\"\r\n                            value={datos.descripcion}\r\n                            id=\"filled-basic\"\r\n                            label=\"Descripcin\"\r\n                            multiline\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            <SubirImagenes setcargando={setcargando} cantidad={10} funcionSetImagen={funcionSetImagen} ids={datos.pasarImagenes}/>\r\n                        </Grid>\r\n                        \r\n                        <AlertaMensaje mensaje=\"Tus datos se han guardado correctamente!\" abrir={abrir} setabrir={setabrir}/>\r\n\r\n                        <Grid item xs={12} >\r\n                            <Typography variant=\"h6\" component=\"h3\" align=\"left\" className={classes.alinearInputs}>\r\n                                Selecciona los servicios que ofreces\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        \r\n                        {\r\n                            categorias.map((categoria, i)=>(\r\n                                <Grid key={i} item xs={12}>\r\n                                    <Grid container justify=\"flex-start\">\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    checked={categoria.seleccionado}\r\n                                                    onChange={(e)=>{setcategorias(categorias.map((cat, j)=>{\r\n                                                        if(i===j){\r\n                                                            cat.seleccionado = e.target.checked\r\n                                                        }\r\n                                                        return cat\r\n                                                    }))}}\r\n                                                />}\r\n                                            label={categoria.nombre}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Hidden xlDown={!categoria.seleccionado}>\r\n                                        <Grid container spacing={2} justify=\"space-around\">    \r\n                                            {\r\n                                                categoria.servicios.map((servicio,k) => (\r\n                                                <Grid item xs={6} sm={4} md={3} lg={2} key={k}>\r\n                                                    <SeleccionarServicio\r\n                                                    servicio={servicio} \r\n                                                    agregarSeleccionado={(valor)=>{\r\n                                                        servicio.seleccionado = valor\r\n                                                        //Asignamos los valores \"true\" a aquellos servicios que son seleccionados\r\n                                                        setcategorias(categorias.map((cat, j)=>{\r\n                                                            if(i===j){\r\n                                                                cat.servicios[k] = servicio\r\n                                                            }\r\n                                                            return cat\r\n                                                        }))\r\n                                                    }}/>\r\n                                                </Grid>\r\n                                                ))\r\n                                            }\r\n                                        </Grid>\r\n                                    </Hidden>\r\n                                </Grid>\r\n                            ))\r\n                        }\r\n                        \r\n                        <Hidden xlDown={!mensaje || cargando}>\r\n                            <Grid item xs={12} align=\"center\">\r\n                                <Typography color=\"error\">\r\n                                    Debe seleccionar al menos un servicio.\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n\r\n                        <div className={classes.inputAncho} hidden={!cargando}>\r\n                            <BarraDeCarga/>\r\n                        </div>\r\n\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button onClick={guardarDatos} disabled={cargando} size=\"large\" variant=\"contained\" color=\"primary\">Guardar</Button>\r\n                        </Grid>\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button onClick={()=>{history.push(\"/\")}} size=\"large\" variant=\"contained\" color=\"secondary\">Cancelar</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </FormControl>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import React, {useEffect, useState, useContext} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport {Grid, Container} from '@material-ui/core/';\r\nimport ProveedorInfo from '../Publicacion/ProveedorInfo.js';\r\nimport PublicacionInfo from '../Publicacion/PublicacionInfo.js';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado' \r\nexport default function MiPerfil() {\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        descripcion:\"\",\r\n        titulo:\"\",\r\n        identidad_verificada: false,\r\n        telefono: \"\",\r\n        mostrar_telefono: false,\r\n        servicios: [],\r\n        imagenes: [],\r\n        bloqueado: false,\r\n        imagen_perfil: \"\",\r\n        //Datos de publicacin\r\n        precio_estimado: \"perfil\",\r\n        pausado: false,\r\n        tipo: false,\r\n        categoria:\"\",\r\n        servicio:\"\",\r\n        estrella: 0,\r\n    })\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    \r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico===true){\r\n            let auth = state.jwt!==\"\"?'Bearer '+state.jwt:\"\";\r\n            axios.get(\r\n            state.servidor+\"/users/\"+id,{\r\n                headers: {\r\n                'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                setdatosPagina({\r\n                    id: response.data.id,\r\n                    descripcion: response.data.descripcion,\r\n                    titulo: `${response.data.nombre} ${response.data.apellido}`,\r\n                    identidad_verificada: response.data.identidad_verificada,\r\n                    telefono: response.data.telefono,\r\n                    mostrar_telefono: response.data.mostrar_telefono,\r\n                    servicios: response.data.servicios,\r\n                    imagenes: response.data.imagenes_proveedor,\r\n                    bloqueado: response.data.bloqueado,\r\n                    pausado:  response.data.estado,\r\n                    precio_estimado: \"perfil\",\r\n                    imagen_perfil: response.data.imagen_perfil===null?null:response.data.imagen_perfil.url\r\n                })\r\n                console.log(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar el usuario.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"stretch\">\r\n                <Grid item md={8} xs={12} >\r\n                    <PublicacionInfo esDePerfil={true} datosPagina={datosPagina}/>\r\n                </Grid> \r\n                <Grid item md={4} xs={12} >\r\n                    <ProveedorInfo esDePerfil={true} datosPerfil={datosPagina}/>\r\n                </Grid>\r\n                {\r\n                    //Si no es el proveedor que se est viendo, tiene servicios para ofrecer y el proveedor no est bloqueado ni pausado, ofrecemos la posibilidad de contactarse\r\n                    datosPagina.id!==state.datosSesion.id &&\r\n                    datosPagina.servicios.length!==0 &&\r\n                    !datosPagina.pausado &&\r\n                    !datosPagina.bloqueado &&\r\n                    <BotonContratar\r\n                    fijo={true}\r\n                    esDePerfil={true}\r\n                    datos={{idS: null, idP: datosPagina.id, nombre: datosPagina.titulo, servicios: datosPagina.servicios}}/>\r\n                }\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\n","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\nimport {useHistory } from 'react-router-dom'\r\n\r\nimport {Typography, TextField, FormControl, Button, Paper, Grid, Select, MenuItem, InputLabel, Hidden} from '@material-ui/core';\r\nimport SubirImagenes from '../SubirImagen.js';\r\nimport {useParams} from 'react-router-dom'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function CrearPublicacion({tipoPublicacion, modificar}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    let history = useHistory();\r\n    const [precioPresupuesto, setPrecioPresupuesto] = useState(\"\");\r\n    const [titulo, setTitulo] = useState(\"\");\r\n    const [categorias, setcategorias] = useState([]);\r\n    const [servicios, setservicios] = useState([]);\r\n    const [cargando, setcargando] = useState(false);\r\n    const [imagenes, setimagenes] = useState([]);\r\n    const [abrir, setabrir] = useState(false);\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n\r\n    //Datos de la pagina\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        titulo:\"\",\r\n        precio_estimado: \"\",\r\n        Categoria_id: {nombre: \"\"},\r\n        Servicio_id: {nombre:\"\"},\r\n        descripcion:\"\",\r\n        imagenes:[],\r\n        pausado: false,\r\n        bloqueado: false\r\n    });\r\n\r\n    useEffect(()=>{\r\n        //Dependiendo de si se quiere crear una publicacin o solicitar un servicio, se muestra la pantalla correspodiente\r\n        if(tipoPublicacion){\r\n            setTitulo(modificar?\"Modificar publicacin\":\"Crear publicacin\");\r\n            setPrecioPresupuesto(\"Precio estimado\");\r\n        }else{\r\n            setTitulo(modificar?\"Modificar solicitud de servicio\":\"Solicitar servicio\");\r\n            setPrecioPresupuesto(\"Presupuesto\");\r\n        }\r\n        if (state.jwt!==\"\" || state.publico===true){\r\n            setcargando(true)\r\n            axios.get(state.servidor+\"/api/categorias\")\r\n            .then(response => {\r\n                setcategorias(response.data)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[state.jwt, state.publico, tipoPublicacion, modificar])\r\n\r\n    useEffect(()=>{\r\n        if(modificar && categorias.length!==0){\r\n            setcargando(true)\r\n            axios.get(state.servidor+\"/api/solicitud/\"+id)\r\n            .then(response => {             \r\n                if (state.datosSesion.id===response.data.Usuario_id.id){\r\n                    response.data[\"imagenes\"] = response.data.imagenes.map((imagen)=>(imagen.id))\r\n                    setdatosPagina(response.data)\r\n                    if (tipoPublicacion)\r\n                        categorias.map(cat =>{\r\n                            if(cat.id===response.data.Servicio_id.categoria){\r\n                                setservicios(cat.servicios)\r\n                            }\r\n                        })\r\n                }else{\r\n                    history.push(\"/\")\r\n                }\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar la solicitud.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[categorias])\r\n    \r\n    //Funcion para captar los cambios en los inputs \r\n    function modificarInput(e){\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    \r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setimagenes([...imagenes, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = imagenes.filter(f => f !== file)\r\n            setimagenes(aux)\r\n        }\r\n        \r\n        setimagenesSubidas(subidas)\r\n    }\r\n\r\n    const guardarDatos = (e) => {\r\n        e.preventDefault()\r\n        setcargando(true)\r\n        const formData = new FormData()\r\n\r\n        let archivosNuevos = []\r\n        \r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        imagenes.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        \r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imgenes de la publicacin\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n\r\n        //Se cargan en el fromData las nuevas imgenes cargadas a la publicacin, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files.imagenes', archivosNuevos[i])\r\n        }\r\n        formData.append('data', JSON.stringify({\r\n            titulo: datosPagina.titulo,\r\n            precio_estimado: datosPagina.precio_estimado===\"\"?0:datosPagina.precio_estimado,\r\n            descripcion: datosPagina.descripcion,\r\n            Categoria_id: datosPagina.Categoria_id.id,\r\n            Servicio_id: tipoPublicacion?datosPagina.Servicio_id.id:null,\r\n            Usuario_id: state.datosSesion.id,\r\n            pausado: false,\r\n            tipo: tipoPublicacion\r\n        }))\r\n\r\n\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Si se est creando una publicacin, se procede a la creacin del la entrada en la tabla correspondiente.\r\n        if (!modificar){\r\n            axios.post(\r\n                state.servidor+\"/api/solicitud\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n            })\r\n            .then(response => {\r\n                console.log(\"Respuesta subir solicitud: \",response.data)\r\n                let estaServicio = state.datosSesion.servicios.some(servicio=>(servicio.id===datosPagina.Servicio_id.id))\r\n\r\n                if (tipoPublicacion && !estaServicio){\r\n                    let servicios_id = state.datosSesion.servicios.map(servicio_=>(servicio_.id))\r\n                    servicios_id.push(datosPagina.Servicio_id.id)\r\n\r\n                    axios.put(\r\n                        state.servidor+\"/users/\"+state.datosSesion.id,{\r\n                            servicios: servicios_id\r\n                        },\r\n                        {headers: {'Authorization': auth},\r\n                    })\r\n                    .then(response => {\r\n                        console.log(\"Respuesta cambio: \",response.data)\r\n                        setcargando(false)\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error.response)\r\n                        alert(\"Ha ocurrido un error al guardar los datos\")\r\n                        setcargando(false)\r\n                    })\r\n                }\r\n                setcargando(false)\r\n                setmensaje(\"Publicacin creada!\")\r\n                setabrir(true)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido crear la solicitud.\", error.response)\r\n            })\r\n        //Si se desea modificar una publicacin, se enva la peticin con los nuevos datos\r\n        }else{\r\n            axios.put(\r\n                state.servidor+\"/api/solicitud/\"+id,\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                console.log(\"Respuesta modificar solicitud: \",response.data)\r\n                if (response.data.bloqueado)\r\n                    modificarBloqueadoReporte()\r\n                setcargando(false)\r\n                setmensaje(\"Publicacin modificada!\")\r\n                setabrir(true)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido modificar la solicitud.\", error.response)\r\n            })\r\n        }\r\n    }\r\n\r\n    function modificarBloqueadoReporte(){\r\n        let auth = 'Bearer '+state.jwt;\r\n\r\n        axios.get(\r\n            state.servidor+\"/api/reportes?Solicitud_id=\"+datosPagina.id,\r\n            {\r\n                headers: {\r\n                    'Authorization': auth\r\n            },\r\n        })\r\n        .then(response => {\r\n            console.log(\"Set bloqueado false: \",response.data)\r\n            let reportes_ = response.data.filter((reporte)=>reporte.estado === 1)\r\n\r\n            reportes_.map(report => {\r\n                axios.put(\r\n                    state.servidor+\"/api/reportes/\"+report.id,{\r\n                        estado: -1\r\n                    },{\r\n                        headers: {\r\n                            'Authorization': auth\r\n                    },\r\n                })\r\n                .then(response => {\r\n                    console.log(\"estado -1: \",response.data)                    \r\n                })\r\n                .catch(error => {\r\n                    console.log(\"1.\", error.response)\r\n                })\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log(\"2.\", error.response)\r\n        })\r\n    }\r\n\r\n    //Al seleccionar una categora, se procede a cargarlo en el campo correspondiente y setear los servicios que se deben mostrar\r\n    function seleccionarCategoria(e){\r\n        let categoriaSeleccionada = categorias.filter((cat) => cat.nombre === e.target.value)\r\n        setservicios(categoriaSeleccionada[0].servicios)\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            Categoria_id: categoriaSeleccionada[0],\r\n            Servicio_id: {nombre:\"\"}\r\n        })\r\n    }\r\n\r\n    function seleccionarServicio(e){\r\n        let servicioSeleccionado\r\n        categorias.map((cat) =>{\r\n            if(cat.nombre===datosPagina.Categoria_id.nombre){\r\n                servicioSeleccionado = cat.servicios.filter((serv) => serv.nombre === e.target.value)\r\n            }\r\n        })\r\n        console.log(servicioSeleccionado[0])\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            Servicio_id: servicioSeleccionado[0]   \r\n        })\r\n    }\r\n\r\n    function cancelar(){\r\n        history.push(\"/\")    \r\n    }\r\n\r\n    return (\r\n    <div className={classes.fondo}>\r\n        <Paper elevation={3} style={{padding: \"10px\"}} className=\"Fondo\">\r\n            <form onSubmit={guardarDatos}>\r\n                <FormControl className={classes.padding2} color=\"primary\" fullWidth>\r\n                    <Grid className={classes.pantallaMedia} container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\">\r\n                                {titulo}\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        <Grid item sm={8} xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.titulo}\r\n                            name=\"titulo\"\r\n                            className={classes.inputAncho}\r\n                            id=\"filled-basic\"\r\n                            label=\"Ttulo de la publicacin\"\r\n                            variant=\"filled\"\r\n                            maxLength={50}\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item sm={4} xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.precio_estimado}\r\n                            name=\"precio_estimado\"\r\n                            type=\"number\"\r\n                            className={classes.inputAncho}\r\n                            id=\"formatted-numberformat-input\"\r\n                            label={precioPresupuesto}\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item sm={6} xs={12}>\r\n                            <FormControl className={classes.inputAncho}>\r\n                                <InputLabel id=\"Categoria_id\" variant=\"filled\">Categora</InputLabel>\r\n                                <Select\r\n                                    value={datosPagina.Categoria_id.nombre}\r\n                                    name=\"Categoria_id\"\r\n                                    onChange={seleccionarCategoria}\r\n                                    id=\"Categoria_id\"\r\n                                    labelId=\"Categoria_id\"\r\n                                    variant=\"filled\"\r\n                                    label=\"Categora\"\r\n                                    required>\r\n                                    {\r\n                                        categorias.map((categoria, i)=>(\r\n                                            <MenuItem key={i} value={categoria.nombre}>{categoria.nombre}</MenuItem>\r\n                                        ))\r\n                                    }\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        {\r\n                            tipoPublicacion &&\r\n                            (<Grid item sm={6} xs={12}>\r\n                                <FormControl className={classes.inputAncho}>\r\n                                    <InputLabel id=\"Servicio_id\" variant=\"filled\">Servicio</InputLabel>\r\n                                    <Select \r\n                                        value={datosPagina.Servicio_id.nombre}\r\n                                        name=\"Servicio_id\"\r\n                                        id=\"Servicio_id\"\r\n                                        labelId=\"Servicio_id\"\r\n                                        onChange={seleccionarServicio} \r\n                                        label=\"Servicio\"\r\n                                        variant=\"filled\"\r\n                                        required>\r\n                                        {\r\n                                            servicios.map((servicio, i)=>(\r\n                                                <MenuItem key={i} value={servicio.nombre}>{servicio.nombre}</MenuItem>\r\n                                            ))\r\n                                        }   \r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>)\r\n                        }\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.descripcion}\r\n                            name=\"descripcion\"\r\n                            className={classes.inputAncho}\r\n                            id=\"filled-basic\"\r\n                            label=\"Descripcin\"\r\n                            maxLength={400}\r\n                            multiline\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            <SubirImagenes cantidad={10} funcionSetImagen={funcionSetImagen} setcargando={setcargando} ids={datosPagina.imagenes}/>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            {cargando && <Cargando/>}\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button className={classes.botones} disabled={cargando} type=\"submit\" size=\"large\" variant=\"contained\" color=\"primary\">Guardar</Button>\r\n                        </Grid>\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button className={classes.botones} onClick={cancelar} size=\"large\" variant=\"contained\" color=\"secondary\">Cancelar</Button>\r\n                        </Grid>\r\n                        <AlertaMensaje mensaje={mensaje} abrir={abrir} setabrir={setabrir}/>\r\n                    </Grid>\r\n                </FormControl>\r\n            </form>\r\n        </Paper>\r\n    </div>\r\n  );\r\n}","import React, {useEffect,useState, useContext} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios'\r\n\r\n//Material-UI\r\nimport {LinearProgress, Paper, List, ListItem, Collapse, ListItemText, Grid, Typography, Button, Tooltip, TextField, Radio, RadioGroup, FormControlLabel, FormControl, FormLabel} from '@material-ui/core';\r\nimport {ExpandLess, ExpandMore}  from '@material-ui/icons';\r\nimport Ojo from '@material-ui/icons/Visibility';\r\nimport Flechita from '@material-ui/icons/ArrowForwardIos';\r\nimport Aceptar from '@material-ui/icons/Check';\r\nimport Rechazar from '@material-ui/icons/Clear';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function GestionarReportes({estadoReporte, reportes, modificarReporte, cargando}) {\r\n    const classes = Estilos();\r\n    const [titulo, setTitulo] = useState(\"\");\r\n    \r\n    useEffect(()=>{\r\n        //Dependiendo de si accedemos a los reclamos en espera, al historial de reclamos o a los reclamos nuevos, se muestra el ttulo correspodiente\r\n        if(estadoReporte===0)\r\n            setTitulo(\"Reportes pendientes de moderacin\");\r\n        else if(estadoReporte===1)\r\n            setTitulo(\"Reportes en espera\");\r\n        else\r\n            setTitulo(\"Historial de reportes\");\r\n    },[])\r\n  \r\n  return (\r\n    <div className={classes.fondo} className=\"Fondo\">\r\n      <Paper elevation={5}>\r\n        <Grid className={classes.filaPublicacion}  container justify=\"center\">\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h4\" component=\"h1\" align=\"center\">\r\n                    {titulo}\r\n                </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <br/>\r\n                {\r\n                    !cargando && reportes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                    No hay reportes para mostrar.\r\n                    </Alerta>)\r\n                }  \r\n                {\r\n                    reportes.map((datos, i) =>\r\n                        <Reporte key={i} datos={datos} modificarReporte={modificarReporte}/>\r\n                    )\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction Reporte({datos, modificarReporte}) {\r\n    const classes = Estilos();\r\n    let color;\r\n    switch (datos.estado) {\r\n        case -1:\r\n            color = \"#5d9b9b\"\r\n            break;\r\n        case 0:\r\n            color = \"gray\"\r\n            break;\r\n        case 1:\r\n            color = \"yellow\"\r\n            break;\r\n        case 2:\r\n            color = \"#FFDED3\"\r\n            break;\r\n        case 3:\r\n            color = \"#D6FFD3\"\r\n            break;\r\n    }\r\n    return (\r\n        <Paper className={classes.filaPublicacion} className=\"Fondo\" variant=\"outlined\" square>\r\n            <Grid container direction=\"row\" justify=\"center\" style={{padding:\"15px\"}}>\r\n                <Grid item xs={12} lg={9} md={9} sm={12}>\r\n                    <Button disabled>\r\n                        <Typography color=\"secondary\" variant=\"h5\" component=\"h2\" align=\"left\" >\r\n                            {datos.Solicitud_id===null?\"Reporte al usuario \":datos.Solicitud_id.titulo}\r\n                        </Typography>\r\n                    </Button>\r\n\r\n                    {\r\n                        datos.Solicitud_id!==null &&\r\n                        <Link to={\"/publicacion/\"+datos.Solicitud_id.id} className={classes.EstiloLink}>\r\n                            <Tooltip title=\"Vista previa\">\r\n                                <Button><Ojo color=\"primary\" /></Button>\r\n                            </Tooltip>\r\n                        </Link>\r\n                    }\r\n                        \r\n                    <Button disabled>\r\n                        <Flechita/>\r\n                    </Button>\r\n                  \r\n                    <Link to={\"/perfil-proveedor/\"+datos.Usuario_id.id} className={classes.EstiloLink}>\r\n                        <Button className={classes.button}>\r\n                            <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                                {`${datos.Usuario_id.nombre} ${datos.Usuario_id.apellido}`}\r\n                            </Typography>\r\n                        </Button>\r\n                    </Link>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} lg={3} md={3} sm={12}>\r\n                    <Typography variant=\"h6\" component=\"h5\" align=\"right\">\r\n                        {datos.created_at.split(\"T\")[0]}\r\n                    </Typography>\r\n                </Grid>\r\n                \r\n                \r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                        Motivos del reporte:\r\n                    </Typography>\r\n                </Grid>\r\n                \r\n                <Grid container direction=\"row\" justify=\"center\">\r\n                    {\r\n                        datos.motivos.map((motivo, i)=>(\r\n                            <Grid key={i} item xs={6} sm={3} md={3} lg={3}>\r\n                                <Typography variant=\"h6\" component=\"h3\" align=\"center\">\r\n                                    {\r\n                                        motivo.nombre\r\n                                    }\r\n                                </Typography>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n                \r\n                <Grid item xs={12}>\r\n                    <DesplegarInformacion datos={datos} modificarReporte={modificarReporte}/>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\n  \r\nfunction DesplegarInformacion({datos, modificarReporte}) {\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [open, setOpen] = useState(false);\r\n    const [accion, setaccion] = useState(false);\r\n    const [cargando, setcargando] = useState(false);\r\n\r\n    const classes = Estilos();\r\n\r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n\r\n    function enviarDatos(descripcion, aceptado){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n        let estado = 2\r\n        let datosNoti = \"Su \"+(datos.Solicitud_id!==null?\"publicacin\":\"perfil\")+\" tiene una sugerencia de modificacin. \\nMensaje de la administracin: \"+descripcion\r\n        \r\n        /**\r\n         * estado:-1 ->Reporte respondido por el usuario\r\n         * estado: 0 ->Reporte esperando a ser atendido\r\n         * estado: 1 ->Reporte en espera, el proveedor debe modificar su perfil/publicacin\r\n         * estado: 2 ->Reporte rechazado\r\n         * estado: 3 ->Reporte concluido\r\n         */\r\n\r\n        //Si se acepta el reporte\r\n        if(aceptado){\r\n            //Si la accin tomada es pausar la publicacin o continuar con la pausa\r\n            if(accion){\r\n                //El estado se setea en \"en espera de respuesta\"\r\n                estado = 1\r\n                datosNoti = datos.Solicitud_id!==null?\r\n                \"Su publicacin ha sido pausada por un administrador, deber modificarla para que vuelva a estar disponible al pblico. \\nMensaje de la administracin: \"+descripcion:\r\n                \"Su perfil ha sido bloqueado por un adminitrador, deber modificarlo para que vuelva a estar disponible al pblico. \\nMensaje de la administracin: \"+descripcion\r\n                //Bloqueamos la publicacin, si es que ya no lo est\r\n                if(datos.estado!==-1)\r\n                    cambiarVariableBloqueado(datos, true)\r\n            //Si no se pausa o se despausa\r\n            }else{\r\n                //El estado se setea en \"concludo\"\r\n                estado = 3\r\n                //Si el estado del reporte era \"respondido\", se desbloquea la publicacin\r\n                if(datos.estado===-1){\r\n                    cambiarVariableBloqueado(datos, false)\r\n                    aceptado = true\r\n                    datosNoti = datos.Solicitud_id!==null?\"Su publicacin se encuentra nuevamente disponible!\":\"Su perfil se encuentra nuevamente disponible!\"\r\n                }\r\n            }\r\n        }\r\n        \r\n        //Si aceptado es true, entonces el reporte es aceptado y se le notifica al usuario\r\n        if(aceptado===true){\r\n            axios.post(\r\n                state.servidor+\"/api/notificaciones/\",{\r\n                    tipo: 0,\r\n                    emisor: state.datosSesion.id,\r\n                    receptor: datos.Usuario_id.id,\r\n                    solicitud: datos.Solicitud_id!==null?datos.Solicitud_id.id:null,\r\n                    datos_notificacion: datosNoti,\r\n                    leido: false\r\n                },{\r\n                    headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(\"Se ha podido crear la notificacion: \",response.data)\r\n                if (datos.estado!==-1)\r\n                    actualizarReporte(response.data.id, estado)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\r\n                alert(\"Error, no se ha podido crear la notificacion.\")\r\n            })\r\n        }else{\r\n            //Si aceptado es false, entonces el reporte es descartado, luego se actualiza el estado del reporte\r\n            actualizarReporte(null, estado)\r\n        }\r\n    }\r\n\r\n    function actualizarReporte(notificacion, estado){\r\n        let auth = 'Bearer '+state.jwt;\r\n        axios.put(\r\n            state.servidor+\"/api/reportes/\"+datos.id,{\r\n                accion: accion,\r\n                estado: estado,\r\n                notificacion: notificacion,\r\n                Administrador_id: state.datosSesion.id\r\n            },{headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(\"Se ha podido crear el reporte: \",response.data)\r\n            setcargando(false)\r\n\r\n            /*El siguiente mtodo actualiza el arreglo de objetos de reporte del componente pestanaReportes, \r\n            con el objetivo de que el reporte cambie de estado y se muestre en su respectivo tab*/\r\n            modificarReporte(response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido crear el reporte.\", error.response)\r\n            alert(\"Error, no se ha podido crear el reporte.\")\r\n        })\r\n    }\r\n    \r\n    function cambiarVariableBloqueado(datos, bool){\r\n        let auth = 'Bearer '+state.jwt;\r\n        let ruta = datos.Solicitud_id===null?\"users/\":\"api/solicitud/\"\r\n        let _id = datos.Solicitud_id===null?datos.Usuario_id.id:datos.Solicitud_id.id\r\n        console.log(state.servidor+\"/\"+ruta+_id)\r\n        axios.put(\r\n            state.servidor+\"/\"+ruta+_id,{\r\n                bloqueado: bool,\r\n            },{headers: {'Authorization': auth},})\r\n        .then(response => {\r\n            console.log(\"Se ha podido bloquear\",response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido bloquear.\", error.response)\r\n            alert(\"Error, no se ha podido bloquear .\")\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary=\"Desplegar informacin\"/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <hr/>\r\n                    <Grid item xs={12}>\r\n                        {\r\n                            datos.descripcion.split(\"##\").map((mensaje, i)=>(\r\n                                <Typography key={i} align=\"justify\"> \r\n                                    {mensaje}\r\n                                </Typography>\r\n                            ))\r\n                        }\r\n                        \r\n                    </Grid>\r\n                    <hr/>\r\n                    \r\n                    {\r\n                        datos.estado<=0 && <FormControl component=\"fieldset\" align=\"left\">\r\n                            <FormLabel required component=\"legend\">Accin</FormLabel>\r\n                                <RadioGroup disabled={datos.estado>0} row aria-label=\"Accion\" value={accion} onChange={(e)=>{setaccion(!accion)}}>\r\n                                    <FormControlLabel\r\n                                    value=\"true\"\r\n                                    checked={accion}\r\n                                    control={<Radio />}\r\n                                    label={datos.estado===-1?\"Continuar con la publicacin pausada\":\"Pausar publicacin\"} />\r\n                                    <FormControlLabel\r\n                                    value=\"false\"\r\n                                    checked={!accion}\r\n                                    control={<Radio />}\r\n                                    label={datos.estado===-1?\"Despausar publicacin\":\"No hacer nada\"} />\r\n                                </RadioGroup>\r\n                        </FormControl>\r\n                    }\r\n                    {\r\n                        datos.estado>0 && <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                            {datos.accion?\"La publicacin fue pausada\":\"No se paus la publicacin\"}\r\n                        </Typography>\r\n                    }\r\n                    {\r\n                        cargando && <LinearProgress />\r\n                    }\r\n                    <div hidden={datos.estado>0}>\r\n                        {\r\n                            datos.estado===-1 && <ParteEspera_Historial datos={datos.notificacion}/>\r\n                        }\r\n                        <ParteNuevos enviarDatos={enviarDatos} cargando={cargando} esRespuesta={datos.estado===-1}/>\r\n                    </div>\r\n                    \r\n                    <div hidden={datos.estado<=0}>\r\n                        <ParteEspera_Historial datos={datos.notificacion}/>\r\n                    </div>\r\n                </List>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ParteNuevos = ({enviarDatos, cargando, esRespuesta}) =>{\r\n    const [descripcion, setdescripcion] = useState(\"\")\r\n    return(\r\n        <div>\r\n            <Grid item xs={12}>\r\n                <TextField\r\n                onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                value={descripcion}\r\n                id=\"outlined-basic\"\r\n                label=\"Agregar mensaje\"\r\n                multiline variant=\"outlined\"\r\n                size=\"medium\"\r\n                fullWidth/> \r\n            </Grid>\r\n\r\n            <div align=\"center\">\r\n                <Button disabled={cargando} startIcon={<Aceptar/>} onClick={()=>{enviarDatos(descripcion, true)}}>\r\n                    {esRespuesta?\"Confirmar accin\":\"Aceptar reclamo\"}\r\n                </Button>\r\n                <Button disabled={cargando} color=\"secondary\" startIcon={<Rechazar/>} onClick={()=>{enviarDatos(descripcion, false)}}>\r\n                    Descartar reclamo\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ParteEspera_Historial = ({datos}) =>{\r\n    return(\r\n        datos.map((notif, i)=>(\r\n            <div key={i}>\r\n                <hr/>\r\n                <Grid container justify=\"center\">\r\n                    <Grid item xs={9}>\r\n                        <Typography color=\"secondary\" variant=\"h5\" component=\"h4\" align=\"left\" >\r\n                            Mensaje del administrador\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                        <Typography variant=\"h6\" component=\"h5\" align=\"right\">\r\n                            {notif.created_at.split(\"T\")[0]}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        {notif.datos_notificacion}\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        ))\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {LinearProgress, Collapse, Hidden, ListItemText, ListItem, List, Paper, Grid, Typography, Button, TextField} from '@material-ui/core/';\r\nimport {Clear as Rechazar, Check as Aceptar, ExpandLess, ExpandMore} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Imagenes from 'react-lightbox-component';\r\nimport 'react-lightbox-component/build/css/index.css';\r\n\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function VerificarIdentidad() {\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [usuariosVerificar, setusuariosVerificar] = useState([])\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt\r\n        if (state.jwt!==\"\"){            \r\n            axios.get(state.servidor+\"/users?espera_verificacion=true\",{\r\n                headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(response.data)\r\n                setusuariosVerificar(response.data)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar los usuarios a verificar.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt])\r\n\r\n    function actualizarUsuario(usuario_id){\r\n        setusuariosVerificar(usuariosVerificar.filter(user => user.id!==usuario_id))\r\n    }\r\n\r\n    const classes = Estilos();\r\n    const [cargando, setcargando] = useState(false);\r\n    return (\r\n    <div className={classes.fondo}>\r\n        <Paper elevation={5}  style={{margin:\"10px 0px\", padding:\"20px\", width:\"90%\"}} className=\"Fondo\">\r\n            <Grid container justify=\"center\" spacing={2}>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h4\" component=\"h1\" align=\"center\">\r\n                        Verificar identidades\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    {\r\n                        cargando && <LinearProgress/>\r\n                    }\r\n                    <br/>\r\n                    {\r\n                        !cargando && (usuariosVerificar.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                            No hay usuarios que deseen verificar su identidad.\r\n                        </Alerta>))\r\n                    }\r\n                </Grid>\r\n                {\r\n                    usuariosVerificar.map((usuario, i) =>(\r\n                        <Grid item xs={12} key={i}>\r\n                            <Solicitud usuario={usuario} actualizarUsuario={actualizarUsuario}/>\r\n                        </Grid>\r\n                    ))\r\n                }\r\n            </Grid>\r\n        </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Solicitud({usuario, actualizarUsuario}) {\r\n    const classes = Estilos()\r\n    return (\r\n        <Paper className={classes.filaPublicacion} variant=\"outlined\" square>\r\n            <Grid container direction=\"row\" alignItems=\"center\">\r\n                <Grid item xs={12}>\r\n                    <Button className={classes.button}>\r\n                        <Typography variant=\"h5\" component=\"h5\" align=\"left\">\r\n                            {`${usuario.nombre} ${usuario.apellido}`}\r\n                        </Typography>\r\n                    </Button>\r\n                    <Button disabled>\r\n                        <Typography variant=\"h5\" component=\"h2\" align=\"left\" >\r\n                            DNI: {usuario.dni}\r\n                        </Typography>\r\n                    </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <DesplegarInformacion usuario={usuario} actualizarUsuario={actualizarUsuario}/>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\n\r\nfunction DesplegarInformacion({usuario, actualizarUsuario}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [open, setOpen] = useState(false);\r\n    const [imagenes, setimagenes] = useState([]);\r\n    const [cargando, setcargando] = useState(false);\r\n    const [descripcion, setdescripcion] = useState(\"\");\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n    \r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n    \r\n    function enviarDatos(aceptado){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Generamos una notificacin al usuario, indicando si se lo ha verificado o no.\r\n        axios.post(\r\n            state.servidor+\"/api/notificaciones/\",{\r\n                tipo: 1,\r\n                emisor: state.datosSesion.id,\r\n                receptor: usuario.id,\r\n                solicitud: null,\r\n                datos_notificacion: aceptado?\"\":descripcion,\r\n                leido: false\r\n            },\r\n            {headers: {'Authorization': auth},})\r\n        .then(response => {\r\n            console.log(\"Se ha podido crear la notificacion: \",response.data)\r\n\r\n            //Actualizamos los datos al usuario que solicit la verificacin de su identidad.\r\n            axios.put(\r\n                state.servidor+\"/users/\"+usuario.id,{\r\n                    espera_verificacion: false,\r\n                    identidad_verificada: aceptado\r\n                },{headers: {'Authorization': auth},})\r\n            .then(response => {\r\n                console.log(\"Se ha podido actualizar al usuario\",response.data)\r\n                actualizarUsuario(response.data.id)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido actualizar al usuario.\", error.response)\r\n                alert(\"Error, no se ha podido actualizar al usuario.\")\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\r\n            alert(\"Error, no se ha podido crear la notificacion.\")\r\n        })\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(usuario.imagenes_dni){\r\n            let img = usuario.imagenes_dni.map((imagen)=>(\r\n                {\r\n                    src: state.servidor+imagen.url,\r\n                    title: imagen.name,\r\n                    description: 'Imagenes de D.N.I.'\r\n                }\r\n            ))\r\n            setimagenes(img)\r\n        }\r\n    },[usuario])\r\n\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary=\"Desplegar informacin\"/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <Grid container direction=\"row\" alignItems=\"center\" justify=\"center\">\r\n                        <Grid item xs={4} sm={12}>\r\n                            <div align=\"center\">\r\n                                <Imagenes images={imagenes}\r\n                                    thumbnailWidth='100px'\r\n                                    thumbnailHeight='100px'\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                id=\"outlined-basic\"\r\n                                name=\"descripcion\"\r\n                                label=\"Agregar mensaje\"\r\n                                multiline variant=\"outlined\"\r\n                                size=\"medium\"\r\n                                fullWidth\r\n                                className={classes.inputAncho}\r\n                                onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                            >\r\n                            </TextField> \r\n                        </Grid>\r\n\r\n                        <Hidden xlDown={mensaje===\"\" || descripcion!==\"\"}>\r\n                            <Grid item xs={12}>\r\n                                <Typography color=\"error\">\r\n                                    {mensaje}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n                        {\r\n                            cargando && <LinearProgress/>\r\n                        }\r\n                        <div align=\"center\">\r\n                            <Button\r\n                            disabled={cargando}\r\n                            onClick={()=>{enviarDatos(true)}}\r\n                            color=\"secondary\"\r\n                            startIcon={<Aceptar/>}>\r\n                                Validar Identidad\r\n                            </Button>\r\n                            <Button\r\n                            disabled={cargando}\r\n                            onClick={()=>{descripcion===\"\"?setmensaje(\"Debe escribir un mensaje para rechazar la solicitud.\"):enviarDatos(false)}}\r\n                            color=\"primary\"\r\n                            startIcon={<Rechazar/>}>\r\n                                Rechazar Solicitud\r\n                            </Button>\r\n                        </div>\r\n                    </Grid>\r\n                </List>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Container, AppBar, Backdrop, CircularProgress, Box, Tab, Tabs} from '@material-ui/core';\r\n\r\nimport GestionarReportes from './GestionarReportes.js'\r\n\r\nimport Nuevo from '@material-ui/icons/Announcement';\r\nimport Reloj from '@material-ui/icons/QueryBuilder';\r\nimport Check from '@material-ui/icons/AssignmentTurnedIn';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-force-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-force-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-force-tab-${index}`,\r\n    'aria-controls': `scrollable-force-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap',\r\n    padding: 10,\r\n    minHeight:\"calc(100vh - 130px)\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nexport default function PestanaReportes() {\r\n  const [cargando, setcargando] = useState(false);\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const [reportes, setreportes] = useState([]);\r\n\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if (state.jwt!==\"\" || state.publico===true){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n\r\n        axios.get(state.servidor+\"/api/reportes\",{\r\n          headers: {'Authorization': auth}})\r\n        .then(response => {\r\n          setreportes(response.data)\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categoras.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n  },[state.jwt, state.publico])\r\n\r\n  function modificarReporte(report){\r\n    setreportes(\r\n      reportes.map((reporte)=>{\r\n        if(report.id===reporte.id){\r\n          return report\r\n        }else{\r\n          return reporte\r\n        }\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root} style={{padding:\"20px\"}} className=\"fondo\">\r\n      <Container>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            variant=\"fullWidth\"\r\n            scrollButtons=\"auto\"\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            aria-label=\"scrollable force tabs example\"\r\n          >\r\n            <Tab label=\"Gestionar nuevos reportes\" icon={<Nuevo />} {...a11yProps(0)} />\r\n            <Tab label=\"Reportes en espera\" icon={<Reloj />} {...a11yProps(1)} />\r\n            <Tab label=\"Historial de reportes\" icon={<Check />} {...a11yProps(2)} />\r\n          </Tabs>\r\n        </AppBar>\r\n        <Backdrop className={classes.backdrop} open={cargando}>\r\n          <CircularProgress/>\r\n        </Backdrop>\r\n        <TabPanel value={value} index={0}>\r\n          <GestionarReportes estadoReporte={0} cargando={cargando} modificarReporte={modificarReporte} reportes={reportes.filter((reporte)=>(reporte.estado<=0))}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={1}>\r\n          <GestionarReportes estadoReporte={1} cargando={cargando} modificarReporte={()=>{}} reportes={reportes.filter((reporte)=>(reporte.estado===1))}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={2}>\r\n          <GestionarReportes estadoReporte={2} cargando={cargando} modificarReporte={()=>{}} reportes={reportes.filter((reporte)=>(reporte.estado>=2))}/>\r\n        </TabPanel>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport FilaPublicacion from '../Categoria/FilaPublicacion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport { Typography, Paper, Container } from '@material-ui/core';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport axios from 'axios'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function MisPublicaciones({tipoPublicacion}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [tituloPagina, setTituloPagina] = useState(\"\");\r\n  const [cargando, setcargando] = useState(false)\r\n  const [solicitudes, setsolicitudes] = useState([])\r\n  const [resenas_servicio, setresenas_servicio] = useState(null)\r\n\r\n  useEffect(()=>{\r\n    setcargando(true)\r\n    //Dependiendo de si se quiere crear una publicacin o solicitar un servicio, se muestra la pantalla correspodiente\r\n    if(tipoPublicacion){\r\n      setTituloPagina(\"Mis publicaciones\");\r\n    }else{\r\n      setTituloPagina(\"Mis servicios solicitados\");\r\n    }\r\n    if(state.jwt!==\"\"){\r\n      console.log(tipoPublicacion)\r\n      setresenas_servicio(null)\r\n      buscarSolicitudes()\r\n    }\r\n  },[state.jwt, tipoPublicacion])\r\n\r\n  function buscarSolicitudes(){\r\n    axios.get(state.servidor+\"/api/solicitud?Usuario_id=\"+state.datosSesion.id+\"&tipo=\"+tipoPublicacion)\r\n    .then(response => {\r\n      setsolicitudes(response.data)\r\n      setcargando(false)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las solicitudes.\")\r\n      console.log(error.response)\r\n    })\r\n    //Si se estn listando publicaciones, entonces traemos tambin las reseas\r\n    if(tipoPublicacion){\r\n      axios.get(state.servidor+\"/api/resenas?proveedor=\"+state.datosSesion.id)\r\n      .then(response => {\r\n        let servicios_resena = {}      \r\n        response.data.map((resena=>{\r\n          resena.servicios.map(serv_=>{\r\n            if(!servicios_resena.hasOwnProperty(serv_.nombre)){\r\n              servicios_resena[serv_.nombre] = {resenas:[]}\r\n              servicios_resena[serv_.nombre].resenas.push(resena)\r\n            }else{\r\n              servicios_resena[serv_.nombre].resenas.push(resena)\r\n            }\r\n          })\r\n        }))\r\n  \r\n        setresenas_servicio(servicios_resena)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al buscar los servicios.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    \r\n    <Container className={classes.fondo}>\r\n        <Paper elevation={3} style={{width:950, padding: 15}} className=\"Fondo\">\r\n            <Typography variant=\"h5\" component=\"h2\" align=\"center\">{tituloPagina}</Typography>\r\n            <br/>\r\n            {\r\n              //Cuando cargando es true (seteado al momento de empezar a realizar la bsqueda de las publicaciones), nos muestra el componente de carga,\r\n              //y desaparece cuando cambia a false (seteado al finalizar la bsqueda de los datos)\r\n              cargando && <Cargando/>\r\n            }\r\n            {\r\n              !cargando && solicitudes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                No tienes {tipoPublicacion?\"publicaciones \":\"solicitudes \"}de servicios\r\n              </Alerta>)\r\n            }\r\n            {\r\n              solicitudes.map((solicitud, i)=>(\r\n                <FilaPublicacion resenas={resenas_servicio===null?null:resenas_servicio[solicitud.Servicio_id.nombre]} buscarSolicitudes={buscarSolicitudes} key={i} datos={solicitud} tipoPublicacion={tipoPublicacion} contactar={true}/>\r\n              ))\r\n            }\r\n        </Paper>\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport {Container, Typography, Paper, Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core/';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Estilos from '../Estilos';\r\n\r\nexport default function PreguntasFrecuentes() {\r\n  const classes = Estilos();\r\n  const [informacion, setinformacion] = React.useState([\r\n    {\r\n      pregunta: \"Qu es Servia?\",\r\n      respuesta: \"Servia es una aplicacin en la cual vas a poder encontrar servicios domesticos, publicar tus servicios o solicitar un servicio determinado.\"\r\n    },\r\n    {\r\n      pregunta: \"Cmo busco un servicio?\",\r\n      respuesta: 'Para buscar un servicio, debes hacer click en la opcion \"Explorar servicios\", luego se mostrar una pagina donde podrs seleccionar la categora referente al servicio que buscas, al hacer esto se abrir una pgina donde podrs ver y buscar servicios.'\r\n    },\r\n    {\r\n      pregunta: \"Cmo me vuelvo proveedor de servicios?\",\r\n      respuesta: 'Para ser proveedor, debes seleccionar la opcin \"Quiero ser proveedor de servicios\" al momento de registrarte o yendo a \"Editar mi perfil\".'\r\n    },\r\n    {\r\n      pregunta: \"Si soy un proveedor de servicios, Cmo verifico mi identidad en Servia?\",\r\n      respuesta: 'Para verificar tu identidad, debes ir a la opcion \"Verificar mi identidad\", all podrs cargar tu nmero de DNI y las fotos del mismo. Luego un administrador validar tus datos y te notificar los resultados.'\r\n    },\r\n    {\r\n      pregunta: \"Cmo me publicito en Servia?\",\r\n      respuesta: \"Servia ofrece a los proveedores la posibilidad de crear publicaciones en donde pueden mostrar una descripcin de sus servicio e imgenes que la acompaen.\"\r\n    },\r\n    {\r\n      pregunta: \"Cmo solicito un servicio?\",\r\n      respuesta: 'Para solicitar un servicio, debes ir a la opcin \"Solicitar servicio\", all podrs especificar todos los requerimientos, de modo de que algn proveedor se pueda contactar contigo para ayudarte.'\r\n    },\r\n    {\r\n      pregunta: \"Cmo administro las publicaciones/solicitudes que he hecho?\",\r\n      respuesta: 'Para administrar tus publicaciones/solicitudes, debes ir a la opcion \"Mis servicios solicitados\" o \"Mis publicaciones\", all podrs modificar o eliminar las publicaciones/solicitudes que hiciste.'\r\n    },\r\n    {\r\n      pregunta: \"Cmo contacto a un proveedor de servicios?\",\r\n      respuesta: 'Para contactar a un proveedor de servicios, debes ir a la publicacion del servicio que deseas y hacer click en la opcin \"Contactar\". Al hacer click en el boton \"Enviar\", se generar un Chat en el cual el proveedor podr responderte.'\r\n    },\r\n    {\r\n      pregunta: \"Cmo me mantengo en contacto con un proveedor de servicios?\",\r\n      respuesta: \"Para mantenerte en contacto con uno o varios proveedores existe un chat, el cual tendr los chats con los proveedores que hiciste contacto. Par accederlo debes hacer click en el cono de mensaje, al lado de la campana de notificaciones.\"\r\n    },\r\n  ])\r\n\r\n  return (\r\n    <div className={classes.fondo}>\r\n      <Paper elevation={3} style={{margin:\"auto\",width:850, padding:\"20px\"}} className=\"Fondo\">    \r\n        <Typography component=\"h3\" variant=\"h4\" align=\"center\">\r\n            Preguntas frecuentes\r\n        </Typography>\r\n        <br/>\r\n        <>\r\n          {\r\n            informacion.map((fila, i)=>(\r\n              <Accordion key={i}>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n                  <Typography  component=\"h6\" variant=\"h6\">{fila.pregunta}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Typography>\r\n                    {fila.respuesta}\r\n                  </Typography>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ))\r\n          }\r\n        </>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport {Typography, Paper} from '@material-ui/core/';\r\n\r\nimport Estilos from '../Estilos';\r\n\r\nexport default function SobreNosotros() {\r\n  const classes = Estilos();\r\n  return (\r\n    <div className={classes.fondo} >\r\n      <Paper elevation={3} style={{width:650, minHeight:300, padding: 15}}>    \r\n        <Typography component=\"h3\" variant=\"h4\" align=\"center\">\r\n            Quienes somos?\r\n        </Typography>  \r\n        <Typography variant=\"body1\" align=\"left\">\r\n            Somos...\r\n        </Typography>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}","import React, { useReducer, createContext} from \"react\";\r\n\r\nconst initialState = {\r\n    estadoEditado: false,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"setFalso\":\r\n            return {...state, estadoEditado: false};\r\n        case \"setVerdad\":\r\n            return {...state, estadoEditado: true};\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n\r\nconst ObtenerEstado = createContext(initialState);\r\n\r\nfunction ProveerEstadoCategoria({ children }) {\r\n    const [stateCategoria, dispatchCategoria] = useReducer(reducer, initialState);\r\n\r\n    return (\r\n        <ObtenerEstado.Provider value={{ stateCategoria, dispatchCategoria }}>\r\n            {children}\r\n        </ObtenerEstado.Provider>\r\n    );\r\n}\r\n\r\nexport { ObtenerEstado, ProveerEstadoCategoria };\r\n","import React,{useState, useEffect, useContext} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material UI\r\nimport {Typography, TextField, Button, Paper, Grid} from '@material-ui/core/';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\n//Libreria para consultar la API del servidor\r\nimport axios from 'axios';\r\n\r\n//Componentes creados\r\nimport Estilos from '../Estilos.js';\r\nimport SubirImagen from '../SubirImagen.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function VerificarMiIdentidad(){\r\n    const classes = Estilos()\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let history = useHistory();\r\n    //Variables de la pgina\r\n    const [cargando, setcargando] = useState(false)\r\n    const [abrir, setabrir] = useState(false);\r\n    //   \r\n    \r\n    //Variables de los campos   \r\n    const [DNI, setDNI] = useState(\"\")\r\n    const [imagenes, setimagenes] = useState([])\r\n    const [ImagenDNI, setImagenDNI] = useState([])\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setImagenDNI([...ImagenDNI, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = ImagenDNI.filter(f => f !== file)\r\n            setImagenDNI(aux)\r\n        }\r\n        setimagenesSubidas(subidas)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\"){\r\n            setDNI(state.datosSesion.dni)\r\n            let imgs = state.datosSesion.imagenes_dni.map(i_dni => i_dni.id)\r\n            setimagenes(imgs)\r\n        }\r\n    },[state.jwt])\r\n    \r\n    const enviarDatos = (e) =>{\r\n        e.preventDefault()\r\n        setcargando(true)\r\n\r\n        setDNI(String(DNI))\r\n\r\n        let archivosNuevos = []\r\n        \r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        ImagenDNI.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes dni:\", ImagenDNI)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n        \r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imgenes de la publicacin\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n\r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imgenes cargadas a la publicacin, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', state.datosSesion.id)\r\n            formData.append('field', 'imagenes_dni')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                console.log(\"Respuesta imagen: \",response.data)\r\n                guardarDatos()\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imgenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }else{\r\n            guardarDatos()\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    function guardarDatos(){\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Se modifica el perfil del usuario incluyendo los nuevos datos.\r\n        axios.put(\r\n            state.servidor+\"/users/\"+state.datosSesion.id,{\r\n                dni: DNI,\r\n                espera_verificacion: true\r\n            },{\r\n                headers: {\r\n                    'Authorization': auth\r\n            },})\r\n        .then(response => {\r\n            dispatch({type:\"setDatos\", value: response.data})\r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: state.jwt,\r\n                datosSesion: response.data\r\n            }));\r\n            console.log(\"Datos: \",response.data)\r\n            \r\n            setcargando(false)\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(\"/\"); }, 3000);\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se han podido enviar los datos.\", error.response)\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} >\r\n                <form onSubmit={enviarDatos}>\r\n                    <Grid className={classes.gridRegistro} spacing={1} container justify=\"space-between\" alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.inputAncho}>\r\n                                Verificar mi identidad\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} align=\"center\">\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"number\"\r\n                            name=\"dni\"\r\n                            value={DNI}\r\n                            style={{width:\"50%\"}}\r\n                            onChange={(e)=>{setDNI(e.target.value)}}\r\n                            id=\"filled-basic\"\r\n                            label=\"Nmero de documento\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"subtitle1\" component=\"h1\" align=\"justify\" className={classes.inputAncho}>\r\n                                Para que puedas verificar tu identidad, necesitamos que subas una foto del frente y otra del dorso de tu DNI. Procura que ambas imgenes se vean legibles y correspondan con los datos que proporcionaste en tu perfil.\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <SubirImagen cantidad={2} funcionSetImagen={funcionSetImagen} setcargando={setcargando} ids={imagenes}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            {cargando && <Cargando/>}\r\n                        </Grid>\r\n                        \r\n                        {\r\n                            (state.datosSesion.identidad_verificada || state.datosSesion.espera_verificacion) &&\r\n                            <Grid item xs={12}>\r\n                                <Typography variant=\"subtitle1\" component=\"h1\" align=\"justify\" color=\"error\" className={classes.inputAncho}>\r\n                                    {state.datosSesion.espera_verificacion?\"Ya tienes una solicitud de verificacin pendiente.\":\"Tu perfil ya est verificado!\"}\r\n                                </Typography>\r\n                            </Grid>\r\n                        }\r\n\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                                type=\"submit\"\r\n                                className={classes.inputAncho}\r\n                                size=\"large\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={cargando || state.datosSesion.identidad_verificada || state.datosSesion.espera_verificacion}\r\n                            >\r\n                                Enviar solicitud\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n                <AlertaMensaje mensaje={\"Solicitud enviada con xito! Pronto nos pondremos en contacto contigo.\"} abrir={abrir} setabrir={setabrir}/>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {LinearProgress, Avatar, Link, Divider, Button, Grid, Backdrop, Modal, Fade, Typography, TextField, FormControl, Hidden } from '@material-ui/core/';\r\n\r\n//Componentes\r\nimport Estrellas from '../Estrellas.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\nimport Estilos from '../Estilos.js'\r\nimport SeleccionarServicio from '../SeleccionarServicio.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nexport default function RealizarOpinion({eliminarNotificacion, datos}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [abrir, setabrir] = React.useState(false);\r\n  const [valorEstrella, setValorEstrella] = useState(0);\r\n  const [titulo, settitulo] = useState(\"\");\r\n  const [descripcion, setdescripcion] = useState(\"\");\r\n  const [servicios, setservicios] = useState([]);\r\n  const [serviciosSeleccionados, setserviciosSeleccionados] = useState([]);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [mensaje, setmensaje] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const cambiarValor = (e) =>{\r\n    setValorEstrella(Number(e.target.value));\r\n  }\r\n\r\n  useEffect(() => {\r\n    let _id = datos.solicitud!==null?datos.solicitud.Categoria_id:Number(datos.datos_notificacion.split(\"_\")[0])\r\n    let auth = 'Bearer '+state.jwt;\r\n    \r\n    let seleccInic = datos.solicitud!==null?[datos.solicitud.Servicio_id]:[]\r\n    setserviciosSeleccionados(seleccInic)\r\n    \r\n    axios.get(state.servidor+\"/api/servicios?categoria=\"+_id,{\r\n      headers: {'Authorization': auth},\r\n    })\r\n    .then(response => {\r\n      let servicios_ = response.data.map(serv=>{\r\n        serv[\"seleccionado\"] = false\r\n        return serv\r\n      })\r\n      console.log(\"Servicios\",servicios_)\r\n\r\n      setservicios(servicios_)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al buscar los servicios.\")\r\n      console.log(error.response)\r\n    }) \r\n  },[datos])\r\n\r\n\r\n  function enviarOpinion(e){\r\n    e.preventDefault()\r\n    let auth = 'Bearer '+state.jwt;\r\n    console.log(serviciosSeleccionados)\r\n    \r\n    if(serviciosSeleccionados.length!==0){\r\n      setcargando(true)\r\n      axios.post(\r\n        state.servidor+\"/api/resenas/\",{\r\n        titulo: titulo,\r\n        descripcion: descripcion,\r\n        recomendacion: Number(valorEstrella),\r\n        votos_positivos: 0,\r\n        votos_negativos: 0,\r\n        proveedor: datos.emisor.id,\r\n        servicios: serviciosSeleccionados.length!==0?serviciosSeleccionados:null,\r\n        },\r\n        {headers: {'Authorization': auth},})\r\n      .then(response => {\r\n        console.log(\"Se ha podido crear la resea: \",response.data)\r\n        eliminarNotificacion(datos.id)\r\n        setcargando(false)\r\n        setabrir(true)\r\n        setOpen(false)\r\n    })\r\n      .catch(error => {\r\n        console.log(\"Error, no se ha podido crear la resea.\", error.response)\r\n        alert(\"Error, no se ha podido crear la resea.\")\r\n    })\r\n    }else{\r\n      setmensaje(true)\r\n    }\r\n  }\r\n\r\n  function seleccionarServicio(servicio_){\r\n    if (mensaje)\r\n      setmensaje(false)\r\n    let yaEsta = serviciosSeleccionados.some(serv=>(serv === servicio_.id))\r\n    if(!yaEsta){\r\n      setserviciosSeleccionados([...serviciosSeleccionados, servicio_.id])\r\n    }else{\r\n      setserviciosSeleccionados(serviciosSeleccionados.filter(srv_ => srv_!==servicio_.id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpen}\r\n        >\r\n        Realizar resea\r\n      </Button>\r\n\r\n      <AlertaMensaje mensaje=\"Resea enviada!\" setabrir={setabrir} abrir={abrir}/>\r\n\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n        \r\n      >\r\n        <Fade in={open}>\r\n          <div >\r\n            <Grid className={classes.papelFondo} style={{maxWidth: \"500px\"}} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n              <form onSubmit={enviarOpinion}>\r\n                <FormControl >\r\n                  <Grid item xs={12}>\r\n                    <div align=\"center\">\r\n                        <Avatar\r\n                        alt=\"Nombre proveedor\"\r\n                        src={datos.emisor.imagenes_proveedor.length!==0?state.servidor+datos.emisor.imagenes_proveedor[0].url:\"\"}\r\n                        className={classes.imagenPublicacion}/>\r\n                    </div>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"center\" className={classes.form}>\r\n                      {`${datos.emisor.nombre} ${datos.emisor.apellido}`}\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                    <Typography variant=\"h5\" component=\"h3\" align=\"center\" className={classes.form}>\r\n                      {datos.solicitud!==null?\"Publicacin: \":\"Categora: \"} \r\n                      {datos.solicitud!==null?datos.solicitud.titulo:datos.datos_notificacion.split(\"_\")[1]}\r\n                    </Typography>\r\n\r\n                    <TextField\r\n                      onChange={(e)=>{settitulo(e.target.value)}}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Ttulo de la resea\"\r\n                      variant=\"filled\"\r\n                      required/>\r\n                    <Divider/>\r\n                    <br/>\r\n                    <TextField\r\n                      onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Descripcin (opcional)\"\r\n                      variant=\"filled\"\r\n                      multiline/>\r\n                    <br/>\r\n\r\n                    <Grid container spacing={2} justify=\"space-around\">\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"subtitle1\" component=\"h4\" align=\"center\" className={classes.form}>\r\n                          {datos.solicitud!==null?\"Si el proveedor te ha ofrecido otros servicios, puedes seleccionarlos aqu: \":\"Selecciona los servicios llevados a cabo: \"} \r\n                        </Typography>\r\n                      </Grid>\r\n                      {\r\n                        servicios.map((servicio,k) => (\r\n                          datos.solicitud!==null?(datos.solicitud.Servicio_id!==servicio.id):true &&\r\n                          <Grid item xs={6} sm={4} md={3} lg={2} key={k}>\r\n                            <SeleccionarServicio\r\n                              servicio={servicio} \r\n                              agregarSeleccionado={(valor)=>{\r\n                                seleccionarServicio(servicio)\r\n                                servicio.seleccionado = valor\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                        ))\r\n                      }\r\n                    </Grid>\r\n\r\n                    <Typography variant=\"h5\" component=\"h4\" align=\"center\" className={classes.form}>\r\n                        Valora el servicio brindado!\r\n                    </Typography>\r\n                    <Estrellas valor={valorEstrella} cambiarValor={cambiarValor} clickeable={true}/>\r\n\r\n                    <Hidden xlDown={!mensaje || cargando}>\r\n                      <Typography color=\"error\">\r\n                        Debes seleccionar al menos un servicio.\r\n                      </Typography>\r\n                    </Hidden>\r\n                    \r\n                    {cargando && <LinearProgress/>}\r\n\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={Number(valorEstrella)===0 || cargando}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                    >\r\n                      Enviar resea\r\n                    </Button>\r\n                </FormControl>\r\n                </form>\r\n            </Grid>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {IconButton, LinearProgress, Container, Paper, Grid, Typography} from '@material-ui/core/';\r\nimport {DeleteForever as Eliminar, FiberNew as Nuevo, Assignment as Reporte, EmojiPeople as Identidad, Star as Resena, FormatItalic} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport 'react-lightbox-component/build/css/index.css';\r\nimport { format, register } from 'timeago.js';\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { red } from '@material-ui/core/colors';\r\nimport RealizarOpinion from './RealizarOpinion.js'\r\nexport default function VerificarIdentidad() {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [notificaciones, setnotificaciones] = useState([])\r\n    const [cargando, setcargando] = useState(false);\r\n    \r\n    const [iconos, seticonos] = useState([<Reporte style={{ fontSize: \"75px\" }}/>, <Identidad style={{ fontSize: \"75px\" }}/>, <Resena style={{ fontSize: \"75px\" }}/>]);\r\n    //\r\n    const localeFunc = (number, index, totalSec) => {\r\n        // number: the timeago / timein number;\r\n        // index: the index of array below;\r\n        // totalSec: total seconds between date to be formatted and today's date;\r\n        return [\r\n          ['justo ahora', 'justo ahora'],\r\n          ['hace %s segundos', 'en %s segundos'],\r\n          ['hace 1 minuto', 'en 1 minuto'],\r\n          ['hace %s minutos', 'en %s minutos'],\r\n          ['hace 1 hora', 'en 1 hora'],\r\n          ['hace %s horas', 'en %s horas'],\r\n          ['hace 1 da', 'en 1 da'],\r\n          ['hace %s das', 'en %s das'],\r\n          ['hace 1 semana', 'en 1 semana'],\r\n          ['hace %s semanas', 'en %s semanas'],\r\n          ['hace 1 mes', 'en 1 mes'],\r\n          ['hace %s meses', 'en %s meses'],\r\n          ['hace 1 ao', 'en 1 ao'],\r\n          ['hace %s aos', 'en %s aos']\r\n        ][index];\r\n    };\r\n    register('spanish', localeFunc);\r\n    //\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt\r\n        if (state.jwt!==\"\" || state.publico===true){            \r\n            axios.get(state.servidor+\"/api/notificaciones?receptor=\"+state.datosSesion.id,{\r\n                headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(response.data)\r\n                setnotificaciones(response.data.reverse())\r\n\r\n                response.data.map(notif=>{\r\n                    if(notif.leido!==true){\r\n                        definirLeido(notif.id)\r\n                    }\r\n                })\r\n                \r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n    \r\n    function eliminarNotificacion(id_){\r\n        setnotificaciones(notificaciones.filter(notificacion=>notificacion.id!==id_))\r\n        let auth = 'Bearer '+state.jwt\r\n        axios.delete(state.servidor+\"/api/notificaciones/\"+id_,{\r\n            headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(response.data)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al eliminar la notificacin.\")\r\n            console.log(error.response)\r\n        }) \r\n    }\r\n\r\n    function definirLeido(id_){\r\n        let auth = 'Bearer '+state.jwt\r\n        axios.put(state.servidor+\"/api/notificaciones/\"+id_,{\r\n            leido: true\r\n        },{\r\n            headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(response.data)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cambiar la variable true.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.fondo}>\r\n            <Paper style={{padding:\"15px\", width:\"100%\"}} className=\"Fondo\" variant=\"outlined\" square>\r\n                <Grid container direction=\"row\" alignItems=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h4\" component=\"h4\" align=\"center\">\r\n                            Notificaciones\r\n                        </Typography>\r\n                        <br/>\r\n                    </Grid>\r\n                    {\r\n                        cargando && <Grid item xs={12}><LinearProgress/></Grid>\r\n                    }\r\n                    {\r\n                        !cargando && notificaciones.length===0 && (<Grid item xs={12}><Alerta variant=\"outlined\" severity=\"info\">\r\n                        No tienes notificaciones nuevas.\r\n                        </Alerta></Grid>)\r\n                    }  \r\n                    {\r\n                        notificaciones.map((noti, i)=>(\r\n                            <Paper key={i} className={classes.filaPublicacion} style={{margin:\"auto\" ,width:\"95%\"}} variant=\"outlined\" square>\r\n                                <Grid container item xs={12} alignItems=\"center\">\r\n                                    <Grid item xs={12} sm={2} md={1} lg={1} align=\"center\">\r\n                                        {\r\n                                            iconos[noti.tipo]\r\n                                        }\r\n                                    </Grid>\r\n                                    <Grid item xs={10} sm={8} md={10} lg={10}>\r\n                                        <Typography variant=\"h5\" component=\"h5\" align=\"left\">\r\n                                            {noti.tipo===0 && (noti.solicitud!==null?\r\n                                                'Reporte a la publicacin \"'+noti.solicitud.titulo+'\"':\r\n                                                'Reporte a su perfil')}\r\n                                            {noti.tipo===1 && 'Respuesta a tu solicitud de verificacin de identidad'}\r\n                                            {noti.tipo===2 && (noti.datos_notificacion===\"\"?\r\n                                                ('Nueva solicitud de resea a la publicacin \"'+noti.solicitud.titulo+'\"'):\r\n                                                ('Nueva solicitud de resea a la categora \"'+noti.datos_notificacion.split(\"_\")[1]+'\"'))}\r\n                                            {\" - \"+format(new Date(noti.created_at),\"spanish\")}\r\n                                            {!noti.leido && <Nuevo style={{ color: red[500] }}/>}\r\n                                        </Typography>\r\n                                        <Typography align=\"justify\">\r\n                                            {noti.tipo<2?(noti.datos_notificacion!==\"\"?noti.datos_notificacion:\"Felicitaciones! Tu perfil ahora est verificado.\"):\r\n                                            (noti.datos_notificacion===\"\"?\r\n                                            (noti.solicitud.tipo?('Tienes una nueva peticin de resea al servicio \"'+noti.solicitud.titulo):\r\n                                            ('Tienes una nueva peticin de resea al servicio ofrecido por el proveedor '+\r\n                                            `${noti.emisor.nombre} ${noti.emisor.apellido}`+' por tu solicitud \"'+noti.solicitud.titulo+'\". Cuntanos tu experiencia haciendo click en el botn!')):\r\n                                            ('Tienes una nueva peticin de resea a la categora \"'+noti.datos_notificacion.split(\"_\")[1]))}\r\n                                            {noti.tipo===2 && noti.solicitud.tipo && '\" realizada por el proveedor '+`${noti.emisor.nombre} ${noti.emisor.apellido}`+'. Cuntanos tu experiencia haciendo click en el botn!'}\r\n                                        </Typography>\r\n                                        {\r\n                                            noti.tipo===2 && <div align=\"center\"><RealizarOpinion datos={noti} eliminarNotificacion={eliminarNotificacion}/></div>\r\n                                        }\r\n                                        \r\n                                    </Grid>\r\n                                    <Grid item xs={2} sm={2} md={1} lg={1} align=\"center\">\r\n                                        {\r\n                                            <IconButton onClick={()=>{eliminarNotificacion(noti.id)}}><Eliminar color=\"error\" /></IconButton>\r\n                                        }\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Paper>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </Paper>\r\n        </Container>\r\n    );\r\n}","import React, { Component } from 'react';\n\nimport './PhotoMessage.css';\n\nimport FaCloudDownload from 'react-icons/lib/fa/cloud-download';\nimport FaError from 'react-icons/lib/fa/exclamation-triangle';\n\nconst ProgressBar = require('react-progress-bar.js');\nconst Circle = ProgressBar.Circle;\n\nexport class PhotoMessage extends Component {\n    render() {\n        var progressOptions = {\n            strokeWidth: 2.3,\n            color: '#efe',\n            trailColor: '#aaa',\n            trailWidth: 1,\n            step: (state, circle) => {\n                circle.path.setAttribute('trail', state.color);\n                circle.path.setAttribute('trailwidth-width', state.width);\n\n                var value = Math.round(circle.value() * 100);\n                if (value === 0)\n                    circle.setText('');\n                else\n                    circle.setText(value);\n            }\n        };\n\n        const error = this.props.data.status && this.props.data.status.error === true;\n\n        return (\n            <div className=\"rce-mbox-photo\">\n                <div\n                    className=\"rce-mbox-photo--img\"\n                    style={this.props.data.width && this.props.data.height && {\n                        width: this.props.data.width,\n                        height: this.props.data.height,\n                    }}>\n                    <img\n                        src={this.props.data.uri}\n                        alt={this.props.data.alt}\n                        onClick={this.props.onOpen}\n                        onLoad={this.props.onLoad}\n                        onError={this.props.onPhotoError}/>\n                    {\n                        error &&\n                        <div className=\"rce-mbox-photo--img__block\">\n                            <span\n                                className=\"rce-mbox-photo--img__block-item rce-mbox-photo--error\">\n                                <FaError/>\n                            </span>\n                        </div>\n                    }\n                    {\n                        !error &&\n                        this.props.data.status &&\n                        !this.props.data.status.download &&\n                        <div className=\"rce-mbox-photo--img__block\">\n                            {\n                                !this.props.data.status.click &&\n                                <button\n                                    onClick={this.props.onDownload}\n                                    className=\"rce-mbox-photo--img__block-item rce-mbox-photo--download\">\n                                    <FaCloudDownload/>\n                                </button>\n                            }\n                            {\n                                typeof this.props.data.status.loading === 'number' &&\n                                this.props.data.status.loading !== 0 &&\n                                <Circle\n                                    progress={this.props.data.status.loading}\n                                    options={progressOptions}\n                                    initialAnimate={true}\n                                    containerClassName={'rce-mbox-photo--img__block-item'} />\n                            }\n                        </div>\n                    }\n                </div>\n                {\n                    this.props.text &&\n                    <div className=\"rce-mbox-text\">\n                        {this.props.text}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nPhotoMessage.defaultProps = {\n    text: '',\n    data: {},\n    onDownload: null,\n    onOpen: null,\n    onLoad: null,\n    onPhotoError: null,\n};\n\n\nexport default PhotoMessage;\n","import React, { Component } from 'react';\nimport './FileMessage.css';\n\nimport FaCloudDownload from 'react-icons/lib/fa/cloud-download';\nimport FaError from 'react-icons/lib/fa/exclamation-triangle';\nimport FaFile from 'react-icons/lib/fa/file';\n\nconst ProgressBar = require('react-progress-bar.js');\nconst Circle = ProgressBar.Circle;\n\nexport class FileMessage extends Component {\n\n    onClick(e) {\n        if (!this.props.data.status)\n            return;\n\n        if (!this.props.data.status.download && this.props.onDownload instanceof Function)\n            this.props.onDownload(e);\n        else if (this.props.data.status.download && this.props.onOpen instanceof Function)\n            this.props.onOpen(e);\n    }\n\n    render() {\n        var progressOptions = {\n            strokeWidth: 5,\n            color: '#333',\n            trailColor: '#aaa',\n            trailWidth: 5,\n            step: (state, circle) => {\n                circle.path.setAttribute('trail', state.color);\n                circle.path.setAttribute('trailwidth-width', state.width);\n\n                var value = Math.round(circle.value() * 100);\n                if (value === 0)\n                    circle.setText('');\n                else\n                    circle.setText(value);\n            }\n        };\n\n        const error = this.props.data.status && this.props.data.status.error === true;\n\n        return (\n            <div className='rce-mbox-file'>\n                <button onClick={this.onClick.bind(this)}>\n                    <div className=\"rce-mbox-file--icon\">\n                        <FaFile\n                            color='#aaa'/>\n                        <div className=\"rce-mbox-file--size\">\n                            {this.props.data.size}\n                        </div>\n                    </div>\n                    <div className=\"rce-mbox-file--text\">\n                        {this.props.text}\n                    </div>\n                    <div className=\"rce-mbox-file--buttons\">\n                        {\n                            error &&\n                            <span className=\"rce-error-button\">\n                                <FaError\n                                    color='#ff3d3d'/>\n                            </span>\n                        }\n                        {\n                            !error &&\n                            this.props.data.status &&\n                            !this.props.data.status.download &&\n                            !this.props.data.status.click &&\n                            <FaCloudDownload\n                                color='#aaa'/>\n                        }\n                        {\n                            !error &&\n                            this.props.data.status &&\n                            typeof this.props.data.status.loading === 'number' &&\n                            this.props.data.status.loading !== 0 &&\n                            <Circle\n                                progress={this.props.data.status.loading}\n                                options={progressOptions}\n                                initialAnimate={true}\n                                containerClassName={'rce-mbox-file--loading'} />\n                        }\n                    </div>\n                </button>\n            </div>\n        );\n    }\n}\n\nFileMessage.defaultProps = {\n    text: '',\n    data: {},\n    onClick: null,\n    onDownload: null,\n    onOpen: null,\n};\n\n\nexport default FileMessage;\n","import React, { Component } from 'react';\nimport './SystemMessage.css';\n\nconst classNames = require('classnames');\n\nexport class SystemMessage extends Component {\n    render() {\n        return (\n            <div className={classNames(\"rce-container-smsg\", this.props.className)}>\n                <div\n                    className='rce-smsg'>\n                    <div className=\"rce-smsg-text\">\n                        {this.props.text}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SystemMessage;\n","import React, { Component } from 'react';\nimport './LocationMessage.css';\n\nconst classNames = require('classnames');\n\nconst STATIC_URL = 'https://maps.googleapis.com/maps/api/staticmap?markers=color:MARKER_COLOR|LATITUDE,LONGITUDE&zoom=ZOOM&size=270x200&scale=2&key=KEY';\nconst MAP_URL = 'https://www.google.com/maps/search/?api=1&query=LATITUDE,LONGITUDE&zoom=ZOOM';\n\nexport class LocationMessage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.className = this.className.bind(this);\n    }\n\n    buildURL(url) {\n        var center = this.props.data || {};\n\n        return url.replace(/LATITUDE/g, center.latitude)\n                  .replace(/LONGITUDE/g, center.longitude)\n                  .replace('MARKER_COLOR', this.props.markerColor)\n                  .replace('ZOOM', this.props.zoom)\n                  .replace('KEY', this.props.apiKey);\n    }\n\n    className() {\n        var className = classNames('rce-mbox-location', this.props.className);\n\n        if (this.props.text) {\n            className = classNames(className, 'rce-mbox-location-has-text');\n        }\n\n        return className;\n    }\n\n    render() {\n        const data = this.props.data || {};\n\n        return (\n            <div className='rce-container-lmsg'>\n                <a\n                    onClick={this.props.onOpen}\n                    target={this.props.target}\n                    href={this.props.href ||this.props.src || this.buildURL(data.mapURL || MAP_URL)}\n                    className={this.className()}>\n                    <img\n                        onError={this.props.onError}\n                        className='rce-mbox-location-img'\n                        src={\n                            this.props.src ||\n                            this.buildURL(data.staticURL || STATIC_URL)\n                        }/>\n                </a>\n                {\n                    this.props.text &&\n                    <div className=\"rce-mbox-text rce-mbox-location-text\">\n                        {this.props.text}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nLocationMessage.defaultProps = {\n    target: '_blank',\n    apiKey: '',\n    zoom: 14,\n    markerColor: 'red',\n    onError: () => void(0),\n}\n\nexport default LocationMessage;\n","import React, { Component } from 'react';\nimport './SpotifyMessage.css';\n\nconst classNames = require('classnames');\n\nexport class SpotifyMessage extends Component {\n    toUrl() {\n        var formBody = [];\n        var data = {\n            uri: this.props.uri,\n            theme: this.props.theme,\n            view: this.props.view,\n        };\n        for (var property in data) {\n            var encodedKey = encodeURIComponent(property);\n            var encodedValue = encodeURIComponent(data[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n        formBody = formBody.join(\"&\");\n        return formBody;\n    }\n\n    render() {\n        if (!this.props.uri)\n            return null;\n        return (\n            <div className=\"rce-mbox-spotify\">\n                <iframe\n                    src={\"https://open.spotify.com/embed?\" + this.toUrl()}\n                    width={this.props.width}\n                    height={this.props.height}\n                    frameBorder=\"0\"\n                    allowtransparency=\"true\"></iframe>\n            </div>\n        );\n    }\n}\n\nSpotifyMessage.defaultProps = {\n    uri: '',\n    theme: 'black',\n    view: 'list',\n    width: 300,\n    height: 380,\n}\n\nexport default SpotifyMessage;\n","import React, { Component } from 'react';\nimport './ReplyMessage.css';\n\nconst classNames = require('classnames');\n\nexport class ReplyMessage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const {\n            photoURL,\n            title,\n            titleColor,\n            message,\n            onClick,\n        } = this.props;\n\n        return (\n            <div\n                className={classNames(\"rce-mbox-reply\", {\n                    'rce-mbox-reply-border': !!titleColor\n                })}\n                style={titleColor && { borderColor: titleColor }}\n                onClick={onClick}>\n                <div className=\"rce-mbox-reply-left\">\n                    <div\n                        style={titleColor && { color: titleColor }}\n                        className=\"rce-mbox-reply-owner\">\n                        {title || 'Unknown'}\n                    </div>\n                    <div className=\"rce-mbox-reply-message\">\n                        {message || '...'}\n                    </div>\n                </div>\n                {\n                    photoURL &&\n                    <div className=\"rce-mbox-reply-right\">\n                        <img src={photoURL} alt=\"\"/>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nReplyMessage.defaultProps = {\n    photoURL: null,\n    title: null,\n    titleColor: null,\n    message: null,\n    onClick: () => void(0),\n}\n\nexport default ReplyMessage;\n","import React, { Component } from 'react';\nimport './Avatar.css';\n\nconst classNames = require('classnames');\n\nconst loadedAvatars = [];\n\nexport class Avatar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.requestImage = this.requestImage.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    isLoaded(src) {\n        return loadedAvatars.indexOf(src) !== -1;\n    }\n\n    requestImage(src) {\n        var self = this;\n        this.loading = true;\n\n        var loaded = () => {\n            loadedAvatars.push(src);\n            delete self.loading;\n            if (this._isMounted !== false) {\n                self.setState({});\n            }\n        };\n\n        var img = document.createElement('img');\n        img.src = src;\n        img.onload = loaded;\n        img.onerror = loaded;\n    }\n\n    stringToColour (str) {\n        var hash = 0;\n        for (let i = 0; i < str.length; i++) {\n            hash = str.charCodeAt(i) + ((hash << 5) - hash);\n        }\n        var colour = '#';\n        for (let i = 0; i < 3; i++) {\n            var value = (hash >> (i * 8)) & 0xFF;\n            value = (value % 150) + 50;\n            colour += ('00' + value.toString(16)).substr(-2);\n        }\n        return colour;\n    }\n\n    render() {\n        let src = this.props.src;\n        let isLazyImage = false;\n\n        if (this.props.lazyLoadingImage) {\n            isLazyImage = true;\n\n            if (!this.isLoaded(src)) {\n                src = this.props.lazyLoadingImage; // lazy image\n\n                if (!this.loading) {\n                    this.requestImage(this.props.src);\n                }\n            }\n            else {\n                isLazyImage = false;\n            }\n        }\n\n        return (\n            <div className={classNames('rce-avatar-container', this.props.type, this.props.size, this.props.className)}>\n                {\n                    this.props.letterItem ?\n                    <div\n                        className=\"rce-avatar-letter-background\"\n                        style={{ backgroundColor: this.stringToColour(this.props.letterItem.id)}}>\n                        <span className=\"rce-avatar-letter\">\n                            {this.props.letterItem.letter}\n                        </span>\n                    </div>\n                    :\n                    <img\n                        alt={this.props.alt}\n                        src={src}\n                        onError={this.props.onError}\n                        className={classNames(\n                            'rce-avatar',\n                            {'rce-avatar-lazy': isLazyImage},\n                        )} />\n                }\n                {this.props.sideElement}\n            </div>\n        );\n    }\n}\n\nAvatar.defaultProps = {\n    type: 'default',\n    size: 'default',\n    src: '',\n    alt: '',\n    sideElement: null,\n    lazyLoadingImage: undefined,\n    onError: () => void(0),\n};\n\nexport default Avatar;\n","import React, { Component } from 'react';\nimport './MeetingMessage.css';\n\nimport FaCalendar from 'react-icons/lib/fa/calendar';\nimport MdMoreHoriz from 'react-icons/lib/md/more-horiz';\nimport FaCaretDown from 'react-icons/lib/fa/caret-down';\nimport FaCaretRight from 'react-icons/lib/fa/caret-right';\nimport IoVideo from 'react-icons/lib/io/ios-videocam-outline';\nimport IoChatboxes from 'react-icons/lib/io/ios-chatboxes-outline';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport classNames from 'classnames';\n\nexport class MeetingMessage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            toogle: false,\n        };\n    }\n\n    toggleClick() {\n        this.setState({\n            toogle: !this.state.toogle,\n        })\n    }\n\n    render() {\n        const {\n            date,\n            dateString,\n            title,\n            subject,\n            onClick,\n            collapseTitle,\n            dataSource,\n            participants,\n            onMeetingTitleClick,\n            onMeetingVideoLinkClick,\n        } = this.props;\n\n        const PARTICIPANT_LIMIT = this.props.participantsLimit;\n\n        const dateText = dateString ? dateString : (date && !isNaN(date) && (format(date)));\n\n        return (\n            <div className=\"rce-mbox-mtmg\">\n                <div className=\"rce-mtmg\">\n                    <div\n                        className=\"rce-mtmg-subject\">\n                        {subject || 'Unknown Meeting'}\n                    </div>\n                    <div\n                        className=\"rce-mtmg-body\"\n                        onClick={onClick}>\n                        <div className=\"rce-mtmg-item\">\n                            <FaCalendar />\n                            <div className=\"rce-mtmg-content\">\n                                <span className=\"rce-mtmg-title\">\n                                    {title}\n                                </span>\n                                <span className='rce-mtmg-date'>\n                                    {dateText}\n                                </span>\n                            </div>\n                        </div>\n                        <div className=\"rce-mtmg-right-icon\">\n                            <MdMoreHoriz/>\n                        </div>\n                    </div>\n                    <div\n                        className=\"rce-mtmg-body-bottom\"\n                        onClick={() => this.toggleClick()}>\n                        {\n                            this.state.toogle === true ?\n                            <div className=\"rce-mtmg-bottom--tptitle\">\n                                <FaCaretDown/>\n                                <span>{collapseTitle}</span>\n                            </div>\n                            :\n                            <div className=\"rce-mtmg-body-bottom--bttitle\">\n                                <FaCaretRight/>\n                                <span>\n                                    {\n                                        participants.slice(0, PARTICIPANT_LIMIT).map(x => x.title || 'Unknow').join(', ')\n                                    }\n                                    {\n                                        participants.length > PARTICIPANT_LIMIT &&\n                                            `, +${(participants.length - PARTICIPANT_LIMIT)}`\n                                    }\n                                </span>\n                            </div>\n                        }\n                    </div>\n                    <div\n                        className={classNames(\n                            'rce-mtmg-toogleContent',\n                            {'rce-mtmg-toogleContent--click': this.state.toogle === true}\n                        )}>\n                        {\n                            dataSource &&\n                            dataSource.map((x, i) => {\n                                return (\n                                    <div key={i}>\n                                        {\n                                            !x.event &&\n                                            <div className=\"rce-mitem\">\n                                                <div\n                                                    className={classNames(\n                                                        'rce-mitem avatar',\n                                                        {'rce-mitem no-avatar': !x.avatar}\n                                                    )}>\n                                                    {\n                                                        x.avatar ?\n                                                            <Avatar src={x.avatar}/>\n                                                            : <IoChatboxes />\n                                                    }\n                                                </div>\n                                                <div className=\"rce-mitem-body\">\n                                                    <div className=\"rce-mitem-body--top\">\n                                                        <div\n                                                            className=\"rce-mitem-body--top-title\"\n                                                            onClick={(e) => onMeetingTitleClick(x, i, e)}>\n                                                            {x.title}\n                                                        </div>\n                                                        <div className=\"rce-mitem-body--top-time\">\n                                                            {\n                                                                x.dateString ? x.dateString : (x.date &&\n                                                                !isNaN(x.date) &&\n                                                                (format(x.date)))\n                                                            }\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"rce-mitem-body--bottom\">\n                                                        <div\n                                                            className=\"rce-mitem-body--bottom-title\" >\n                                                            {x.message}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        }\n\n                                        {\n                                            x.event &&\n                                            <div className=\"rce-mitem-event\">\n                                                <div className=\"rce-mitem-bottom-body\">\n                                                    <div className=\"rce-mitem-body avatar\">\n                                                        <IoVideo />\n                                                    </div>\n                                                    <div className=\"rce-mitem-bottom-body-top\">\n                                                        {x.event.title}\n                                                        <div className=\"rce-mitem-body--top-time\">\n                                                            {\n                                                                x.dateString ? x.dateString : (x.date &&\n                                                                !isNaN(x.date) &&\n                                                                (format(x.date)))\n                                                            }\n                                                        </div>\n                                                        <div className=\"rce-mitem-avatar-content\">\n                                                            {\n                                                                x.event.avatars &&\n                                                                x.event.avatars.map((x, i) => x instanceof Avatar ? x : (\n                                                                    <div key={i} className=\"rce-mitem-avatar\">\n                                                                        <Avatar\n                                                                            src={x.src}/>\n                                                                    </div>\n                                                                ))\n                                                            }\n                                                        </div>\n                                                        {\n                                                            x.record &&\n                                                            <div className=\"rce-mtmg-call-record\">\n                                                                <div className=\"rce-mtmg-call-body\">\n                                                                    <div\n                                                                        onClick={(e) => onMeetingVideoLinkClick(x, i, e)}\n                                                                        className=\"rce-mtmg-call-avatars\">\n                                                                        <Avatar\n                                                                            className={'rce-mtmg-call-avatars'}\n                                                                            src={x.record.avatar}/>\n                                                                        <div className={'rce-mtmg-record-time'}>\n                                                                            {x.record.time}\n                                                                        </div>\n                                                                    </div>\n                                                                    <div className=\"rce-mtmg-call-body-title\">\n                                                                        <span>\n                                                                            {x.record.title}\n                                                                        </span>\n                                                                        <div className=\"rce-mtmg-call-body-bottom\">\n                                                                            {x.record.savedBy}\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        }\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        }\n                                    </div>\n                                )\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nMeetingMessage.defaultProps = {\n    date: new Date(),\n    dateString: '',\n    title: '',\n    subject: '',\n    collapseTitle: '',\n    participantsLimit: 3,\n    avatarFlexible: false,\n    dataSource: [],\n    participants: [],\n    onClick: () => void(0),\n    onMeetingTitleClick: () => void(0),\n    onMeetingVideoLinkClick: () => void(0),\n    onAvatarError: () => void(0),\n};\n\nexport default MeetingMessage;\n","import React, { Component } from 'react';\nimport './MessageBox.css';\n\nimport PhotoMessage from '../PhotoMessage/PhotoMessage';\nimport FileMessage from '../FileMessage/FileMessage';\nimport SystemMessage from '../SystemMessage/SystemMessage';\nimport LocationMessage from '../LocationMessage/LocationMessage';\nimport SpotifyMessage from '../SpotifyMessage/SpotifyMessage';\nimport ReplyMessage from '../ReplyMessage/ReplyMessage';\nimport MeetingMessage from '../MeetingMessage/MeetingMessage';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport FaForward from 'react-icons/lib/fa/mail-forward';\n\nimport IoDoneAll from 'react-icons/lib/io/android-done-all';\nimport MdIosTime from 'react-icons/lib/md/access-time';\nimport MdCheck from 'react-icons/lib/md/check';\nimport MdMessage from 'react-icons/lib/md/message';\n\nimport {\n    format,\n} from 'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class MessageBox extends Component {\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.focus !== this.props.focus && nextProps.focus === true) {\n            if (this.refs['message']) {\n                this.refs['message'].scrollIntoView({\n                    block: \"center\",\n                    behavior: 'smooth'\n                })\n\n                this.props.onMessageFocused(nextProps);\n            }\n        }\n    }\n\n    render() {\n        var positionCls = classNames('rce-mbox', { 'rce-mbox-right': this.props.position === 'right' });\n        var thatAbsoluteTime = !/(text|file|meeting)/g.test(this.props.type) && !(this.props.type === 'location' && this.props.text);\n\n        const dateText = this.props.date && !isNaN(this.props.date) && (\n            this.props.dateString ||\n            format(this.props.date)\n        );\n\n        return (\n            <div\n                ref='message'\n                className={classNames('rce-container-mbox', this.props.className)}\n                onClick={this.props.onClick}>\n                {\n                    this.props.renderAddCmp instanceof Function &&\n                    this.props.renderAddCmp()\n                }\n                {\n                    this.props.type === 'system' ?\n                        <SystemMessage\n                            text={this.props.text} />\n                        :\n                        <div\n                            className={classNames(\n                                positionCls,\n                                {'rce-mbox--clear-padding': thatAbsoluteTime},\n                                {'rce-mbox--clear-notch': !this.props.notch},\n                                { 'message-focus': this.props.focus},\n                            )}>\n                            <div\n                                className='rce-mbox-body'\n                                onContextMenu={this.props.onContextMenu}>\n                                {\n                                    this.props.forwarded === true &&\n                                    <div\n                                        className={classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-forward-right': this.props.position === 'left' },\n                                            { 'rce-mbox-forward-left': this.props.position === 'right' }\n                                        )}\n                                        onClick={this.props.onForwardClick}>\n                                            <FaForward />\n                                    </div>\n                                }\n\n                                {\n                                    this.props.replyButton === true &&\n                                    <div\n                                        className={this.props.forwarded !== true ? classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-forward-right': this.props.position === 'left' },\n                                            { 'rce-mbox-forward-left': this.props.position === 'right' }\n                                        ) : classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-reply-btn-right': this.props.position === 'left' },\n                                            { 'rce-mbox-reply-btn-left': this.props.position === 'right' }\n                                        )}\n                                        onClick={this.props.onReplyClick}>\n                                            <MdMessage />\n                                    </div>\n                                }\n\n                                {\n                                    (this.props.title || this.props.avatar) &&\n                                    <div\n                                        style={this.props.titleColor && { color: this.props.titleColor }}\n                                        onClick={this.props.onTitleClick}\n                                        className={classNames('rce-mbox-title', {\n                                            'rce-mbox-title--clear': this.props.type === 'text',\n                                        })}>\n                                        {\n                                            this.props.avatar &&\n                                            <Avatar\n                                                letterItem={this.props.letterItem}\n                                                src={this.props.avatar}/>\n                                        }\n                                        {\n                                            this.props.title &&\n                                            <span>{this.props.title}</span>\n                                        }\n                                    </div>\n                                }\n\n                                {\n                                    this.props.reply &&\n                                    <ReplyMessage\n                                        photoURL={this.props.reply.photoURL}\n                                        title={this.props.reply.title}\n                                        titleColor={this.props.reply.titleColor}\n                                        message={this.props.reply.message}\n                                        onClick={this.props.onReplyMessageClick}/>\n                                }\n\n                                {\n                                    this.props.type === 'text' &&\n                                    <div className=\"rce-mbox-text\">\n                                        {this.props.text}\n                                    </div>\n                                }\n\n                                {\n                                    this.props.type === 'location' &&\n                                    <LocationMessage\n                                        onOpen={this.props.onOpen}\n                                        data={this.props.data}\n                                        target={this.props.target}\n                                        href={this.props.href}\n                                        apiKey={this.props.apiKey}\n                                        src={this.props.src}\n                                        zoom={this.props.zoom}\n                                        markerColor={this.props.markerColor}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'photo' &&\n                                    <PhotoMessage\n                                        onOpen={this.props.onOpen}\n                                        onDownload={this.props.onDownload}\n                                        onLoad={this.props.onLoad}\n                                        onPhotoError={this.props.onPhotoError}\n                                        data={this.props.data}\n                                        width={this.props.width}\n                                        height={this.props.height}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'file' &&\n                                    <FileMessage\n                                        onOpen={this.props.onOpen}\n                                        onDownload={this.props.onDownload}\n                                        data={this.props.data}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'spotify' &&\n                                    <SpotifyMessage\n                                        width={this.props.width}\n                                        height={this.props.height}\n                                        theme={this.props.theme}\n                                        view={this.props.view}\n                                        data={this.props.data}\n                                        uri={this.props.uri || this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'meeting' &&\n                                    this.props.meeting &&\n                                    <MeetingMessage\n                                        subject={this.props.meeting.subject}\n                                        title={this.props.meeting.title}\n                                        date={this.props.meeting.date}\n                                        dateString={this.props.meeting.dateString}\n                                        collapseTitle={this.props.meeting.collapseTitle}\n                                        participants={this.props.meeting.participants}\n                                        dataSource={this.props.meeting.dataSource}\n                                        onMeetingMessageClick={this.props.onMeetingMessageClick}\n                                        onMeetingVideoLinkClick={this.props.onMeetingVideoLinkClick}\n                                        onMeetingTitleClick={this.props.onMeetingTitleClick} />\n                                }\n\n                                <div\n                                    className={classNames(\n                                        'rce-mbox-time',\n                                        { 'rce-mbox-time-block': thatAbsoluteTime },\n                                        { 'non-copiable': !this.props.copiableDate },\n                                    )}\n                                    data-text={this.props.copiableDate ? undefined : dateText}>\n                                    {\n                                        this.props.copiableDate &&\n                                        this.props.date &&\n                                        !isNaN(this.props.date) &&\n                                        (\n                                            this.props.dateString ||\n                                            format(this.props.date)\n                                        )\n                                    }\n                                    {\n                                        this.props.status &&\n                                        <span className='rce-mbox-status'>\n                                            {\n                                                this.props.status === 'waiting' &&\n                                                <MdIosTime />\n                                            }\n\n                                            {\n                                                this.props.status === 'sent' &&\n                                                <MdCheck />\n                                            }\n\n                                            {\n                                                this.props.status === 'received' &&\n                                                <IoDoneAll />\n                                            }\n\n                                            {\n                                                this.props.status === 'read' &&\n                                                <IoDoneAll color='#4FC3F7'/>\n                                            }\n                                        </span>\n                                    }\n                                </div>\n                            </div>\n\n                            {\n                                this.props.notch &&\n                                (this.props.position === 'right' ?\n                                    <svg className={classNames(\n                                        \"rce-mbox-right-notch\",\n                                        { 'message-focus': this.props.focus},\n                                    )} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                        <path d=\"M0 0v20L20 0\" />\n                                    </svg>\n                                    :\n                                    <div>\n                                        <svg className={classNames(\n                                                \"rce-mbox-left-notch\",\n                                                { 'message-focus': this.props.focus},\n                                            )} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                            <defs>\n                                                <filter id=\"filter1\" x=\"0\" y=\"0\">\n                                                    <feOffset result=\"offOut\" in=\"SourceAlpha\" dx=\"-2\" dy=\"-5\" />\n                                                    <feGaussianBlur result=\"blurOut\" in=\"offOut\" stdDeviation=\"3\" />\n                                                    <feBlend in=\"SourceGraphic\" in2=\"blurOut\" mode=\"normal\" />\n                                                </filter>\n                                            </defs>\n                                            <path d=\"M20 0v20L0 0\" filter=\"url(#filter1)\" />\n                                        </svg>\n                                    </div>\n                                )\n                            }\n                        </div>\n                }\n            </div>\n        );\n    }\n}\n\nMessageBox.defaultProps = {\n    position: 'left',\n    type: 'text',\n    text: '',\n    title: null,\n    titleColor: null,\n    onTitleClick: null,\n    onForwardClick: null,\n    onReplyClick: null,\n    onReplyMessageClick: null,\n    date: new Date(),\n    data: {},\n    onClick: null,\n    onOpen: null,\n    onDownload: null,\n    onLoad: null,\n    onPhotoError: null,\n    forwarded: false,\n    reply: false,\n    status: null,\n    dateString: null,\n    notch: true,\n    avatar: null,\n    renderAddCmp: null,\n    copiableDate: false,\n    onContextMenu: null,\n    focus: false,\n    onMessageFocused: null,\n};\n\n\nexport default MessageBox;\n","import React, { Component } from 'react';\nimport './ChatItem.css';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class ChatItem extends Component {\n\n    render() {\n        const statusColorType = this.props.statusColorType;\n\n        return (\n            <div\n                className={classNames('rce-container-citem', this.props.className)}\n                onClick={this.props.onClick}\n                onContextMenu={this.props.onContextMenu}>\n                <div className=\"rce-citem\">\n                    <div className={classNames(\n                            \"rce-citem-avatar\",\n                            {\n                                'rce-citem-status-encircle': statusColorType === 'encircle',\n                            }\n                        )}>\n                        <Avatar\n                            src={this.props.avatar}\n                            alt={this.props.alt}\n                            className={statusColorType === 'encircle' ? 'rce-citem-avatar-encircle-status' : ''}\n                            size=\"large\"\n                            letterItem={this.props.letterItem}\n                            sideElement={\n                                this.props.statusColor &&\n                                <span\n                                    className='rce-citem-status'\n                                    style={statusColorType === 'encircle' ? {\n                                        boxShadow: `inset 0 0 0 2px ${this.props.statusColor}, inset 0 0 0 5px #FFFFFF`\n                                    } : {\n                                        backgroundColor: this.props.statusColor,\n                                    }}>\n                                    {this.props.statusText}\n                                </span>\n                            }\n                            onError={this.props.onAvatarError}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            type={classNames('circle', {'flexible': this.props.avatarFlexible})}/>\n                    </div>\n\n                    <div className=\"rce-citem-body\">\n                        <div className=\"rce-citem-body--top\">\n                            <div className=\"rce-citem-body--top-title\">\n                                {this.props.title}\n                            </div>\n                            <div className=\"rce-citem-body--top-time\">\n                                {\n                                    this.props.date &&\n                                    !isNaN(this.props.date) &&\n                                    (\n                                        this.props.dateString ||\n                                        format(this.props.date)\n                                    )\n                                }\n                            </div>\n                        </div>\n\n                        <div className=\"rce-citem-body--bottom\">\n                            <div className=\"rce-citem-body--bottom-title\">\n                                {this.props.subtitle}\n                            </div>\n                            <div className=\"rce-citem-body--bottom-status\">\n                                {\n                                    this.props.unread > 0 &&\n                                    <span>{this.props.unread}</span>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nChatItem.defaultProps = {\n    id: '',\n    onClick: null,\n    avatar: '',\n    avatarFlexible: false,\n    alt: '',\n    title: '',\n    subtitle: '',\n    date: new Date(),\n    unread: 0,\n    statusColor: null,\n    statusColorType: 'badge',\n    statusText: null,\n    dateString: null,\n    lazyLoadingImage: undefined,\n    onAvatarError: () => void(0),\n}\n\nexport default ChatItem;\n","import React, { Component } from 'react';\nimport './ChatList.css';\n\nimport ChatItem from '../ChatItem/ChatItem';\n\nconst classNames = require('classnames');\n\nexport class ChatList extends Component {\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        e.preventDefault();\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onAvatarError(item, i, e) {\n        if (this.props.onAvatarError instanceof Function)\n            this.props.onAvatarError(item, i, e);\n    }\n\n    render() {\n        return (\n            <div\n                ref={this.props.cmpRef}\n                className={classNames('rce-container-clist', this.props.className)}>\n                {\n                    this.props.dataSource.map((x, i) => (\n                        <ChatItem\n                            id={x.id || i}\n                            key={i}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            {...x}\n                            onAvatarError={(e) => this.onAvatarError(x, i, e)}\n                            onContextMenu={(e) => this.onContextMenu(x, i, e)}\n                            onClick={(e) => this.onClick(x, i, e)}/>\n                    ))\n                }\n            </div>\n        );\n    }\n}\n\nChatList.defaultProps = {\n    dataSource: [],\n    onClick: null,\n    lazyLoadingImage: undefined,\n};\n\nexport default ChatList;\n","import React, { Component, } from 'react';\nimport './MessageList.css';\n\nimport MessageBox from '../MessageBox/MessageBox';\n\nimport FaChevronDown from 'react-icons/lib/fa/chevron-down';\n\nconst classNames = require('classnames');\n\nexport class MessageList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            scrollBottom: 0,\n            downButton: false,\n        };\n\n        this.loadRef = this.loadRef.bind(this);\n        this.onScroll = this.onScroll.bind(this);\n    }\n\n    checkScroll() {\n        var e = this.mlistRef;\n        if (!e)\n            return;\n\n        if (this.props.toBottomHeight === '100%' || this.state.scrollBottom < this.props.toBottomHeight) {\n            // scroll to bottom\n            e.scrollTop = e.scrollHeight;\n        } else {\n            if (this.props.lockable === true) {\n                e.scrollTop = e.scrollHeight - e.offsetHeight - this.state.scrollBottom;\n            }\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!this.mlistRef)\n            return;\n        if (nextProps.dataSource.length !== this.props.dataSource.length) {\n            this.setState({\n                scrollBottom: this.getBottom(this.mlistRef),\n            }, this.checkScroll.bind(this));\n        }\n    }\n\n    getBottom(e) {\n        return e.scrollHeight - e.scrollTop - e.offsetHeight;\n    }\n\n    onOpen(item, i, e) {\n        if (this.props.onOpen instanceof Function)\n            this.props.onOpen(item, i, e);\n    }\n\n    onDownload(item, i, e) {\n        if (this.props.onDownload instanceof Function)\n            this.props.onDownload(item, i, e);\n    }\n\n    onPhotoError(item, i, e) {\n      if (this.props.onPhotoError instanceof Function)\n        this.props.onPhotoError(item, i, e);\n    }\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onTitleClick(item, i, e) {\n        if (this.props.onTitleClick instanceof Function)\n            this.props.onTitleClick(item, i, e);\n    }\n\n    onForwardClick(item, i, e) {\n        if (this.props.onForwardClick instanceof Function)\n            this.props.onForwardClick(item, i, e);\n    }\n\n    onReplyClick(item, i, e) {\n        if (this.props.onReplyClick instanceof Function)\n            this.props.onReplyClick(item, i, e);\n    }\n\n    onReplyMessageClick(item, i, e) {\n        if (this.props.onReplyMessageClick instanceof Function)\n            this.props.onReplyMessageClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onMessageFocused(item, i, e) {\n        if (this.props.onMessageFocused instanceof Function)\n            this.props.onMessageFocused(item, i, e);\n    }\n\n    onMeetingMessageClick(item, i, e) {\n        if (this.props.onMeetingMessageClick instanceof Function)\n            this.props.onMeetingMessageClick(item, i, e);\n    }\n\n    loadRef(ref) {\n        this.mlistRef = ref;\n        if (this.props.cmpRef instanceof Function)\n            this.props.cmpRef(ref);\n    }\n\n    onScroll(e) {\n        var bottom = this.getBottom(e.target);\n        this.state.scrollBottom = bottom;\n        if (this.props.toBottomHeight === '100%' || bottom > this.props.toBottomHeight) {\n            if (this.state.downButton !== true) {\n                this.state.downButton = true;\n                this.setState({\n                    downButton: true,\n                    scrollBottom: bottom,\n                });\n            }\n        } else {\n            if (this.state.downButton !== false) {\n                this.state.downButton = false;\n                this.setState({\n                    downButton: false,\n                    scrollBottom: bottom,\n                });\n            }\n        }\n\n        if (this.props.onScroll instanceof Function) {\n            this.props.onScroll(e);\n        }\n    }\n\n    toBottom(e) {\n        if(!this.mlistRef)\n            return;\n        this.mlistRef.scrollTop = this.mlistRef.scrollHeight;\n        if (this.props.onDownButtonClick instanceof Function) {\n            this.props.onDownButtonClick(e);\n        }\n    }\n\n    render() {\n        return (\n            <div\n                className={classNames(['rce-container-mlist', this.props.className])}>\n                <div\n                    ref={this.loadRef}\n                    onScroll={this.onScroll}\n                    className='rce-mlist'>\n                    {\n                        this.props.dataSource.map((x, i) => (\n                            <MessageBox\n                                key={i}\n                                {...x}\n                                onOpen={this.props.onOpen && ((e) => this.onOpen(x, i, e))}\n                                onPhotoError={this.props.onPhotoError && ((e) => this.onPhotoError(x, i, e))}\n                                onDownload={this.props.onDownload && ((e) => this.onDownload(x, i, e))}\n                                onTitleClick={this.props.onTitleClick && ((e) => this.onTitleClick(x, i, e))}\n                                onForwardClick={this.props.onForwardClick && ((e) => this.onForwardClick(x, i, e))}\n                                onReplyClick={this.props.onReplyClick && ((e) => this.onReplyClick(x, i, e))}\n                                onReplyMessageClick={this.props.onReplyMessageClick && ((e) => this.onReplyMessageClick(x, i, e))}\n                                onClick={this.props.onClick && ((e) => this.onClick(x, i, e))}\n                                onContextMenu={this.props.onContextMenu && ((e) => this.onContextMenu(x, i, e))}\n                                onMessageFocused={this.props.onMessageFocused && ((e) => this.onMessageFocused(x, i, e))}\n                                onMeetingMessageClick={this.props.onMeetingMessageClick && ((e) => this.onMeetingMessageClick(x, i, e))}\n                                onMeetingTitleClick={this.props.onMeetingTitleClick}\n                                onMeetingVideoLinkClick={this.props.onMeetingVideoLinkClick}\n                            />\n                        ))\n                    }\n                </div>\n                {\n                    this.props.downButton === true &&\n                    this.state.downButton &&\n                    this.props.toBottomHeight !== '100%' &&\n                    <div\n                        className='rce-mlist-down-button'\n                        onClick={this.toBottom.bind(this)}>\n                        <FaChevronDown/>\n                        {\n                            this.props.downButtonBadge &&\n                            <span\n                                className='rce-mlist-down-button--badge'>\n                                {this.props.downButtonBadge}\n                            </span>\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nMessageList.defaultProps = {\n    onClick: null,\n    onTitleClick: null,\n    onForwardClick: null,\n    onReplyClick: null,\n    onReplyMessageClick: null,\n    onMeetingMessageClick: null,\n    onDownButtonClick: null,\n    onOpen: null,\n    onPhotoError: null,\n    onDownload: null,\n    dataSource: [],\n    lockable: false,\n    toBottomHeight: 300,\n    downButton: true,\n    downButtonBadge: null,\n};\n\nexport default MessageList;\n","import React, { Component } from 'react';\nimport './Input.css';\n\nconst classNames = require('classnames');\n\nexport class Input extends Component {\n    onChange(e) {\n        if (this.props.maxlength && (e.target.value || '').length > this.props.maxlength) {\n            if (this.props.onMaxLengthExceed instanceof Function)\n                this.props.onMaxLengthExceed();\n\n            this.input.value = (e.target.value || '').substring(0, this.props.maxlength);\n            return;\n        }\n\n        if (this.props.onChange instanceof Function)\n            this.props.onChange(e);\n\n        if (this.props.multiline === true) {\n            if (this.props.autoHeight === true) {\n                if (e.target.style.height !== this.props.minHeight + 'px') {\n                    e.target.style.height = this.props.minHeight + 'px';\n                }\n\n                let height;\n                if (e.target.scrollHeight <= this.props.maxHeight)\n                    height = e.target.scrollHeight + 'px';\n                else\n                    height = this.props.maxHeight + 'px';\n\n                if (e.target.style.height !== height) {\n                    e.target.style.height = height;\n                }\n            }\n        }\n    }\n\n    clear() {\n        var event = {\n            FAKE_EVENT: true,\n            target: this.input,\n        };\n\n        if (this.input.value) {\n            this.input.value = '';\n        }\n\n        this.onChange(event);\n    }\n\n    componentDidMount() {\n        if (this.props.autofocus === true)\n            this.input.focus();\n    }\n\n    render() {\n        return (\n            <div className={classNames('rce-container-input', this.props.className)}>\n                {\n                    this.props.leftButtons &&\n                    <div className='rce-input-buttons'>\n                        {this.props.leftButtons}\n                    </div>\n                }\n                {\n                    this.props.multiline === false ?\n                    <input\n                        ref={(ref) => {\n                            if (this.props.inputRef instanceof Function)\n                                this.props.inputRef(ref);\n                            this.input = ref;\n                        }}\n                        type={this.props.type}\n                        className={classNames('rce-input')}\n                        placeholder={this.props.placeholder}\n                        defaultValue={this.props.defaultValue}\n                        style={this.props.inputStyle}\n                        onChange={this.onChange.bind(this)}\n                        onCopy={this.props.onCopy}\n                        onCut={this.props.onCut}\n                        onPaste={this.props.onPaste}\n                        onBlur={this.props.onBlur}\n                        onFocus={this.props.onFocus}\n                        onSelect={this.props.onSelect}\n                        onSubmit={this.props.onSubmit}\n                        onReset={this.props.onReset}\n                        onKeyDown={this.props.onKeyDown}\n                        onKeyPress={this.props.onKeyPress}\n                        onKeyUp={this.props.onKeyUp}/>\n                    :\n                    <textarea\n                        ref={(ref) => {\n                            if (this.props.inputRef instanceof Function)\n                                this.props.inputRef(ref);\n                            this.input = ref;\n                        }}\n                        type={this.props.type}\n                        className={classNames('rce-input', 'rce-input-textarea')}\n                        placeholder={this.props.placeholder}\n                        defaultValue={this.props.defaultValue}\n                        style={this.props.inputStyle}\n                        onChange={this.onChange.bind(this)}\n                        onCopy={this.props.onCopy}\n                        onCut={this.props.onCut}\n                        onPaste={this.props.onPaste}\n                        onBlur={this.props.onBlur}\n                        onFocus={this.props.onFocus}\n                        onSelect={this.props.onSelect}\n                        onSubmit={this.props.onSubmit}\n                        onReset={this.props.onReset}\n                        onKeyDown={this.props.onKeyDown}\n                        onKeyPress={this.props.onKeyPress}\n                        onKeyUp={this.props.onKeyUp}></textarea>\n                }\n                {\n                    this.props.rightButtons &&\n                    <div className='rce-input-buttons'>\n                        {this.props.rightButtons}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nInput.defaultProps = {\n    type: 'text',\n    placeholder: '',\n    defaultValue: '',\n    onChange: null,\n    rightButtons: null,\n    leftButtons: null,\n    multiline: false,\n    minHeight: 25,\n    maxHeight: 200,\n    autoHeight: true,\n    inputStyle: null,\n    inputRef: null,\n    maxlength: null,\n    onMaxLengthExceed: null,\n    autofocus: false,\n};\n\nexport default Input;\n","import React, { Component } from 'react';\nimport './Button.css';\n\nconst classNames = require('classnames');\n\nexport class Button extends Component {\n    render() {\n        return (\n            <button\n                ref={this.props.buttonRef}\n                title={this.props.title}\n                className={classNames('rce-button', this.props.type, this.props.className)}\n                style={{\n                    backgroundColor: this.props.backgroundColor,\n                    color: this.props.color,\n                    borderColor: this.props.backgroundColor\n                }}\n                disabled={this.props.disabled}\n                onClick={this.props.onClick}>\n                {\n                    this.props.icon ?\n                        <span className='rce-button-icon--container'>\n                            {(this.props.icon.float === 'right' || !this.props.icon.float) && <span>{this.props.text}</span>}\n\n                            <span style={{ float: this.props.icon.float, fontSize: this.props.icon.size || 12 }} className='rce-button-icon'>{this.props.icon.component}</span>\n\n                            {this.props.icon.float === 'left' && <span>{this.props.text}</span>}\n                        </span>\n                        : <span>{this.props.text}</span>\n                }\n            </button>\n        );\n    }\n}\n\nButton.defaultProps = {\n    text: '',\n    disabled: false,\n    type: null,\n    icon: null,\n    backgroundColor: '#3979aa',\n    color: 'white',\n    className: null,\n    buttonRef: null,\n    title: null,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport './Navbar.css';\n\nconst classNames = require('classnames');\n\nexport class Navbar extends Component {\n    render() {\n        return (\n            <div className={classNames('rce-navbar', this.props.type, this.props.className)}>\n                <div className=\"rce-navbar-item rce-navbar-item__left\">\n                    {this.props.left}\n                </div>\n                <div className=\"rce-navbar-item rce-navbar-item__center\">\n                    {this.props.center}\n                </div>\n                <div className=\"rce-navbar-item rce-navbar-item__right\">\n                    {this.props.right}\n                </div>\n            </div>\n        );\n    }\n}\n\nNavbar.defaultProps = {\n    left: null,\n    center: null,\n    right: null,\n    type:'light'\n};\n\nexport default Navbar;\n","import React, { Component } from 'react';\nimport './Dropdown.css';\n\nimport Button from '../Button/Button';\n\nconst classNames = require('classnames');\n\nexport class Dropdown extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: undefined,\n        };\n    }\n\n    onBlur(e) {\n        if (this.state.show === true)\n            this.setState({show: false});\n    }\n\n    render() {\n        return (\n            <div className={classNames('rce-dropdown-container', this.props.className)} onBlur={this.onBlur.bind(this)}>\n                {\n                    <Button\n                        {...this.props.buttonProps}\n                        onClick={() => this.setState({ show: !this.state.show })} />\n                }\n                <div\n                    className={classNames(\n                        'rce-dropdown',\n                        this.props.animationType,\n                        'rce-dropdown-open__' + this.props.animationPosition,\n                        { 'dropdown-hide': this.state.show === false },\n                        { 'dropdown-show': this.state.show === true })}>\n\n                        <ul>\n                            {\n                                this.props.title &&\n                                <span className='rce-dropdown-title'>{this.props.title}</span>\n                            }\n                            {\n                                this.props.items.map((x, i) => (\n                                    <li key={i} onMouseDown={(e) => this.props.onSelect(i)}>\n                                        {\n                                            x instanceof Object ?\n                                                x.icon ?\n                                                    <span className='rce-button-icon--container'>\n                                                        {(x.icon.float === 'right' || !x.icon.float) && <a>{x.text}</a>}\n\n                                                        <span style={{ float: x.icon.float, color: x.icon.color, fontSize: x.icon.size || 12 }} className={classNames('rce-button-icon', x.icon.className)}>{x.icon.component}</span>\n\n                                                        {x.icon.float === 'left' && <a>{x.text}</a>}\n                                                    </span>\n                                                    : <a>{x.text}</a>\n                                            :\n                                            <a>{x}</a>\n                                        }\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                </div>\n            </div>\n        );\n    }\n}\n\nDropdown.defaultProps = {\n    animationType: 'default',\n    animationPosition: 'nortwest',\n    items: [],\n    onSelect: Function,\n    buttonProps: null\n};\n\nexport default Dropdown;\n","import React, { Component } from 'react';\nimport './SideBar.css';\n\nconst classNames = require('classnames');\n\nexport class SideBar extends Component {\n    render() {\n        return (\n            <div className={classNames('rce-sbar', this.props.type, this.props.className)}>\n                <div className=\"rce-sbar-item\">\n                    {this.props.top}\n                </div>\n                <div className=\"rce-sbar-item rce-sbar-item__center\">\n                    {this.props.center}\n                </div>\n                <div className=\"rce-sbar-item\">\n                    {this.props.bottom}\n                </div>\n            </div>\n        );\n    }\n}\n\nSideBar.defaultProps = {\n    top: null,\n    center: null,\n    bottom: null,\n    type: 'dark',\n}\n\nexport default SideBar;\n","import React, { Component } from 'react';\nimport './Popup.css';\n\nimport Button from '../Button/Button';\n\nconst classNames = require('classnames');\n\nexport class Popup extends Component {\n    render() {\n        if (this.props.show === true)\n        return (\n            <div className={classNames('rce-popup-wrapper', this.props.type, this.props.className)}>\n                <div className=\"rce-popup\">\n                    {\n                        this.props.renderHeader ?\n                            <div className=\"rce-popup-header\">\n                                {this.props.renderHeader()}\n                            </div>\n                        :\n                        <div className=\"rce-popup-header\">\n                            <span>{this.props.header}</span>\n                            {\n                                this.props.header &&\n                                this.props.headerButtons.map((x, i) => (\n                                    <Button\n                                        key={i}\n                                        {...x}/>\n                                ))\n                            }\n                        </div>\n                    }\n                    <div className=\"rce-popup-content\" style={{color: this.props.color}}>\n                        {\n                            this.props.renderContent ?\n                                this.props.renderContent()\n                            :\n                            this.props.text\n                        }\n                    </div>\n                    <div className=\"rce-popup-footer\">\n                        {\n                            this.props.renderFooter ?\n                                this.props.renderFooter()\n                            :\n                            this.props.footerButtons.map((x, i) => (\n                                <Button\n                                    key={i}\n                                    {...x}/>\n                            ))\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n        return null;\n    }\n}\n\nPopup.defaultProps = {\n    show: false,\n    header: null,\n    text: null,\n    headerButtons: [],\n    footerButtons: [],\n    renderHeader: null,\n    renderContent: null,\n    renderFooter: null,\n    color: '#333',\n};\n\nexport default Popup;\n","import React, { Component } from 'react';\nimport './MeetingItem.css';\n\nimport MdVideoCall from 'react-icons/lib/md/video-call';\nimport MdLink from 'react-icons/lib/md/link';\nimport MdCall from 'react-icons/lib/md/call';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class MeetingItem extends Component {\n\n    render() {\n        const statusColorType = this.props.statusColorType;\n        const AVATAR_LIMIT = this.props.avatarLimit;\n\n        const dateText = this.props.date && !isNaN(this.props.date) && (\n            this.props.dateString ||\n            format(this.props.date)\n        );\n\n        const subject = this.props.subject.substring(0, this.props.subjectLimit) + (this.props.subject.length > this.props.subjectLimit ? '...' : '');\n\n        return (\n            <div\n                className={classNames('rce-container-mtitem', this.props.className)}\n                onClick={this.props.onClick}\n                onContextMenu={this.props.onContextMenu}>\n                <div className=\"rce-mtitem\">\n                    <div className=\"rce-mtitem-top\">\n                        <div className=\"rce-mtitem-subject\">\n                            {subject}\n                        </div>\n                        <div\n                            className=\"rce-mtitem-share\"\n                            onClick={this.props.onShareClick}>\n                            <MdLink />\n                        </div>\n                    </div>\n                    <div className=\"rce-mtitem-body\">\n                        <div className=\"rce-mtitem-body--avatars\">\n                            {\n                                this.props.avatars.slice(0, AVATAR_LIMIT).map((x, i) => x instanceof Avatar ? x : (\n                                    <Avatar\n                                        key={i}\n                                        src={x.src}\n                                        alt={x.alt}\n                                        className={x.statusColorType === 'encircle' ? 'rce-mtitem-avatar-encircle-status' : ''}\n                                        size={'small'}\n                                        letterItem={x.letterItem}\n                                        sideElement={\n                                            x.statusColor &&\n                                            <span\n                                                className='rce-mtitem-status'\n                                                style={statusColorType === 'encircle' ? {\n                                                    boxShadow: `inset 0 0 0 2px ${x.statusColor}, inset 0 0 0 5px #FFFFFF`\n                                                } : {\n                                                    backgroundColor: x.statusColor,\n                                                }}>\n                                                {x.statusText}\n                                            </span>\n                                        }\n                                        onError={this.props.onAvatarError}\n                                        lazyLoadingImage={this.props.lazyLoadingImage}\n                                        type={classNames('circle', {'flexible': this.props.avatarFlexible})}/>\n                                ))\n                            }\n\n                            {\n                                this.props.avatars.length > AVATAR_LIMIT &&\n                                <div className='rce-avatar-container circle small rce-mtitem-letter'>\n                                    <span>\n                                        {'+' + (this.props.avatars.length - AVATAR_LIMIT)}\n                                    </span>\n                                </div>\n                            }\n                        </div>\n                        <div className=\"rce-mtitem-body--functions\">\n                            {\n                                this.props.closable &&\n                                <div\n                                    className=\"rce-mtitem-closable\"\n                                    onClick={this.props.onCloseClick}>\n                                    <MdCall />\n                                </div>\n                            }\n                            <div\n                                className='rce-mtitem-button'\n                                onClick={this.props.onMeetingClick}>\n                                <MdVideoCall />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"rce-mtitem-footer\">\n                        <span className='rce-mtitem-date'>\n                            {dateText}\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nMeetingItem.defaultProps = {\n    id: '',\n    subject: '',\n    subjectLimit: 60,\n    onClick: null,\n    avatarFlexible: false,\n    alt: '',\n    title: '',\n    subtitle: '',\n    date: new Date(),\n    dateString: '',\n    lazyLoadingImage: undefined,\n    avatarLimit: 5,\n    avatars: [],\n    onAvatarError: () => void(0),\n    onMeetingClick: () => void(0),\n    onShareClick: () => void(0),\n}\n\nexport default MeetingItem;\n","import React, { Component } from 'react';\nimport './MeetingList.css';\n\nimport MeetingItem from '../MeetingItem/MeetingItem';\n\nconst classNames = require('classnames');\n\nexport class MeetingList extends Component {\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        e.preventDefault();\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onAvatarError(item, i, e) {\n        if (this.props.onAvatarError instanceof Function)\n            this.props.onAvatarError(item, i, e);\n    }\n\n    onMeetingClick(item, i, e) {\n        if (this.props.onMeetingClick instanceof Function)\n            this.props.onMeetingClick(item, i, e);\n    }\n\n    onShareClick(item, i, e) {\n        if (this.props.onShareClick instanceof Function)\n            this.props.onShareClick(item, i, e);\n    }\n\n    onCloseClick(item, i, e) {\n        if (this.props.onCloseClick instanceof Function)\n            this.props.onCloseClick(item, i, e);\n    }\n\n    render() {\n        return (\n            <div\n                ref={this.props.cmpRef}\n                className={classNames('rce-container-mtlist', this.props.className)}>\n                {\n                    this.props.dataSource.map((x, i) => (\n                        <MeetingItem\n                            id={x.id || i}\n                            key={i}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            {...x}\n                            onAvatarError={(e) => this.onAvatarError(x, i, e)}\n                            onContextMenu={(e) => this.onContextMenu(x, i, e)}\n                            onClick={(e) => this.onClick(x, i, e)}\n                            onMeetingClick={(e) => this.onMeetingClick(x, i, e)}\n                            onShareClick={(e) => this.onShareClick(x, i, e)}\n                            onCloseClick={(e) => this.onCloseClick(x, i, e)}/>\n                    ))\n                }\n            </div>\n        );\n    }\n}\n\nMeetingList.defaultProps = {\n    dataSource: [],\n    onClick: null,\n    lazyLoadingImage: undefined,\n};\n\nexport default MeetingList;\n","import React, { useState, Component, useEffect, useContext } from 'react';\nimport axios from 'axios'\n\nimport './EstiloChat.css'\nimport {\n    ChatItem,\n    ChatList,\n    MessageList,\n    Input,\n    Button,\n    SideBar,\n} from './ComponentesChat'; \nimport {IconButton, Button as Boton} from '@material-ui/core/';\nimport {KeyboardReturn as Atras, StarRate} from '@material-ui/icons/';\nimport AlertaSi_No from '../AlertaSi_No.js';\nimport AlertaMensaje from '../AlertaMensaje.js';\nimport you from './Miniatura.png'\n\n\n//import loremIpsum from 'lorem-ipsum';\n//import Identicon from './identicon.js';  \nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\nimport Estilos from '../Estilos.js'\n\nexport function Chat(){\n    const classes = Estilos();\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\n    const [cargando, setcargando] = useState(false)\n    const [chats, setchats] = useState([])\n    const [chatsOrdenados, setchatsOrdenados] = useState([])\n    const [mensajes, setmensajes] = useState([]);\n    const [chatSeleccionado, setchatSeleccionado] = useState(null);\n    const [confirmacion, setconfirmacion] = useState(false);\n    const [abrir, setabrir] = useState(false);\n    const [deshabilitado, setdeshabilitado] = useState(false);\n    \n    const [contenido, setcontenido] = useState(\"\");\n    const [atras, setatras] = useState(false);\n    \n    useEffect(()=>{\n        let auth = 'Bearer '+state.jwt;\n        setcargando(true)\n        if(state.jwt!==\"\"){\n            axios.get(state.servidor+\"/api/chats/\",{\n                headers: {'Authorization': auth},\n              })\n            .then(response => {\n                //Obtenemos todos los chats del sistema y filtramos segun el id de receptor o emisor\n                let chats_ = response.data.filter(chat => (chat.receptor.id === state.datosSesion.id || chat.emisor.id === state.datosSesion.id))\n                \n                setchats(chats_.map((chat)=>{\n                    let emisor = `${chat.emisor.nombre} ${chat.emisor.apellido}`\n                    let receptor = `${chat.receptor.nombre} ${chat.receptor.apellido}`\n                    let img_emisor = chat.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chat.emisor.imagen_perfil.url\n                    let img_receptor = chat.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chat.receptor.imagen_perfil.url\n                    \n                    //Establecemos el objeto de mensaje (de la interfaz), con los mensajes del respectivo chat\n                    let msjs = chat.mensajes.map((mensaje)=>({\n                        position: mensaje.enviado_por?'right':'left',\n                        forwarded: false,\n                        replyButton: false,\n                        reply: null,\n                        meeting: null,\n                        type: \"text\",\n                        theme: 'white',\n                        view: 'list',\n                        title: mensaje.enviado_por?emisor:receptor,\n                        titleColor: \"#EB7887\",\n                        text: mensaje.contenido,\n                        onLoad: () => {\n                            console.log('Photo loaded');\n                        },\n                        status: null,\n                        date: new Date(mensaje.created_at),\n                        onReplyMessageClick: () => {\n                            console.log('onReplyMessageClick');\n                        },\n                        avatar: mensaje.enviado_por?img_emisor:img_receptor,\n                    }\n                    ))\n                    let img_categoria = null\n                    let img_solicitud = null\n                    if (chat.solicitud===null){\n                        img_categoria = chat.categoria.imagen===null?state.imagen_predeterminada:state.servidor+chat.categoria.imagen.url\n                    }else{\n                        img_solicitud = chat.solicitud.imagenes.length===0?state.imagen_predeterminada:state.servidor+chat.solicitud.imagenes[0].url\n                    }\n                    setcargando(false)\n                    return {\n                        chat:{\n                            id: chat.id,\n                            avatar: chat.solicitud===null?img_categoria:img_solicitud,\n                            avatarFlexible: true,\n                            statusColor: 'lightgreen',\n                            statusColorType: 'encircle',\n                            alt: \"Imagen de perfil\",\n                            title: chat.solicitud===null?chat.categoria.nombre:chat.solicitud.titulo,\n                            date: new Date(chat.mensajes[chat.mensajes.length-1].created_at),\n                            subtitle: chat.mensajes[chat.mensajes.length-1].contenido,\n                            unread: state.datosSesion.id===chat.emisor.id?chat.noleido_emisor:chat.noleido_receptor,\n                            mensajes: msjs,\n                            emisor: chat.emisor,\n                            receptor: chat.receptor,\n                            noleido_emisor: chat.noleido_emisor,\n                            noleido_receptor: chat.noleido_receptor,\n                            categoria: chat.categoria,\n                            solicitud: chat.solicitud,\n                            peticion: chat.peticion\n                        }\n                    }\n                }))\n            })\n            .catch(error => {\n                alert(\"Un error ha ocurrido al cargar los chats.\")\n                console.log(error.response)\n            }) \n        }\n    },[state.jwt])\n\n    useEffect(()=>{\n        if(chats.length!==0){\n            //console.log(chats)\n            setchatSeleccionado(chats[0].chat)\n            setmensajes(chats[0].chat.mensajes)\n        }\n    },[chats])\n\n    useEffect(() => {\n        if (chatSeleccionado!==null && chatSeleccionado.peticion)\n            setdeshabilitado(true)\n    }, [chatSeleccionado])\n\n    function actualizarMensajes(chat){\n        setmensajes(chat.mensajes)\n        setchatSeleccionado(chat)\n        setatras(false)\n        let auth = 'Bearer '+state.jwt;\n\n        //Si abrimos el chat debemos actualizar el valor de los mensajes no leidos a 0\n        let obj_leido = {}\n        if(state.datosSesion.id===chat.emisor.id){\n            obj_leido[\"noleido_emisor\"]= 0\n        }else{\n            obj_leido[\"noleido_receptor\"] = 0\n        }\n        axios.put(state.servidor+\"/api/chats/\"+chat.id,obj_leido,{\n            headers: {'Authorization': auth},\n        }).then(response => {\n            console.log(response.data)\n        })\n        //////////////////////////////////////////////////////////////////////////////////\n\n        //Buscamos todos los mensajes del chat seleccionado\n        axios.get(state.servidor+\"/api/chats/\"+chat.id,{\n            headers: {'Authorization': auth},\n          })\n        .then(response => {\n            let emisor = `${response.data.emisor.nombre} ${response.data.emisor.apellido}`\n            let receptor = `${response.data.receptor.nombre} ${response.data.receptor.apellido}`\n            let img_emisor = response.data.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+response.data.emisor.imagen_perfil.url\n            let img_receptor = response.data.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+response.data.receptor.imagen_perfil.url\n            \n            //Establecemos el objeto de mensaje (de la interfaz), con los mensajes del respectivo chat\n            let msjs = response.data.mensajes.map((mensaje, i)=>({\n                position: mensaje.enviado_por?'right':'left',\n                forwarded: false,\n                replyButton: false,\n                reply: null,\n                meeting: null,\n                type: \"text\",\n                theme: 'white',\n                view: 'list',\n                title: mensaje.enviado_por?emisor:receptor,\n                titleColor: \"#EB7887\",\n                text: mensaje.contenido,\n                onLoad: () => {\n                    console.log('Photo loaded');\n                },\n                status: null,\n                date: new Date(mensaje.created_at),\n                onReplyMessageClick: () => {\n                    console.log('onReplyMessageClick');\n                },\n                avatar: mensaje.enviado_por?img_emisor:img_receptor,\n            }\n            ))\n            setmensajes(msjs)\n            setdeshabilitado(response.data.peticion)\n            console.log(\"Mensaje:\",msjs)\n        })\n        .catch(error => {\n            alert(\"Un error ha ocurrido al cargar los mensajes.\")\n            console.log(error.response)\n        }) \n    }\n\n    function agregarMensaje() {\n        let auth = 'Bearer '+state.jwt;\n        if(chatSeleccionado!==null){\n            let emisor = `${chatSeleccionado.emisor.nombre} ${chatSeleccionado.emisor.apellido}`\n            let receptor = `${chatSeleccionado.receptor.nombre} ${chatSeleccionado.receptor.apellido}`\n            let img_emisor = chatSeleccionado.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chatSeleccionado.emisor.imagen_perfil.url\n            let img_receptor = chatSeleccionado.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chatSeleccionado.receptor.imagen_perfil.url\n\n            //Se actualiza el arreglo de mensajes\n            setmensajes([...mensajes, {\n                position: state.datosSesion.id===chatSeleccionado.emisor.id?'right':'left',\n                forwarded: false,\n                replyButton: false,\n                reply: null,\n                meeting: null,\n                type: \"text\",\n                theme: 'white',\n                view: 'list',\n                title: state.datosSesion.id===chatSeleccionado.emisor.id?emisor:receptor,\n                titleColor: \"#EB7887\",\n                text: contenido,\n                onLoad: () => {\n                    console.log('Photo loaded');\n                },\n                status: null,\n                date: new Date(),\n                onReplyMessageClick: () => {\n                    console.log('onReplyMessageClick');\n                },\n                avatar: state.datosSesion.id===chatSeleccionado.emisor.id?img_emisor:img_receptor,\n            }])\n            console.log(\"Mensajes\", mensajes)\n            //Se enva un nuevo mensaje al emisor o receptor\n            axios.post(state.servidor+\"/api/mensajes/\",{\n                chat: chatSeleccionado.id,\n                enviado_por: state.datosSesion.id===chatSeleccionado.emisor.id,\n                contenido: contenido,\n            },{\n                headers: {'Authorization': auth},\n            })\n            .then(response => {\n                console.log(response.data)\n            })\n            .catch(error => {\n                alert(\"Un error ha ocurrido al cargar los mensajes.\")\n                console.log(error.response)\n            }) \n\n            /////////////////////////////////////////////////////////////////////////////////\n            //Si se envia un mensaje, entonces aumentamos la cantidad de mensajes no leidos, ya sea del receptor como emisor\n            let obj_noleido = {}\n            console.log(chatSeleccionado)\n            if(state.datosSesion.id===chatSeleccionado.emisor.id){\n                obj_noleido[\"noleido_receptor\"] = chatSeleccionado.noleido_receptor+1\n                let vari = chatSeleccionado\n                vari.noleido_receptor++\n                setchatSeleccionado(vari)\n            }else{\n                obj_noleido[\"noleido_emisor\"]= chatSeleccionado.noleido_emisor+1\n                let vari = chatSeleccionado\n                vari.noleido_receptor++\n                setchatSeleccionado(vari)\n            }\n            axios.put(state.servidor+\"/api/chats/\"+chatSeleccionado.id,obj_noleido,{\n                headers: {'Authorization': auth},\n            }).then(response => {\n                console.log(response.data)\n            })\n        }\n    }\n\n    useEffect(() => {\n        if (chats.length!==0){\n            console.log(chats.sort((a, b) => a.chat.mensajes[a.chat.mensajes.length-1].date.getTime() > b.chat.mensajes[b.chat.mensajes.length-1].date.getTime()))\n        }\n    }, [chats])\n\n    function enviarNotificacion(boole){\n        setconfirmacion(false)\n        if (boole){\n            let auth = 'Bearer '+state.jwt;\n            //Seteamos los ids de emisores y receptores de la notificacin\n            let emisor = chatSeleccionado.receptor.id\n            let receptor = chatSeleccionado.emisor.id\n            \n            if (chatSeleccionado.solicitud!==null){\n                //Si el tipo de la solicitud es false, significa que es una solicitud y que el emisor de la notificacin es el emisor del chat\n                if (!chatSeleccionado.solicitud.tipo){\n                    emisor = chatSeleccionado.emisor.id\n                    receptor = chatSeleccionado.receptor.id\n                }\n            }\n            axios.post(\n                state.servidor+\"/api/notificaciones/\",{\n                    tipo: 2,\n                    emisor: emisor,\n                    receptor: receptor,\n                    solicitud: chatSeleccionado.solicitud===null?null:chatSeleccionado.solicitud.id,\n                    datos_notificacion: chatSeleccionado.categoria===null?\"\":String(chatSeleccionado.categoria.id+\"_\"+chatSeleccionado.categoria.nombre),\n                    leido: false\n                },\n                {headers: {'Authorization': auth},})\n            .then(response => {\n                console.log(\"Se ha podido crear la notificacion: \",response.data)\n                let auth = 'Bearer '+state.jwt;\n                axios.put(state.servidor+\"/api/chats/\"+chatSeleccionado.id,{\n                    peticion: true\n                },{\n                    headers: {'Authorization': auth},\n                }).then(response => {\n                    console.log(response.data)\n                    setdeshabilitado(true)\n                })\n                setabrir(true)\n            })\n            .catch(error => {\n                console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\n                alert(\"Error, no se ha podido crear la notificacion.\")\n            })\n        }\n    }\n\n    return (\n        <div className='container' >\n            <div className='chat-list' className={atras?classes.EstiloMovil:classes.EstiloPC}>\n                <SideBar\n                    top={\n                        <div>\n                            \n                        </div>\n                    }\n                    center={\n                        <ChatList className='chat-list' onClick={(e)=>{actualizarMensajes(e)}} dataSource={chats.map(chat=>(chat.chat))}/>\n                    }\n                    bottom={\n                        <div>\n                            \n                        </div>\n                    }/>\n            </div>\n            <IconButton\n                className={classes.EstiloMovil}\n                style={{\n                    position: atras?\"relative\":\"absolute\",\n                    left: \"0px\",\n                    top: \"70px\",\n                    zIndex: 100,\n                }}\n                onClick={()=>{setatras(!atras)}}\n            >\n                <Atras/>\n            </IconButton>\n            <div className={atras?classes.EstiloPC:classes.EstiloVacio} className='right-panel'>\n                {\n                    chatSeleccionado!==null &&\n                        <ChatItem\n                            avatar={chatSeleccionado.avatar}\n                            alt={'Reactjs'}\n                            title={chatSeleccionado.title}\n                            subtitle={chatSeleccionado.emisor.id===state.datosSesion.id?\n                                `${chatSeleccionado.receptor.nombre} ${chatSeleccionado.receptor.apellido}`:\n                                `${chatSeleccionado.emisor.nombre} ${chatSeleccionado.emisor.apellido}`}\n                            date={null}\n                            unread={0}\n                        />\n                }\n                {\n                    chatSeleccionado!==null && !atras &&\n                    (chatSeleccionado.solicitud===null?(chatSeleccionado.receptor.id===state.datosSesion.id):\n                    (chatSeleccionado.solicitud.tipo?chatSeleccionado.receptor.id===state.datosSesion.id:chatSeleccionado.emisor.id===state.datosSesion.id)) &&\n                        <div>\n                            <Boton disabled={deshabilitado} onClick={()=>setconfirmacion(true)} color=\"primary\" className={classes.BotonSolicitar} variant=\"contained\">\n                                Peticin de resea\n                            </Boton>\n                            <Boton disabled={deshabilitado} onClick={()=>setconfirmacion(true)} color=\"primary\" className={classes.BotonSolicitarMovil} variant=\"contained\">\n                                <StarRate/>\n                            </Boton>\n                        </div>\n                }\n                {\n                    confirmacion &&\n                    <AlertaSi_No\n                    mensaje=\"Esta accin solo se debe realizar cuando ya se haya cumplido con el servicio pactado. Est seguro que quiere enviar la peticin?\"\n                    funcionAceptar={enviarNotificacion}\n                    titulo=\"Enviar peticin de resea al cliente\"/> \n                }\n                <AlertaMensaje mensaje=\"Peticin de resea enviada!\" setabrir={setabrir} abrir={abrir}/>\n                <MessageList\n                    className='message-list'\n                    lockable={true}\n                    downButtonBadge={10}\n                    dataSource={mensajes}\n                />\n                {\n                    chatSeleccionado!==null &&\n                    <Input\n                    placeholder=\"Escribe tu mensaje.\"\n                    defaultValue=\"\"\n                    onChange={(e)=>{setcontenido(e.target.value)}}\n                    //ref='input'\n                    multiline={true}\n                    // buttonsFloat='left'\n                    onKeyPress={(e) => {\n                        if (e.shiftKey && e.charCode === 13) {\n                            return true;\n                        }\n                        if (e.charCode === 13) {\n                            agregarMensaje();\n                            e.preventDefault();\n                            return false;\n                        }\n                    }}\n                    rightButtons={\n                        <Button\n                            color='white'\n                            backgroundColor='black'\n                            text='Enviar'\n                            onClick={()=>{agregarMensaje()}} />\n                    } />\n                }\n            </div>\n        </div>\n    );\n    \n}\n\nexport default Chat;\n","import React, {useContext} from 'react';\r\nimport './App.css';\r\n//Enrutamiento\r\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\r\n\r\n//Material-UI\r\nimport {CssBaseline, Container} from '@material-ui/core/';\r\n\r\n//Componentes de vistas\r\nimport Nav from './componentes/Nav.js';\r\nimport Footer from './componentes/Footer.js';\r\nimport Categoria from './componentes/Categoria/Categoria.js';\r\nimport Registrar from './componentes/Sesion/Registrar.js';\r\nimport InicioSesion from './componentes/Sesion/InicioSesion.js';\r\nimport Inicio from './componentes/Inicio/Inicio.js';\r\nimport Publicacion from './componentes/Publicacion/Publicacion.js';\r\nimport ModificarPerfilProveedor from './componentes/Proveedor/ModificarPerfilProveedor.js';\r\nimport MiPerfil from './componentes/Proveedor/MiPerfil.js';\r\nimport CrearPublicacion from './componentes/Publicacion/CrearPublicacion.js';\r\nimport GestionarReportes from './componentes/GestionAdministrador/GestionarReportes.js';\r\nimport VerificarIdentidad from './componentes/GestionAdministrador/VerificarIdentidad.js';\r\nimport PestanaReportes from './componentes/GestionAdministrador/PestanaReportes.js';\r\nimport RegistrarSesion from './componentes/Sesion/Registrar.js';\r\nimport MisPublicaciones from './componentes/Publicacion/MisPublicaciones.js';\r\nimport PreguntasFrecuentes from './componentes/Footer/PreguntasFrecuentes.js';\r\nimport SobreNosotros from './componentes/Footer/SobreNosotros.js';\r\nimport AdministrarCategorias from './componentes/GestionAdministrador/AdministrarCategorias.js';\r\nimport VerificarMiIdentidad from './componentes/Proveedor/VerificarMiIdentidad.js';\r\nimport Notificaciones from './componentes/Notificaciones/Notificaciones.js';\r\n\r\nimport Chat from './componentes/Chat/Chat.js';\r\n\r\nimport { ObtenerEstado, ProveerEstadoCategoria } from './Estados/CategoriaEstado'\r\nimport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion } from './Estados/AplicacionEstado'\r\n\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport Tema from './Tema'\r\nimport TemaClaro from './TemaClaro'\r\nimport TemaServia from './TemaServia'\r\n\r\n//\"typography\": {\"fontFamily\": \"['Century Gothic','Roboto','Arial','sans-serif']\"}\r\n\r\nconst theme = createMuiTheme(TemaServia);\r\n\r\nfunction App() { \r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [aux, setaux] = React.useState(false)\r\n  React.useEffect(()=>{\r\n    setaux(true)\r\n  },[])\r\n  return (\r\n    <div className=\"App\" style={{height: \"auto\"}}>\r\n      <ThemeProvider theme={theme}>\r\n        <Router>\r\n        \r\n          <Nav/>\r\n          \r\n          <React.Fragment>\r\n              <CssBaseline/>\r\n                <div style={{minHeight:\"calc(100vh - 130px)\"}} className=\"Fondo\">\r\n                  <Switch>\r\n                    <Route exact path=\"/\"><Inicio tipo={true}/></Route>\r\n                    \r\n                    <Route path=\"/crear-publicacion\">{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<CrearPublicacion modificar={false} tipoPublicacion={true}/>}</Route>\r\n                    <Route path=\"/solicitar-servicio\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<CrearPublicacion modificar={false} tipoPublicacion={false}/>}</Route>\r\n                    <Route path=\"/modificar-publicacion/:id\">{aux && state.datosSesion.tipo<0? <Redirect to=\"/\" />:<CrearPublicacion modificar={true} tipoPublicacion={true}/>}</Route>\r\n                    <Route path=\"/modificar-solicitud-servicio/:id\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<CrearPublicacion modificar={true} tipoPublicacion={false}/>}</Route>\r\n                    \r\n                    <Route path=\"/publicaciones/:id\"><Categoria/></Route>\r\n                    \r\n                    <Route path=\"/registrar\">{aux && state.datosSesion.tipo!==0? <Redirect to=\"/\" />:<RegistrarSesion registrar={true}/>}</Route>\r\n\r\n                    <Route path=\"/modificar-usuario\">{aux && state.datosSesion.tipo===0?<Redirect to=\"/\"/>:<RegistrarSesion registrar={false}/>}</Route>\r\n                    \r\n                    <Route path=\"/publicacion/:id\"><Publicacion/></Route>\r\n                    <Route path=\"/mis-publicaciones\">{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<MisPublicaciones tipoPublicacion={true}/>}</Route>\r\n                    <Route path=\"/mis-servicios-solicitados\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<MisPublicaciones tipoPublicacion={false}/>}</Route>\r\n                    <Route path=\"/modificar-proveedor\">{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<ModificarPerfilProveedor/>}</Route>\r\n                    <Route path=\"/verificar-mi-identidad\">{aux && state.datosSesion.tipo<2?<Redirect to=\"/\" />:<VerificarMiIdentidad/>}</Route>\r\n                    \r\n                    <Route path=\"/verificar-identidad\">{aux && state.datosSesion.tipo!==3? <Redirect to=\"/\" />:<VerificarIdentidad/>}</Route>\r\n                    <Route path=\"/gestionar-reclamos\">{aux && state.datosSesion.tipo!==3? <Redirect to=\"/\" />:<PestanaReportes/>}</Route>\r\n\r\n                    <Route path=\"/perfil-proveedor/:id\"><MiPerfil/></Route>\r\n\r\n                    <Route path=\"/notificaciones\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<Notificaciones/>}</Route>\r\n                    <Route path=\"/mis-chats\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<Chat state={state}/>}</Route>\r\n\r\n                    {/*<Route path=\"/administrar-categorias\">\r\n                      <ProveerEstadoCategoria>\r\n                        <AdministrarCategorias/>\r\n                      </ProveerEstadoCategoria>\r\n                    </Route>*/}\r\n                    \r\n                    <Route path=\"/preguntas-frecuentes\"><PreguntasFrecuentes/></Route>\r\n                    <Route path=\"/sobre-nosotros\"><SobreNosotros/></Route>\r\n                </Switch>\r\n              </div>\r\n          </React.Fragment>\r\n          <Footer/>\r\n        </Router>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React,{useContext} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion } from './Estados/AplicacionEstado'\r\n\r\nfunction Inicial() { \r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  return (\r\n    <ProveerEstadoAplicacion>\r\n      <App/>\r\n    </ProveerEstadoAplicacion>\r\n  )\r\n}\r\nReactDOM.render(\r\n  /*<React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>*/\r\n  <Inicial/>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}